"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[347],{2942:(e,t,i)=>{i.d(t,{Z0:()=>d,ip:()=>u,mm:()=>c});var r=i(81278),n=i(55729),l=i(15342),a=i(43634),o=i(70006),s=i(81664);let d=(0,n.createContext)({openSiteSettings:e=>{},openSharePanel:(e,t)=>{}}),c=e=>{let{push:t}=(0,r.useRouter)(),i=(0,l.CU)();return(0,n.useMemo)(()=>({openSiteSettings:e=>{s.R.emit("openSiteSettings",e)},openSharePanel:async(r,n)=>{let l=()=>s.R.emit("openSharePanel",n);if(r!==e){let e=(0,o.pF)({docId:r});await t(e);let n=i.subscribe(()=>{(0,a.sX)(i.getState())===r&&(l(),n())})}else l()}}),[e,t,i])},u=()=>(0,n.useContext)(d)},3888:(e,t,i)=>{i.d(t,{m:()=>w});var r={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},n=i(73387),l=i(6188),a=i(23050),o=i(13969),s=i(87963),d=i(65789),c=i(55685),u=i(55729),p=e=>{var t;return(null==(t=e.current)?void 0:t.ownerDocument)||document},h=e=>{var t,i;return(null==(i=null==(t=e.current)?void 0:t.ownerDocument)?void 0:i.defaultView)||window},x="chakra-ui:close-tooltip",m=i(8972),g=i(17383),f=i(8749),v=i(20462),b=i(96529),j=i(51118),y=i(18833),_=i(42328),k=i(6029),C=(0,g.B)(y.P.div),w=(0,f.R)((e,t)=>{var i,f;let y,w=(0,v.Vl)("Tooltip",e),R=(0,b.MN)(e),S=(0,j.D)(),{children:A,label:I,shouldWrapChildren:E,"aria-label":T,hasArrow:P,bg:O,portalProps:z,background:M,backgroundColor:D,bgColor:N,motionProps:L,...B}=R,W=null!=(f=null!=(i=null!=M?M:D)?i:O)?f:N;if(W){w.bg=W;let e=(0,b.f4)(S,"colors",W);w[a.O3.arrowBg.var]=e}let F=function(e={}){var t,i;let{openDelay:r=0,closeDelay:m=0,closeOnClick:g=!0,closeOnMouseDown:f,closeOnScroll:v,closeOnPointerDown:b=f,closeOnEsc:j=!0,onOpen:y,onClose:_,placement:k,id:C,isOpen:w,defaultIsOpen:R,arrowSize:S=10,arrowShadowColor:A,arrowPadding:I,modifiers:E,isDisabled:T,gutter:P,offset:O,direction:z,...M}=e,{isOpen:D,onOpen:N,onClose:L}=(0,o.j)({isOpen:w,defaultIsOpen:R,onOpen:y,onClose:_}),{referenceRef:B,getPopperProps:W,getArrowInnerProps:F,getArrowProps:G}=(0,l.E)({enabled:D,placement:k,arrowPadding:I,modifiers:E,gutter:P,offset:O,direction:z}),U=(0,u.useId)(),$=`tooltip-${null!=C?C:U}`,V=(0,u.useRef)(null),X=(0,u.useRef)(),K=(0,u.useCallback)(()=>{X.current&&(clearTimeout(X.current),X.current=void 0)},[]),q=(0,u.useRef)(),H=(0,u.useCallback)(()=>{q.current&&(clearTimeout(q.current),q.current=void 0)},[]),Y=(0,u.useCallback)(()=>{H(),L()},[L,H]),J=(t=V,i=Y,(0,u.useEffect)(()=>{let e=p(t);return e.addEventListener(x,i),()=>e.removeEventListener(x,i)},[i,t]),()=>{let e=p(t),i=h(t);e.dispatchEvent(new i.CustomEvent(x))}),Z=(0,u.useCallback)(()=>{T||X.current||(D&&J(),X.current=h(V).setTimeout(N,r))},[J,T,D,N,r]),Q=(0,u.useCallback)(()=>{K(),q.current=h(V).setTimeout(Y,m)},[m,Y,K]),ee=(0,u.useCallback)(()=>{D&&g&&Q()},[g,Q,D]),et=(0,u.useCallback)(()=>{D&&b&&Q()},[b,Q,D]),ei=(0,u.useCallback)(e=>{D&&"Escape"===e.key&&Q()},[D,Q]);(0,s.M)(()=>p(V),"keydown",j?ei:void 0),(0,s.M)(()=>{if(!v)return null;let e=V.current;if(!e)return null;let t=function e(t){return["html","body","#document"].includes(t.localName)?t.ownerDocument.body:(0,n.sb)(t)&&function(e){let{overflow:t,overflowX:i,overflowY:r}=(e.ownerDocument.defaultView||window).getComputedStyle(e);return/auto|scroll|overlay|hidden/.test(t+r+i)}(t)?t:e("html"===t.localName?t:t.assignedSlot||t.parentElement||t.ownerDocument.documentElement)}(e);return"body"===t.localName?h(V):t},"scroll",()=>{D&&v&&Y()},{passive:!0,capture:!0}),(0,u.useEffect)(()=>{T&&(K(),D&&L())},[T,D,L,K]),(0,u.useEffect)(()=>()=>{K(),H()},[K,H]),(0,s.M)(()=>V.current,"pointerleave",Q);let er=(0,u.useCallback)((e={},t=null)=>({...e,ref:(0,d.Px)(V,t,B),onPointerEnter:(0,c.Hj)(e.onPointerEnter,e=>{"touch"!==e.pointerType&&Z()}),onClick:(0,c.Hj)(e.onClick,ee),onPointerDown:(0,c.Hj)(e.onPointerDown,et),onFocus:(0,c.Hj)(e.onFocus,Z),onBlur:(0,c.Hj)(e.onBlur,Q),"aria-describedby":D?$:void 0}),[Z,Q,et,D,$,ee,B]),en=(0,u.useCallback)((e={},t=null)=>W({...e,style:{...e.style,[a.O3.arrowSize.var]:S?`${S}px`:void 0,[a.O3.arrowShadowColor.var]:A}},t),[W,S,A]);return{isOpen:D,show:Z,hide:Q,getTriggerProps:er,getTooltipProps:(0,u.useCallback)((e={},t=null)=>{let i={...e.style,position:"relative",transformOrigin:a.O3.transformOrigin.varRef};return{ref:t,...M,...e,id:$,role:"tooltip",style:i}},[M,$]),getTooltipPositionerProps:en,getArrowProps:G,getArrowInnerProps:F}}({...B,direction:S.direction});if("string"==typeof A||E)y=(0,k.jsx)(g.B.span,{display:"inline-block",tabIndex:0,...F.getTriggerProps(),children:A});else{let e=u.Children.only(A);y=(0,u.cloneElement)(e,F.getTriggerProps(e.props,e.ref))}let G=!!T,U=F.getTooltipProps({},t),$=G?function(e,t=[]){let i=Object.assign({},e);for(let e of t)e in i&&delete i[e];return i}(U,["role","id"]):U,V=function(e,t){let i={};for(let r of t)r in e&&(i[r]=e[r]);return i}(U,["role","id"]);return I?(0,k.jsxs)(k.Fragment,{children:[y,(0,k.jsx)(_.N,{children:F.isOpen&&(0,k.jsx)(m.Z,{...z,children:(0,k.jsx)(g.B.div,{...F.getTooltipPositionerProps(),__css:{zIndex:w.zIndex,pointerEvents:"none"},children:(0,k.jsxs)(C,{variants:r,initial:"exit",animate:"enter",exit:"exit",...L,...$,__css:w,children:[I,G&&(0,k.jsx)(g.B.span,{srOnly:!0,...V,children:T}),P&&(0,k.jsx)(g.B.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper",children:(0,k.jsx)(g.B.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:w.bg}})})]})})})})]}):(0,k.jsx)(k.Fragment,{children:A})});w.displayName="Tooltip"},7761:(e,t,i)=>{i.d(t,{x:()=>f});var r=i(6029),n=i(20462),l=i(39199),a=i(40313),o=i(79596),s=i(1069),d=i(20644),c=i(64871),u=i(53944),p=i(28144),h=i(99492),x=i(48621),m=i(45143);let g=e=>{let{option:t,isSelected:i,setSelectedOption:o,size:s="sm"}=e,{tab:d}=(0,n.o5)("Tabs",{variant:"soft-rounded",size:s}),c={...d,display:"inline-flex"};return(0,r.jsx)(l.Q,{children:(0,r.jsx)(a.$,{__css:c,"aria-selected":i,leftIcon:t.icon,"aria-label":t.ariaLabel,onClick:()=>o(t),"data-testid":"tab-dropdown-tab-button",isDisabled:t.isDisabled,children:t.label})},t.key)},f=e=>{let{selectedOption:t,setSelectedOption:i,options:n,dropdownButtonLeftIcon:f,dropdownMenuTitle:v,breakpoints:b,isDark:j,size:y="sm",isDisabled:_}=e,k=m.lJ.useGammaBreakpointValue(b||{base:!0,xl:!1});return(0,r.jsx)(l.B,{zIndex:"3",width:["100%","auto"],mt:[4,0],children:k?(0,r.jsxs)(o.W,{closeOnSelect:!0,variant:"tabDropdown",children:[(0,r.jsx)(s.I,{as:a.$,variant:"ghost",size:y,rightIcon:(0,r.jsx)(x.g,{icon:h.Jt$}),fontWeight:"600",color:j?"trueblue.200":"gray.700",...f&&{leftIcon:f},"data-testid":"tab-dropdown-menu",isDisabled:_,children:t.label}),(0,r.jsx)(d.c,{minWidth:"240px",children:(0,r.jsx)(c.i,{defaultValue:t.key,title:v,type:"radio",onChange:e=>{let t=n.find(t=>t.key===e);t&&i(t)},value:t.key,children:n.map(e=>(0,r.jsx)(u.k,{value:e.key,isDisabled:e.isDisabled,children:(0,r.jsxs)(p.z,{alignItems:"center",children:[e.icon,e.label]})},e.key))})})]}):n.map(e=>{let n=e.key===t.key;return(0,r.jsx)(g,{option:e,isSelected:n,setSelectedOption:i,size:y},e.key)})})}},13006:(e,t,i)=>{i.d(t,{w:()=>m});var r=i(6029),n=i(49377),l=i(49942),a=i(28144),o=i(65524),s=i(94283),d=i(66425),c=i(99492),u=i(48621),p=i(80910),h=i(19564),x=i(66897);i(24729);let m=e=>{let{selectedCollaborator:t,idx:i,handleRemoveClick:m}=e,g=t&&(0,x.t)((null==t?void 0:t.email)||""),f=0===i?170:300;return(0,r.jsx)(n.s,{width:0===i?"calc(100% - 100px)":"",className:"searchbartag","data-testid":"searchbartag-collaborator-".concat(t.email),children:(0,r.jsxs)(l.vw,{size:"md",minW:110,...g?{}:{colorScheme:"error",bg:"error.bold.background",color:"error.bold.text"},children:["id"in t?(0,r.jsx)(p.Tz,{label:t.email,"aria-label":t.email,children:(0,r.jsxs)(a.z,{children:[(0,r.jsx)(o.e,{size:"2xs",m:0,name:t.displayName,src:t.profileImageUrl}),(0,r.jsx)(s.E,{textTransform:"capitalize",wordBreak:"break-word",noOfLines:1,maxW:f,lineHeight:"1.5",children:t.displayName})]})}):(0,r.jsx)(p.Tz,{label:g?t.email:(0,r.jsx)(h.x6,{id:"XILg0L"}),"aria-label":t.email,children:(0,r.jsxs)(a.z,{flex:1,children:[(0,r.jsx)(d.jl,{size:6,children:(0,r.jsx)(u.g,{icon:g?c.y_8:c.bxP})}),(0,r.jsx)(s.E,{wordBreak:"break-all",display:"block",height:"100%",width:"100%",noOfLines:1,maxW:f,lineHeight:"1.5",children:t.email})]})}),(0,r.jsx)(l.TV,{onClick:m})]})},"id"in t?t.id:t.email)}},18351:(e,t,i)=>{i.d(t,{k:()=>d});var r=i(6029),n=i(38451),l=i(19564),a=i(55729),o=i(88586),s=i(99038);let d=()=>{let e=(0,n.d)(),[t]=(0,o.Tyr)({refetchQueries:["GetChannelDocActivity","GetChannels"]});return{addDocChannel:(0,a.useCallback)(i=>{let{docId:n,doc:a,channel:d,existingChannels:c=[]}=i,u=n||(null==a?void 0:a.id);if(!u)return void console.error("Invalid docid");let p={input:{docId:u,sharing:[{op:o.wSW.Add,path:"/channels",value:[{channelId:d.id}]}]}},h=(null==a?void 0:a.title)||s.TP,x=[...c,{id:d.id,slug:d.slug,name:d.name,permission:o.aXG.Comment}].sort((e,t)=>e.slug.localeCompare(t.slug,"en"));t({variables:p,update:(e,t)=>{let{data:i}=t;e.writeFragment({id:"Doc:".concat(u),fragment:o.Hr1,data:null==i?void 0:i.updatePublicChannels})},optimisticResponse:{updatePublicChannels:{id:p.input.docId,channels:x}}}).then(()=>{e({title:(0,r.jsx)(l.x6,{id:"7hDHpt",values:{title:h}}),description:(0,r.jsx)(l.x6,{id:"A2xcFn",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP,0:d.name}}),status:"success",duration:5e3,isClosable:!0,position:"top"})},t=>{e({title:(0,r.jsx)(l.x6,{id:"bLdU0Q",values:{title:h,0:d.name}}),description:t.message,duration:null,status:"error",isClosable:!0,position:"top"})})},[t,e]),removeDocChannel:(0,a.useCallback)((i,n)=>{var a;if(!n)return;let d={input:{docId:i.id,sharing:[{op:o.wSW.Remove,path:"/channels",value:[{channelId:n}]}]}};t({variables:d,update:(e,t)=>{let{data:r}=t;e.writeFragment({id:"Doc:".concat(i.id),fragment:o.e34,data:null==r?void 0:r.updatePublicChannels})},optimisticResponse:{updatePublicChannels:{id:d.input.docId,channels:null==(a=i.channels)?void 0:a.filter(e=>e.id!==n)}}}).then(()=>{e({title:(0,r.jsx)(l.x6,{id:"qsnpV6",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP}}),status:"success",duration:1e4,position:"top"})}).catch(t=>{e({title:(0,r.jsx)(l.x6,{id:"+yMzgs"}),description:t.message,status:"error",duration:3e3,isClosable:!0,position:"top"}),console.error("[addRemoveDocChannel] Error removing channel:",t.message)})},[t,e])}}},18640:(e,t,i)=>{i.d(t,{W:()=>o});var r=i(6029),n=i(55729),l=i(87996);let a={width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},o=e=>{let{uppy:t,multiple:i=!1,accept:o=l.RH.join(",")}=e,s=(0,n.useRef)(null),d=(0,n.useMemo)(()=>(0,r.jsx)("input",{ref:s,className:"gamma-uppy-FileInput-input",style:a,type:"file",name:"gamma-file-input",multiple:i,accept:o,onChange:e=>{let i=e.target;i&&i.files&&(Array.from(i.files).forEach(e=>{try{t.addFile({source:"file input",name:e.name,type:e.type,data:e})}catch(e){e.isRestriction?console.warn("[useFileInput] Restriction error:",e):console.error(e)}}),i.value=null)}}),[]),c=(0,n.useCallback)(()=>{var e;null==(e=s.current)||e.click()},[]);return(0,n.useEffect)(()=>{let e=s.current;e&&(t.on("file-removed",()=>{e.value=null}),t.on("complete",()=>{e.value=null}),t.on("transloadit:complete",()=>{e.value=null}))},[]),{inputElement:d,onClick:c}}},20715:(e,t,i)=>{i.d(t,{c:()=>a,d:()=>o});var r=i(95889),n=i(29608),l=i(37605);let a=e=>{let{doc_id:t,source:i,source_doc_id:n,channel:a,extra:o}=e;null===r.zS||void 0===r.zS||r.zS.track(l.VV.DOC_CREATED,{doc_id:t,source_doc_id:n,source:i,channel:a,extra:o})},o=e=>{let{docId:t,type:i,source:a}=e;if(!t)return void console.debug("[trackDocShareLinkCopiedEvent]: doc_id is required");null===r.zS||void 0===r.zS||r.zS.track(l.VV.DOC_SHARELINK_COPIED,{doc_id:t,source:a,type:i,device:(0,n.ZI)()})}},25312:(e,t,i)=>{i.d(t,{F$:()=>eP,ef:()=>eO,qk:()=>ez,_Z:()=>eW,li:()=>t7,_j:()=>it});var r=i(6029),n=i(4501),l=i(38451),a=i(71262),o=i(67039),s=i(33987),d=i(57470),c=i(66425),u=i(7959),p=i(21638),h=i(86747),x=i(29328),m=i(3632),g=i(89696),f=i(40313),v=i(31445),b=i(49377),j=i(99492),y=i(48621),_=i(80910),k=i(19564),C=i(55729),w=i(7761),R=i(82328),S=i(95578),A=i(22445),I=i(39892),E=i(46091),T=i(20715),P=i(24729),O=i(72737),z=i(96804),M=i(44141),D=i(91792),N=i(18341),L=i(2942),B=i(29608),W=i(70006),F=i(94283),G=i(76882),U=(i(75846),i(85678)),$=i(38859),V=i(70205),X=i(65524),K=(i(51684),i(77650)),q=i(38822),H=i.n(q),Y=i(88586),J=i(99038),Z=i(75748),Q=i(11403),ee=i(6807),et=i(65148),ei=i(28144),er=i(88131),en=i(18351);let el=e=>{let{icon:t,showDisabled:i=!1,size:n=8}=e;return(0,r.jsx)(c.jl,{color:"gray.800",textAlign:"center",bg:"gray.200",size:n,opacity:i?.5:1,children:i?(0,r.jsxs)("span",{className:"fa-stack",children:[(0,r.jsx)(y.g,{icon:j.$Dv,className:"fa-stack-1x"}),(0,r.jsx)(y.g,{icon:t,className:"fa-stack-1x"})]}):(0,r.jsx)(y.g,{size:"1x",icon:t})})},ea=e=>{let{channel:t,doc:i,isDisabled:n,showDisabledIcon:l=!1}=e,{removeDocChannel:a}=(0,en.k)(),o=(0,C.useCallback)(()=>{i&&a(i,t.id)},[t.id,i,a]),s=(0,W.gU)({slug:t.slug,id:t.id});return(0,r.jsxs)(ei.z,{py:2,w:"100%",justify:"space-between","data-testid":"workspace-row-".concat(t.id),children:[(0,r.jsx)(c.az,{children:(0,r.jsxs)(b.s,{alignItems:"center",children:[(0,r.jsx)(el,{icon:P.$Q,showDisabled:l}),(0,r.jsx)(c.az,{ml:3,opacity:l?.5:1,children:(0,r.jsx)(er.N,{href:s,target:"_blank",children:t.name})})]})}),(0,r.jsx)(f.$,{size:"sm",variant:"hazardous",onClick:o,isDisabled:n,children:(0,r.jsx)(k.x6,{id:"t/YqKh"})})]},t.id)};var eo=i(45654),es=i(90869),ed=i(9298),ec=i(91767),eu=i(53295),ep=i(10497),eh=i(65007),ex=i(24351);let em=e=>{let{workspaceId:t,docId:i,existingChannels:n,isDisabled:l}=e,a=(0,C.useRef)(null),[o,s]=(0,C.useState)(""),[d,u]=(0,C.useState)([]),[p,h]=(0,C.useState)(!1),{addDocChannel:m}=(0,en.k)(),{data:g,loading:f}=(0,Y.FKb)({variables:{query:o,workspaceId:t},skip:!o});(0,C.useEffect)(()=>{if(f||!g)return;let e=g.search.filter(Boolean);u(e),h(0===e.length)},[g,f]);let v=(0,C.useMemo)(()=>o?d.filter(e=>!n.find(t=>t.id===e.id)):[],[n,o,d]),j=(0,C.useCallback)(e=>{let t=v.find(t=>t.id===e);if(!t)return void console.error("[ChannelSearchBar.addSelectedChannel] No matching channel found");m({docId:i,channel:t,existingChannels:n})},[m,i,n,v]),w=(0,es.dU)("gray.100","gray.700"),R=(0,es.dU)("light","dark"),S=(0,es.dU)("trueblue.50","whiteAlpha.100");return(0,r.jsx)(ed.e,{w:"100%",mb:2,alignItems:"flex-start","data-testid":"sharepanel-channel-search-bar",children:(0,r.jsx)(c.az,{flex:1,children:(0,r.jsxs)(ec.M,{w:"100%",justifyContent:"center",zIndex:1,children:[(0,r.jsx)(b.s,{display:"none",position:"absolute",h:"100%",w:"100%",alignItems:"center",justifyContent:"center",bg:w,zIndex:"overlay",opacity:.4,children:(0,r.jsx)(eu.y,{})}),(0,r.jsxs)(eh.j9,{rollNavigation:!0,multiple:!0,emptyState:()=>!!p&&(0,r.jsx)(b.s,{direction:"column",justify:"center",align:"center",w:"100%",my:6,children:(0,r.jsx)(c.az,{w:"80%",maxW:"200px",mb:6,alignContent:"center",children:(0,r.jsx)(ex.p,{size:"sm",title:(0,r.jsx)(k.x6,{id:"aywdyd"}),description:(0,r.jsx)(k.x6,{id:"kXnLEt"})})})}),suggestWhenEmpty:!1,openOnFocus:!0,filter:()=>!0,onSelectOption:e=>{let{item:t}=e;j(t.value),s("")},children:[(0,r.jsxs)(ep.W,{pointerEvents:"none",color:(0,es.dU)("gray.300","gray.600"),h:"100%",flexDirection:"column",children:[(0,r.jsx)(b.s,{flex:1}),(0,r.jsx)(b.s,{h:10,py:4,alignItems:"center",children:(0,r.jsx)(eo.W,{w:10})})]}),(0,r.jsx)(eh.Rv,{ref:a,"data-testid":"autocomplete-channels-input",cursor:l?"not-allowed":void 0,disabled:l,w:"100%",paddingInlineStart:5,wrapStyles:{px:2},fontSize:"md",placeholder:K.Ru._({id:"KmCmUJ"}),transition:"width 1s ease-in-out",value:o,onChange:e=>{let{target:t}=e,{value:i}=t;s(i),i||u([])}}),(0,r.jsx)(eh.HN,{w:"100%",mt:0,display:o.length>0?"flex":"none","data-theme":R,children:v.length>0&&v.map(e=>{let{id:t,name:i,memberCount:n,isMember:l,members:a}=e;return(0,r.jsx)(eh.qF,{"data-testid":"autocomplete-item-channel-".concat(t),value:{id:e.id},getValue:e=>e.id,align:"center",_focus:{bg:S},children:(0,r.jsxs)(ei.z,{spacing:4,p:0,flex:1,children:[(0,r.jsx)(c.az,{color:"gray.700",children:(0,r.jsx)(y.g,{icon:P.$Q})}),(0,r.jsxs)(x.B,{spacing:0,flex:"1",children:[(0,r.jsx)(F.E,{children:i}),(0,r.jsx)(F.E,{fontSize:"sm",color:"gray.400",children:l?(0,r.jsx)(k.x6,{id:"tWPlLK",values:{0:n||0}}):(0,r.jsx)(k.x6,{id:"pkIIls",values:{0:n||0}})})]}),(0,r.jsx)(_.KZ,{size:"xs",overflowTooltipLabel:K.Ru._({id:"25VyZX"}),avatars:a||[],max:3,onClick:e=>{e.preventDefault(),e.stopPropagation()}})]})},t)})})]})]})})})};var eg=i(3393),ef=i(76308),ev=i(66897),eb=i(18833),ej=i(36216);let ey=e=>{let{invitationCount:t,isOpen:i,onClose:n,onSendInvitationsClick:l,onDiscardClick:c}=e;return i?(0,r.jsxs)(a.aF,{returnFocusOnClose:!1,onClose:n,closeOnOverlayClick:!0,isOpen:!0,isCentered:!0,children:[(0,r.jsx)(o.m,{}),(0,r.jsxs)(s.$,{children:[(0,r.jsx)(d.r,{children:(0,r.jsx)(k.x6,{id:"tW/kB6",values:{invitationCount:t}})}),(0,r.jsx)(u.s,{}),(0,r.jsx)(h.c,{children:(0,r.jsx)(F.E,{children:(0,r.jsx)(k.x6,{id:"qxNK2k",values:{invitationCount:t}})})}),(0,r.jsx)(v.j,{children:(0,r.jsxs)(x.B,{spacing:2,direction:"row",align:"center",children:[(0,r.jsx)(f.$,{onClick:c,children:(0,r.jsx)(k.x6,{id:"bzSI52"})}),(0,r.jsx)(f.$,{variant:"solid",onClick:l,children:(0,r.jsx)(k.x6,{id:"6dWGPZ",values:{invitationCount:t}})})]})})]})]}):null};var e_=i(95889),ek=i(75570),eC=i(43787),ew=i(79596),eR=i(1069),eS=i(20644),eA=i(64871),eI=i(53944),eE=i(25938),eT=i(35908),eP=function(e){return e.NoAccess="no_access",e}({});let eO={[Y.aXG.Manage]:{title:()=>K.Ru._({id:"DZfDCl"}),description:()=>K.Ru._({id:"r59J7Q"}),longDescription:e=>e?K.Ru._({id:"CoURkK",values:{orgName:e}}):K.Ru._({id:"MZxW5I"})},[Y.aXG.Edit]:{title:()=>K.Ru._({id:"ePK91l"}),description:()=>K.Ru._({id:"kuZsYI"}),longDescription:e=>e?K.Ru._({id:"+9AXnp",values:{orgName:e}}):K.Ru._({id:"NY9Lty"})},[Y.aXG.Comment]:{title:()=>K.Ru._({id:"NBdIgR"}),description:()=>K.Ru._({id:"IwFh5+"}),longDescription:e=>e?K.Ru._({id:"0wXxLJ",values:{orgName:e}}):K.Ru._({id:"3F9J6L"})},[Y.aXG.View]:{title:()=>K.Ru._({id:"jpctdh"}),description:()=>K.Ru._({id:"yzFEXd"}),longDescription:e=>e?K.Ru._({id:"7jJ4tD",values:{orgName:e}}):K.Ru._({id:"Cxivg8"})},no_access:{title:()=>K.Ru._({id:"oPoLg+"}),description:()=>K.Ru._({id:"Vcif8/"}),longDescription:()=>K.Ru._({id:"Vcif8/"})}},ez=e=>{let{isDisabled:t,options:i,disabledOptions:n=[],selected:l,variant:a="ghost",onClick:o=()=>{},onRemove:s}=e;return(0,r.jsxs)(ew.W,{closeOnSelect:!0,children:[(0,r.jsx)(eR.I,{"data-testid":"permission-menu-value-".concat(l),as:f.$,display:"flex",size:"sm",isDisabled:t,variant:a,rightIcon:(0,r.jsx)(y.g,{icon:j.Jt$}),children:eO[l||"no_access"].title()}),(0,r.jsx)(eS.c,{textAlign:"left",zIndex:"overlay",children:(0,r.jsxs)(eA.i,{defaultValue:l,value:l,title:K.Ru._({id:"9cDpsw"}),type:"radio",onChange:e=>{o(e)},children:[i.map(e=>{let t=n.find(t=>t.permission===e),i=t&&t.reason;return(0,r.jsx)(eI.k,{isDisabled:!!t,value:e,alignItems:"start",pt:3,children:(0,r.jsx)(_.Tz,{label:i,"aria-label":i,isDisabled:!t,placement:"top",children:(0,r.jsxs)(c.az,{children:[(0,r.jsx)(F.E,{mt:-1,children:eO[e].title()}),(0,r.jsx)(F.E,{fontSize:"sm",color:"gray.500",mt:1,children:eO[e].description()})]})},e)},e)}),s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eE.N,{}),(0,r.jsx)(eT.D,{color:"red.500",onClick:s,icon:(0,r.jsx)(y.g,{icon:j.yLS,fixedWidth:!0}),children:(0,r.jsx)(k.x6,{id:"t/YqKh"})})]})]})})]})};var eM=i(13006);let eD=(0,eb.P)(c.az),eN=(e,t,i)=>{if(!i)return e;let r=[...e],n=e.findIndex(e=>"email"in e&&e.email===i),l=t.find(e=>e.email===i);return -1!==n&&r.splice(n,1),[...r,l||{email:i}]},eL=(e,t)=>{let i=(0,eC.e7)(t.map(e=>"displayName"in e?e.displayName:e.email),3);return e===Y.aXG.Manage?K.Ru._({id:"4bKxWq",values:{userNames:i,GAMMA_ARTIFACT_PROPER_NOUN:J.TP,0:t.length}}):e===Y.aXG.Edit?K.Ru._({id:"3rbi6Y",values:{userNames:i,GAMMA_ARTIFACT_PROPER_NOUN:J.TP,0:t.length}}):e===Y.aXG.Comment?K.Ru._({id:"uGWY40",values:{userNames:i,GAMMA_ARTIFACT_PROPER_NOUN:J.TP,0:t.length}}):e===Y.aXG.View?K.Ru._({id:"p5IG6F",values:{userNames:i,GAMMA_ARTIFACT_PROPER_NOUN:J.TP,0:t.length}}):K.Ru._({id:"Ai1TAT",values:{userNames:i,GAMMA_ARTIFACT_PROPER_NOUN:J.TP,0:t.length}})},eB=e=>{let{workspaceId:t,docId:i,user:n,existingDocCollaborators:a,existingInvitations:o,registerDoneFn:s,isDisabled:d}=e,u=(0,l.d)(),[p,h]=(0,C.useState)(!1),x=(0,C.useRef)(),m=(0,C.useRef)(null),[g,v]=(0,C.useState)(""),[w,R]=(0,C.useState)([]),[S,A]=(0,C.useState)(Y.aXG.Edit),[I,E]=(0,C.useState)(new ek.c),[T,P]=(0,C.useState)([]),O=T.filter(e=>"email"in e),z=(0,e_.st)(),M=a.map(e=>e.user),{isOpen:D,onOpen:N,onClose:L}=(0,eg.j)({id:"unsentInvitationsModalDisclosure"}),[B,{loading:W,error:G}]=(0,Y.VXs)();(0,Q.KW)("Error inviting collaborators.",G);let U=(0,ej.t)(Y.HdQ),{data:$,loading:V}=(0,Y.puH)({variables:{query:g,workspaceId:t},skip:!g});(0,C.useEffect)(()=>{!V&&$&&R($.search.filter(Boolean))},[$,V]);let q=(0,C.useMemo)(()=>g?w.filter(e=>"User"===e.__typename&&e.id!==n.id&&!O.concat(M).find(t=>t.email===e.email)):[],[w,M,g,O,n.id]),H=!!g&&!q.find(e=>e.email===g),J=S===Y.aXG.Manage&&O.some(e=>!("__typename"in e&&"User"===e.__typename)),Z=T.concat({email:g}).filter(e=>!("email"in e)||(0,ev.t)(e.email||"")),ee=!!T.length,et=!!Z.length;(0,C.useEffect)(()=>{s(()=>()=>(et?N():I.resolve(),I.promise))},[s,I,et,N]);let er=(0,C.useCallback)(async e=>{h(!0),P(t=>e.reduce((e,t)=>eN(e,q,t.trim()),t));let i=(await Promise.all(e.map(e=>U({workspaceId:t,query:e}).then(t=>{var i;return null==(i=t.data)?void 0:i.search.find(t=>"User"===t.__typename&&t.email===e)})))).filter(Boolean);P(t=>e.reduce((e,t)=>eN(e,i,t.trim()),t)),h(!1)},[q,U,t]),en=(0,C.useCallback)(async()=>{if(0===O.length)return;let e=eN(O,q,g.trim()).filter(e=>"email"in e&&(0,ev.t)(e.email||"")),t=[...a,...e.map(e=>{if("id"in e)return{docId:i,user:e,guest:!1,permission:S,__typename:"DocCollaborator"}})].filter(e=>!!e),r=[...o,...e.map(e=>{if(!("id"in e))return{id:"temp",docTitle:"temp-title",invitedBy:n,docId:i,email:e.email,permission:S,__typename:"DocInvitation"}})].filter(e=>!!e);return B({variables:{docId:i,collaborators:e.map(e=>({..."id"in e?{userId:e.id}:{email:e.email},permission:S}))},update:(e,t)=>{let{data:r}=t;e.writeFragment({id:"Doc:".concat(i),fragment:Y.rgw,data:null==r?void 0:r.addCollaborators})},optimisticResponse:{addCollaborators:{id:i,collaborators:t,invitations:r}}}).then(()=>{u({title:K.Ru._({id:"Ka86rB",values:{0:e.length}}),description:eL(S,e),status:"success",duration:5e3,isClosable:!0,position:"top"}),null==z||z.track(e_.VV.DOC_COLLABORATOR_INVITED,{doc_id:i,source:"share-panel",number_of_invites_sent:e.length,permissions:S})})},[B,i,g,S,q,O,a,o,u,n,z]),el=(0,C.useCallback)(async()=>Promise.all([en()]).then(()=>{var e;P([]),v(""),null==(e=x.current)||e.resetItems(!0),I.resolve(),E(new ek.c)}).catch(e=>{console.warn(e)}),[en,I]),ea=d||W||p,ex=(0,es.dU)("light","dark"),em=(0,es.dU)("trueblue.50","whiteAlpha.100"),eb=(0,es.dU)("trueblue.100","whiteAlpha.200");return(0,r.jsxs)(ed.e,{w:"100%",mb:2,alignItems:"flex-start","data-testid":"sharepanel-search-bar",children:[(0,r.jsx)(c.az,{flex:1,children:(0,r.jsxs)(ec.M,{w:"100%",justifyContent:"center",zIndex:2,children:[(0,r.jsx)(b.s,{display:p?"flex":"none",position:"absolute",h:"100%",w:"100%",alignItems:"center",justifyContent:"center",zIndex:"overlay",opacity:.4,children:(0,r.jsx)(eu.y,{})}),(0,r.jsxs)(eh.j9,{ref:x,values:T,maxSelections:100,maxSuggestions:20,creatable:!0,multiple:!0,freeSolo:!0,suggestWhenEmpty:!1,openOnFocus:!0,filter:(e,t)=>!O.find(e=>e.email===t),onSelectOption:e=>{let{item:t}=e,{type:i}=t.originalValue;"collaborator"===i&&P(e=>eN(e,q,t.value)),v("")},onTagRemoved:e=>{P(t=>[...t].filter(t=>"email"in t?t.email!==e:!("id"in t)||t.id!==e))},children:[(0,r.jsxs)(ep.W,{pointerEvents:"none",color:(0,es.dU)("gray.300","gray.600"),h:"100%",flexDirection:"column",children:[(0,r.jsx)(b.s,{flex:1}),(0,r.jsx)(b.s,{h:10,py:4,alignItems:"center",children:(0,r.jsx)(eo.W,{w:10})})]}),(0,r.jsx)(eh.Rv,{ref:m,"data-testid":"autocomplete-collaborators-input",cursor:ea?"not-allowed":void 0,disabled:ea,w:"100%",paddingInlineStart:5,wrapStyles:{px:2},fontSize:"md",placeholder:K.Ru._({id:"P8H57Z"}),transition:"width 1s ease-in-out",value:g,onKeyDown:e=>{let{key:t}=e;if("Backspace"===t&&0===g.length&&T.length>0){let e=T.slice(-1).pop();if(e){var i;null==(i=x.current)||i.removeItem("email"in e?e.email:e.id)}}},onPaste:e=>{e.preventDefault(),e.stopPropagation(),er(e.clipboardData.getData("Text").trim().split(/[,|;\s]+/)),v(""),R([])},onChange:e=>{let{target:t}=e,{value:i}=t;v(i),i||R([])},children:T.map((e,t)=>(0,r.jsx)(eM.w,{idx:t,selectedCollaborator:e,handleRemoveClick:()=>{var t;null==(t=x.current)||t.removeItem(e.email)}},"id"in e?e.id:e.email))}),(0,r.jsx)(eh.HN,{w:"100%",mt:0,display:g.length>0?"flex":"none","data-theme":ex,children:q.map(e=>{let{id:t,email:i,displayName:n,profileImageUrl:l}=e;return(0,r.jsx)(eh.qF,{fixed:!0,"data-testid":"autocomplete-item-user-".concat(t),value:{email:i,type:"collaborator"},getValue:e=>e.email,align:"center",_focus:{bg:em},children:(0,r.jsxs)(ei.z,{children:[(0,r.jsx)(X.e,{size:"sm",name:n,src:l}),(0,r.jsxs)(c.az,{children:[(0,r.jsx)(F.E,{textTransform:"capitalize",children:n}),(0,r.jsx)(F.E,{fontSize:"xs",color:"gray.500",children:null==i?void 0:i.toLowerCase()})]})]})},t)}).concat((0,r.jsx)(eh.qF,{value:{email:g,type:"collaborator"},align:"center",display:H?"flex":"none",_focus:{bg:em},children:(0,r.jsxs)(ei.z,{children:[(0,r.jsx)(c.jl,{bg:eb,size:8,children:(0,r.jsx)(y.g,{icon:j.y_8})}),(0,r.jsx)(F.E,{size:"md",children:g})]})},g))})]}),(0,r.jsx)(ef.z,{in:ee,unmountOnExit:!0,children:(0,r.jsx)(ep.t,{w:"auto",justifyContent:"flex-end",pe:1,children:(0,r.jsx)(ez,{isDisabled:W,options:[Y.aXG.Manage,Y.aXG.Edit,Y.aXG.Comment,Y.aXG.View],variant:"ghost",selected:S,onClick:e=>A(e)})})})]})}),(0,r.jsx)(eD,{overflowX:"hidden",me:-2,transition:"slow",animate:{maxWidth:ee?"200px":"0px"},children:(0,r.jsx)(_.Tz,{label:(0,r.jsx)(k.x6,{id:"Rxin92"}),"aria-label":K.Ru._({id:"Rxin92"}),isDisabled:!J,placement:"top",children:(0,r.jsx)(c.az,{children:(0,r.jsx)(f.$,{variant:"solid",onClick:el,isDisabled:!et||J,isLoading:W,"data-testid":"add-selected-items",children:(0,r.jsx)(k.x6,{id:"m16xKo"})})})})}),(0,r.jsx)(_.L8,{isDark:!1,children:(0,r.jsx)(ey,{invitationCount:Z.length,onDiscardClick:()=>{L(),I.resolve(),E(new ek.c)},onSendInvitationsClick:()=>{L(),el()},onClose:()=>{L(),I.reject(),E(new ek.c)},isOpen:D})})]})},eW=e=>{let{title:t,subtitle:i,img:n,isDisabled:l=!1,disabledText:a,tooltipText:o,testId:s,infoIcon:d,permissionsControl:u,workspaceGuestInvite:p}=e,h="string"==typeof i?(0,r.jsx)(F.E,{fontSize:"xs",color:"gray.500",children:i}):i,x=(0,r.jsx)(_.Tz,{isDisabled:!o,label:o,placement:"top",children:(0,r.jsx)(c.az,{children:u})});return(0,r.jsxs)(ei.z,{w:"100%",justify:"space-between",py:2,"data-testid":"permission-settings-row".concat(s?"-"+s:""),children:[(0,r.jsx)(c.az,{children:(0,r.jsxs)(b.s,{alignItems:"center",children:[n,(0,r.jsxs)(c.az,{marginInlineStart:3,children:[(0,r.jsx)(F.E,{wordBreak:"break-word",noOfLines:1,children:t}),(0,r.jsxs)(b.s,{align:"center",children:[p&&p,h&&h]})]})]})}),(0,r.jsx)(c.az,{children:(0,r.jsx)(_.Tz,{isDisabled:!o,label:(0,r.jsx)(F.E,{children:o}),placement:"top",children:l?(0,r.jsx)(F.E,{size:"sm",color:"gray.500","data-testid":"permission-controls-disabled-".concat(s),children:a}):d?(0,r.jsxs)(ei.z,{children:[d,x]}):x})})]})};var eF=i(31922);let eG=e=>{let{children:t,showDivider:i=!0,isDark:n=!1,...l}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eF.T,{spacing:1,align:"stretch",py:4,...l,children:t}),i&&(0,r.jsx)(p.c,{borderColor:n?"gray.700":"gray.200"})]})};var eU=i(46370),e$=i(66737),eV=i(49224),eX=i(58935),eK=i(6010),eq=i(73925);let eH=e=>{let{email:t,name:i,workspaceName:n,workspaceId:a}=e,[o]=(0,Y.B74)(),[s,d]=(0,C.useState)(!1),c=(0,l.d)(),u=(0,es.dU)(!1,!0),p=u?"gray.900":void 0,h=u?"white":void 0,x=u?"gray.700":void 0,m=u?"var(--chakra-colors-gray-700)":void 0;return(0,r.jsx)(eU.A,{closeOnBlur:!0,children:e=>{let{onClose:l}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e$.W,{children:(0,r.jsx)(f.$,{leftIcon:(0,r.jsx)(y.g,{icon:j.AQM}),size:"xs",colorScheme:"gray",mr:1,px:2,h:"auto",py:1,children:(0,r.jsx)(k.x6,{id:"O1wAlQ"})})}),(0,r.jsxs)(eV.h,{color:h,bgColor:p,borderColor:x,children:[(0,r.jsx)(eX.R,{bgColor:p,sx:m&&{"--popper-arrow-shadow-color":m}}),(0,r.jsx)(eK.D,{fontWeight:"bold",borderColor:x,children:(0,r.jsx)(k.x6,{id:"XYV7FR"})}),(0,r.jsxs)(eq.e,{children:[(0,r.jsx)(F.E,{fontSize:"sm",children:(0,r.jsx)(k.x6,{id:"hJZ5XP",values:{name:i,workspaceName:n,GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:J.Ix}})}),(0,r.jsx)(f.$,{isDisabled:s,w:"100%",mt:2,onClick:()=>{a&&t&&(d(!0),o({variables:{workspaceId:a,invitees:[{email:t}]}}).then(()=>{c({title:K.Ru._({id:"oNCcm2"}),status:"success",duration:5e3,isClosable:!0,position:"top"})}).catch(e=>{console.error(e),c({title:K.Ru._({id:"h37zlR",values:{0:e.message}}),status:"error",isClosable:!0,position:"top"})}).finally(()=>{d(!1),l()}))},children:(0,r.jsx)(k.x6,{id:"qVqqmP"})})]})]})]})}})},eY=(e,t)=>{var i,r;let n="DocCollaborator"===e.__typename?null==(i=e.user.displayName)?void 0:i.toUpperCase():"DocInvitation"===e.__typename?e.email.toUpperCase():"",l="DocCollaborator"===t.__typename?null==(r=t.user.displayName)?void 0:r.toUpperCase():"DocInvitation"===t.__typename?t.email.toUpperCase():"";return!l||n&&n<l?-1:!n||l&&n>l?1:0},eJ=(e,t)=>{if(e.permission!==t.permission){if("manage"===e.permission)return -1;if("manage"===t.permission)return 1}return eY(e,t)},eZ=e=>{var t,i;let{workspaceId:n,isFromOtherOrg:a,doc:o,user:s,setVerifySearchDone:d,canManage:u,isDark:p=!1}=e,h=(0,l.d)(),[x,m]=(0,ee.M)(et.E.hasDismissedDocWorkspaceNotice,!1),{isConnected:g}=(0,Y.utY)(),[f,{error:v}]=(0,Y.VXs)(),[_,{error:C}]=(0,Y.AmA)();(0,Q.KW)("Error updating collaborator.",v),(0,Q.KW)("Error removing collaborator.",C);let[w]=(0,Y.Ix6)(),R=u&&g,S=!a,A=(S&&!x&&o&&o.orgAccess,!!(!(null==o?void 0:o.orgAccess)&&(null==o?void 0:o.channels)&&(null==o?void 0:o.channels.length)>0&&(null==o?void 0:o.channels.every(e=>H()(e.permission))))),I=(0,O.vz)(o),E=(null==o?void 0:o.collaborators)||[],T=(null==o?void 0:o.invitations)||[],P=E.filter(e=>e.permission===Y.aXG.Manage).length,z=[...E,...T].sort(eJ),M=e=>()=>{h({title:"updated"===e?K.Ru._({id:"Xpw8aE"}):K.Ru._({id:"jwO7L7"}),status:"success",duration:5e3,isClosable:!0,position:"top"})},D=o.orgAccess?o.orgAccess:eP.NoAccess,N=D!==eP.NoAccess;return(0,r.jsxs)(b.s,{direction:"column",maxH:"max(calc(100dvh - 390px), 500px)",children:[R&&(0,r.jsx)(eB,{workspaceId:n,docId:o.id,user:s,existingDocCollaborators:E,existingInvitations:T,registerDoneFn:d,isDisabled:!u}),(0,r.jsx)(Z.r,{description:(0,r.jsx)(k.x6,{id:"i5bpoc"}),isConnected:g,mb:4}),I&&(0,r.jsx)(F.E,{fontSize:"sm",pt:2,children:I}),(0,r.jsxs)(eG,{isDark:p,children:[!1,(0,r.jsx)(eW,{testId:"workspace",title:(0,r.jsx)(k.x6,{id:"wtxjAY"}),subtitle:N?eO[D].longDescription(null==o||null==(t=o.organization)?void 0:t.name):"",img:(0,r.jsx)(el,{icon:j.URI,showDisabled:!N}),isDisabled:!R,disabledText:eO[D].title(),permissionsControl:(0,r.jsx)(ez,{isDisabled:!R,selected:D,options:[Y.aXG.Manage,Y.aXG.Edit,Y.aXG.Comment,Y.aXG.View,eP.NoAccess],onClick:e=>{let t={id:o.id,orgAccess:e===eP.NoAccess?null:e};w({variables:t,optimisticResponse:{updateDoc:{...t,__typename:"Doc"}},refetchQueries:["GetDocs"]}).then(M(e===eP.NoAccess?"removed":"updated"))}})}),S&&(null==(i=o.channels)?void 0:i.map(e=>(0,r.jsx)(ea,{channel:e,doc:o,isDisabled:!g,showDisabledIcon:A},e.id))),!!o.orgAccess&&S&&!o.site&&!A&&(0,r.jsx)(c.az,{w:"100%",mt:2,children:(0,r.jsx)(em,{existingChannels:o.channels,workspaceId:n,docId:o.id,isDisabled:!g})}),(0,r.jsx)(G.S,{in:S&&A,children:(0,r.jsxs)($.F,{status:"warning",children:[(0,r.jsx)(V._,{}),(0,r.jsx)(k.x6,{id:"RZRM4l",values:{GAMMA_ARTIFACT_PROPER_NOUN:J.TP}})]})})]}),z&&(0,r.jsx)(c.az,{overflowY:"auto",children:(0,r.jsx)(eG,{showDivider:!1,isDark:p,children:z.map(e=>{let t=e.permission===Y.aXG.Manage&&P<2,i=!R||t,l=t?K.Ru._({id:"0q0LJR"}):void 0,a=eO[e.permission].title();if("DocCollaborator"===e.__typename){var d;let t=e.user;return(0,r.jsx)(eW,{testId:t.email,title:"".concat(t.displayName," ").concat(t.id===s.id?K.Ru._({id:"dDUgzP"}):""),img:(0,r.jsx)(X.e,{name:t.displayName,src:t.profileImageUrl,size:"sm"}),subtitle:i?void 0:t.email,isDisabled:i,disabledText:a,tooltipText:l,workspaceGuestInvite:!i&&e.guest?(0,r.jsx)(eH,{name:t.displayName,workspaceName:null==(d=o.organization)?void 0:d.name,workspaceId:n,email:e.user.email}):void 0,permissionsControl:(0,r.jsx)(ez,{isDisabled:i,selected:e.permission,options:[Y.aXG.Manage,Y.aXG.Edit,Y.aXG.Comment,Y.aXG.View],disabledOptions:e.guest?[{permission:Y.aXG.Manage,reason:K.Ru._({id:"Rxin92"})}]:[],onClick:e=>{let i={docId:o.id,collaborators:[{userId:t.id,permission:e}]};f({variables:i,optimisticResponse:{addCollaborators:{id:i.docId,collaborators:E.map(i=>({...i,permission:i.user.id===t.id?e:i.permission})),invitations:T,__typename:"Doc"}}}).then(M("updated")).catch(()=>{})},onRemove:()=>{let e={docId:o.id,collaborators:[{userId:t.id}]};_({variables:e,optimisticResponse:{removeCollaborators:{id:e.docId,collaborators:E.filter(e=>e.user.id!==t.id),invitations:T,__typename:"Doc"}}}).then(M("removed"))}})},t.id)}return"DocInvitation"===e.__typename?(0,r.jsx)(eW,{testId:e.email,title:e.email,subtitle:K.Ru._({id:"MActeE"}),img:(0,r.jsx)(c.jl,{bg:"trueblue.50",size:8,children:(0,r.jsx)(y.g,{icon:j.y_8,size:"sm"})}),isDisabled:i,disabledText:a,permissionsControl:(0,r.jsx)(ez,{selected:e.permission,options:[Y.aXG.Manage,Y.aXG.Edit,Y.aXG.Comment,Y.aXG.View],disabledOptions:[{permission:Y.aXG.Manage,reason:K.Ru._({id:"Rxin92"})}],onClick:t=>{let i={docId:o.id,collaborators:[{email:e.email,permission:t}]};f({variables:i,optimisticResponse:{addCollaborators:{id:i.docId,invitations:T.map(i=>({...i,permission:i.email===e.email?t:i.permission})),collaborators:E,__typename:"Doc"}}}).then(M("updated")).catch(()=>{console.warn("Error updating permission")})},onRemove:()=>{let t={docId:o.id,collaborators:[{email:e.email}]};_({variables:t,optimisticResponse:{removeCollaborators:{id:t.docId,invitations:T.filter(t=>t.email!==e.email),collaborators:E,__typename:"Doc"}}}).then(M("removed"))}})},e.email):null})})})]})};var eQ=i(67208);let e0="embed-copied-toast",e1=e=>{let{embedCode:t,isDisabled:i,docId:a}=e,o=(0,l.d)(),[s,d]=(0,C.useState)(!1),{hasCopied:c,onCopy:u}=(0,n.i)(t),p=(0,C.useRef)(null);(0,C.useEffect)(()=>{p.current&&s&&(p.current.focus(),p.current.select())},[s]);let h=(0,C.useCallback)(()=>d(!0),[]),x=(0,C.useCallback)(()=>d(!1),[]),m=(0,C.useCallback)(()=>{u(),o.isActive(e0)||o({id:e0,title:(0,r.jsx)(k.x6,{id:"ETv+Uw"}),status:"success",duration:5e3}),(0,T.d)({docId:a,source:"sharePanel",type:"embed"})},[a,u,o]);return(0,r.jsxs)(eF.T,{spacing:4,align:"stretch",children:[(0,r.jsx)(eQ.T,{ref:p,rows:5,variant:"filled",fontFamily:"mono",colorScheme:"gray",disabled:i,onClick:h,onBlur:x,isReadOnly:!0,resize:"none",pointerEvents:i?"none":void 0,defaultValue:t}),(0,r.jsx)(f.$,{alignSelf:"flex-end",onClick:m,isDisabled:i,size:"sm",...i?{opacity:"1 !important",color:"gray.400",_hover:{opacity:"1"},_active:{boxShadow:"0 none"}}:{},children:c?(0,r.jsx)(k.x6,{id:"6V3Ea3"}):(0,r.jsx)(k.x6,{id:"Sx4kHi"})})]})};var e6=i(43183);let e5=e=>{let{doc:t,onSharePanelOpen:i,onSharePanelClose:n}=e,l=(0,C.useMemo)(()=>(0,W.Wp)({docId:t.id,docTitle:t.title}),[t.id,t.title]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(F.E,{fontSize:"sm",pt:2,pb:2,children:(0,r.jsx)(k.x6,{id:"2QJhbq",values:{GAMMA_ARTIFACT_PROPER_NOUN:J.TP}})}),(0,r.jsx)(c.az,{pb:4,children:(0,r.jsx)(e1,{embedCode:l,docId:t.id,isDisabled:!1})}),(0,r.jsx)(e6.w,{onClose:n,onOpen:i,segmentEvent:e_.VV.GAMMA_PRO_UPSELL_SHARE_SETTINGS_REMOVE_WATERMARK,doc:t})]})};var e2=i(43162),e9=i(27368),e3=i(75534),e4=i(96378),e8=i(60584),e7=i(82759),te=i(16491),tt=i(91938),ti=i(15342),tr=i(37605),tn=i(11916),tl=i(17928),ta=i(43634),to=i(97315),ts=i(76373),td=i(85455),tc=i(53932);let tu=e=>{let{doc:t,editor:i,onSharePanelOpen:n,onSharePanelClose:l,isMultipage:a=!1,cardRangesDefault:o=""}=e,s=(0,ti.GV)(ta.SJ),d=(0,N.Iy)("edit",t),c=(0,tn.Is)(t),u=s.config.headingGradient,p=!!(i&&d),[h,m]=(0,C.useState)(o),[g,v]=(0,C.useState)(""),[b,_]=(0,C.useState)(""!==o?"custom":"all"),w=(0,S.u)("export"),R=(0,S.u)("googleSlidesExport");return w?(0,r.jsx)(eF.T,{spacing:4,align:"start",pt:2,children:(0,r.jsxs)(te.G_,{clientId:tt.$.GOOGLE_DRIVE_IMPORT_CLIENT_ID,children:[(0,r.jsx)(F.E,{fontSize:"sm",children:a?(0,r.jsx)(k.x6,{id:"QI+Cf0",values:{0:t.title},components:{0:(0,r.jsx)("strong",{})}}):(0,r.jsx)(k.x6,{id:"qwhOQ/",values:{GAMMA_ARTIFACT_PROPER_NOUN:J.TP}})}),(0,r.jsxs)(ei.z,{width:"100%",children:[(0,r.jsxs)(ew.W,{closeOnSelect:!0,children:[(0,r.jsxs)(eR.I,{size:"md",boxShadow:"none",textAlign:"start",alignSelf:"flex-start",flex:1,as:f.$,rightIcon:(0,r.jsx)(y.g,{icon:j.Jt$}),children:["all"===b&&(0,r.jsx)(k.x6,{id:"4upC5z"}),"custom"===b&&(0,r.jsx)(k.x6,{id:"ioxL7D"})]}),(0,r.jsx)(eS.c,{children:(0,r.jsxs)(eA.i,{defaultValue:b,value:b,type:"radio",onChange:e=>_(e),children:[(0,r.jsx)(eI.k,{value:"all",children:(0,r.jsx)(k.x6,{id:"4upC5z"})},"all"),(0,r.jsx)(eI.k,{value:"custom",children:(0,r.jsx)(k.x6,{id:"ioxL7D"})},"custom")]})})]}),(0,r.jsxs)(e3.MJ,{flex:1,isInvalid:!!g,children:["custom"===b&&(0,r.jsx)(e4.p,{id:"card-range",type:"text",value:h,onKeyUp:()=>{if(!h)return void v("");let e=h.match(/^\d+(?:-\d+)?(?:,\h*\d+(?:-\d+)?)*$/gm);e||v(K.Ru._({id:"nmWMk6"})),g&&e&&v("")},onChange:e=>m(e.currentTarget.value),placeholder:K.Ru._({id:"pHUJ/X"})}),(0,r.jsx)(G.S,{in:""!==g,children:(0,r.jsx)(e8.Wt,{children:g})})]})]}),(0,r.jsxs)(x.B,{spacing:2,width:"100%",children:[(0,r.jsx)(th,{format:"pdf",label:"PDF",icon:td.q.pdf.icon,accentColor:td.q.pdf.accentColor,doc:t,editor:i,cardRanges:"custom"===b&&""!==h?h:void 0}),(0,r.jsx)(th,{format:"pptx",label:"PowerPoint",icon:td.q.pptx.icon,accentColor:td.q.pptx.accentColor,doc:t,editor:i,cardRanges:"custom"===b&&""!==h?h:void 0}),R&&(0,r.jsx)(th,{format:"google_slides",label:"Google Slides",icon:td.q.google_slides.icon,accentColor:td.q.google_slides.accentColor,doc:t,editor:i,cardRanges:"custom"===b&&""!==h?h:void 0,customLabel:K.Ru._({id:"wj3Fyq"}),customInProgressMessage:K.Ru._({id:"9ZkGtt"}),badge:(0,r.jsx)(e7.E,{colorScheme:"green",children:(0,r.jsx)(k.x6,{id:"isRobC"})})}),(0,r.jsx)(th,{format:"image",label:"PNG",icon:td.q.png.icon,accentColor:td.q.png.accentColor,doc:t,editor:i,cardRanges:"custom"===b&&""!==h?h:void 0,customLabel:K.Ru._({id:"wAyz08"}),customInProgressMessage:K.Ru._({id:"RSRVl9"})})]}),(0,r.jsxs)(x.B,{children:[(0,r.jsx)(F.E,{fontSize:"sm",children:a?(0,r.jsx)(k.x6,{id:"ZQ1V5I"}):(0,r.jsx)(k.x6,{id:"If/5+e"})}),(0,r.jsx)(tc.O,{exportMode:b,cardRangesInput:h,doc:t})]}),(0,r.jsx)(tp,{fontDownloadLinks:c,showGradientWarning:u,showPageSetupTip:p,onOpenPageSetup:()=>{l(),tl.LF.emit(tl.DN.OPEN_PAGE_SETUP,"cards")}}),(0,r.jsx)(x.B,{w:"100%",children:(0,r.jsx)(e6.w,{onClose:l,onOpen:n,segmentEvent:tr.VV.GAMMA_PRO_UPSELL_EXPORT_SETTINGS_REMOVE_WATERMARK,doc:t})})]})}):(0,r.jsxs)($.F,{status:"warning",children:[(0,r.jsx)(e2.X,{children:(0,r.jsx)(k.x6,{id:"CfztD3"})}),(0,r.jsx)(e9.T,{children:(0,r.jsx)(k.x6,{id:"iKtv2V"})})]})},tp=e=>{let{fontDownloadLinks:t,showGradientWarning:i,showPageSetupTip:n,onOpenPageSetup:l}=e,a=!!t.length,o=(0,es.dU)("gray.300","gray.600");return a||i||n?(0,r.jsxs)($.F,{status:"info",children:[(0,r.jsx)(V._,{boxSize:"4",me:"2.5"}),(0,r.jsxs)(x.B,{divider:(0,r.jsx)(p.c,{borderColor:o}),spacing:2.5,w:"100%",children:[i&&(0,r.jsx)(F.E,{fontSize:"xs",children:(0,r.jsx)(k.x6,{id:"lgULOV",values:{GAMMA_ARTIFACT_PROPER_NOUN:J.TP}})}),a&&(0,r.jsxs)(x.B,{spacing:2,children:[(0,r.jsx)(F.E,{fontSize:"xs",children:(0,r.jsx)(k.x6,{id:"/PdIcs"})}),(0,r.jsx)(ei.z,{children:t.map(e=>{let{name:t,url:i}=e;return(0,r.jsx)(f.$,{onClick:i?()=>window.open(i,"_blank"):void 0,cursor:i?"pointer":void 0,rightIcon:i?(0,r.jsx)(y.g,{icon:j.Ju_,size:"sm"}):void 0,variant:"plain",size:"sm",children:t},"name")})})]}),n&&(0,r.jsx)(F.E,{fontSize:"xs",children:(0,r.jsx)(k.x6,{id:"8LhjM/",components:{0:(0,r.jsx)(f.$,{variant:"link",as:"span",size:"xs",cursor:"pointer",onClick:l})}})})]})]}):null},th=e=>{let{format:t,doc:i,editor:n,icon:l,accentColor:a,label:o,badge:s,customLabel:d,customInProgressMessage:c,cardRanges:u}=e,p=(0,S.u)("googleSlidesExport"),{interceptFileExport:h}=(0,ts.w)({doc:i,source:"share_panel",editor:n,cardRanges:u}),{handleExport:x,exportInProgress:m}=(0,tn.Up)({doc:i,source:"share_panel",editor:n,format:t,formatLabel:o,cardRanges:u,...p?{interceptFileExport:h}:{}});return(0,r.jsx)(to.N,{onClick:x,icon:l,formatLabel:o,accentColor:a,exportInProgress:m,exportInProgressNote:(0,r.jsx)(k.x6,{id:"57bp6s"}),badge:s,customLabel:d,customInProgressMessage:c})};var tx=i(82203),tm=i.n(tx),tg=i(84287),tf=i(58972),tv=i(5061);let tb=e=>{let{children:t,setMobileSharePanelState:i,backButton:n=!0}=e,l=(0,tv.fW)();return(0,r.jsxs)(b.s,{width:"100%",position:"relative",mb:4,children:[n&&(0,r.jsx)(tf.K,{icon:(0,r.jsx)(y.g,{icon:l?j.vmR:j.Uec}),"aria-label":"Back",variant:"unstyled",position:"absolute",height:"100%",insetStart:-4,onClick:()=>i("main")}),(0,r.jsx)(U.D,{size:"md",w:"100%",textAlign:"center",children:t})]})};var tj=i(14322),ty=i(41471);let t_=()=>new BroadcastChannel("social_post"),tk=e=>{var t;let{doc:i,exportMode:n,cardRangesInput:l}=e,{isOpen:a,onOpen:o,onClose:s}=(0,eg.j)({id:"linkedin-post-modal"}),{data:d}=(0,Y.kvr)(),c=null==d||null==(t=d.userIntegrations)?void 0:t.integrations;(0,C.useEffect)(()=>t_().addEventListener("message",e=>{"true"===e.data.success&&"linkedin"===e.data.platform&&o()}),[o]);let u=(0,C.useCallback)(()=>(null==c?void 0:c.includes(Y.n30.Linkedin))?o():(0,tj.GE)({url:(0,W.n$)(),title:K.Ru._({id:"Abf1Uw"}),w:800,h:600}),[c,o]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(to.N,{onClick:u,formatLabel:"LinkedIn",icon:td.q.linkedin.icon,rightIcon:j.t5Z,accentColor:td.q.linkedin.accentColor,customLabel:K.Ru._({id:"x7i6H+"}),exportInProgress:!1}),a&&(0,r.jsx)(ty.A,{isSocialPostModalOpen:a,onSocialPostModalClose:s,socialPlatform:"linkedin",cardRangesInput:"all"===n?"":l,doc:i})]})},tC=e=>{let{doc:t,editor:i,setMobileSharePanelState:n}=e,l=(0,S.u)("googleSlidesExport"),{product:a}=(0,tg.I)();return(0,r.jsx)(te.G_,{clientId:tt.$.GOOGLE_DRIVE_IMPORT_CLIENT_ID,children:(0,r.jsxs)(x.B,{alignItems:"center",flex:1,children:[(0,r.jsx)(tb,{setMobileSharePanelState:n,children:(0,r.jsx)(k.x6,{id:"GS+Mus"})}),(0,r.jsxs)(x.B,{direction:"column",spacing:6,width:"100%",children:[(0,r.jsx)(tw,{format:"pdf",label:"PDF",icon:td.q.pdf.icon,accentColor:td.q.pdf.accentColor,doc:t,editor:i,cardRanges:void 0}),(0,r.jsx)(tw,{format:"pptx",label:"PowerPoint",icon:td.q.pptx.icon,accentColor:td.q.pptx.accentColor,doc:t,editor:i,cardRanges:void 0}),l&&(0,r.jsx)(tw,{format:"google_slides",label:"Google Slides",icon:td.q.google_slides.icon,accentColor:td.q.google_slides.accentColor,doc:t,editor:i,cardRanges:void 0,customLabel:K.Ru._({id:"wj3Fyq"}),customInProgressMessage:K.Ru._({id:"9ZkGtt"}),badge:void 0}),(0,r.jsx)(tw,{format:"image",label:"PNG",icon:td.q.png.icon,accentColor:td.q.png.accentColor,doc:t,editor:i,cardRanges:void 0,customLabel:K.Ru._({id:"wAyz08"}),customInProgressMessage:K.Ru._({id:"RSRVl9"})}),(0,r.jsx)(tk,{exportMode:"all",cardRangesInput:"",doc:t})]}),!a&&(0,r.jsx)(f.$,{width:"fit-content",mt:6,fontSize:"sm",variant:"ghost",display:"flex",as:tm(),href:"/pricing",leftIcon:(0,r.jsx)(_.uh,{w:4}),children:(0,r.jsx)(k.x6,{id:"vo61Ld",values:{GAMMA_PROPER_NOUN:J.On}})}),(0,r.jsx)(g.h,{}),(0,r.jsx)(f.$,{variant:"toolbar",onClick:()=>n("main"),children:(0,r.jsx)(k.x6,{id:"yz7wBu"})})]})})},tw=e=>{let{format:t,doc:i,editor:n,icon:l,accentColor:a,label:o,badge:s,customLabel:d,customInProgressMessage:c,cardRanges:u,debuggingForceInProgress:p=!1}=e,h=(0,S.u)("googleSlidesExport"),{interceptFileExport:x}=(0,ts.w)({doc:i,source:"share_panel",editor:n,cardRanges:u}),{handleExport:m,exportInProgress:g}=(0,tn.Up)({doc:i,source:"share_panel",editor:n,format:t,formatLabel:o,cardRanges:u,...h?{interceptFileExport:x}:{}});return(0,r.jsx)(to.N,{onClick:m,icon:l,formatLabel:o,accentColor:a,exportInProgress:g||p,exportInProgressNote:"",badge:s,customLabel:d,customInProgressMessage:c})};var tR=i(87827);let tS=e=>{let{onRemoveUser:t,onCancel:i}=e;return(0,r.jsxs)(x.B,{flex:1,children:[(0,r.jsx)(tb,{setMobileSharePanelState:()=>{},backButton:!1,children:(0,r.jsx)(k.x6,{id:"3zSBeh"})}),(0,r.jsx)(F.E,{color:"text.default",fontSize:"mg",fontWeight:"semibold",children:(0,r.jsx)(k.x6,{id:"QhdP/l"})}),(0,r.jsx)(F.E,{color:"text.secondary",fontSize:"sm",children:(0,r.jsx)(k.x6,{id:"Hl3Hbm"})}),(0,r.jsx)(g.h,{}),(0,r.jsx)(f.$,{variant:"hazardous",onClick:t,size:"lg",children:(0,r.jsx)(k.x6,{id:"t/YqKh"})}),(0,r.jsx)(f.$,{variant:"ghost",onClick:i,children:(0,r.jsx)(k.x6,{id:"dEgA5A"})})]})},tA=e=>{var t,i;let{doc:n,setMobileSharePanelState:l,confirmCallback:a,closeCallback:o,onRemoveUser:s,initialAccessType:d,accessOptions:u,showPasswordDialog:h=!1,showRemoveUser:m=!1,showBackButton:v=!1}=e,[_,w]=(0,C.useState)(d),R=(0,tv.fW)(),S=null==(t=u.find(e=>e.accessType===_))?void 0:t.disabled,A=null==n||null==(i=n.accessLinks)?void 0:i[0],I=(null==A?void 0:A.type)==="password",[E,T]=(0,C.useState)(!1);return E&&s?(0,r.jsx)(tS,{onRemoveUser:s,onCancel:()=>{T(!1)}}):(0,r.jsxs)(b.s,{direction:"column",justifyContent:"space-between",flex:1,children:[(0,r.jsxs)(c.az,{children:[(0,r.jsx)(tb,{setMobileSharePanelState:l,backButton:v,children:(0,r.jsx)(k.x6,{id:"zk0Twx"})}),(0,r.jsxs)(x.B,{mx:1,spacing:6,children:[u.map(e=>{let{disabled:t,accessType:i,errorText:n}=e;return(0,r.jsxs)(ei.z,{onClick:()=>t?null:w(i),children:[(0,r.jsx)(c.az,{w:4,transform:"translate(-.25rem)",children:i===_?(0,r.jsx)(y.g,{icon:j.e68}):""}),(0,r.jsxs)(x.B,{w:"100%",spacing:0,children:[(0,r.jsx)(F.E,{color:t?"gray.400":"",fontWeight:"semibold",children:eO[i].title()}),(0,r.jsx)(F.E,{fontSize:"sm",color:t?"gray.400":"gray.500",fontWeight:"medium",children:eO[i].description()}),n&&(0,r.jsx)(F.E,{color:"text.error",fontSize:"sm",mb:-2,children:n})]})]},i)}),(0,r.jsx)(p.c,{}),m&&(0,r.jsxs)(ei.z,{justifyContent:"space-between",alignItems:"center",onClick:()=>T(!0),color:"text.error",w:"100%",children:[(0,r.jsx)(c.az,{w:4,transform:"translate(-.25rem)",children:(0,r.jsx)(y.g,{icon:j.yLS,size:"xs"})}),(0,r.jsx)(F.E,{fontWeight:"semibold",children:(0,r.jsx)(k.x6,{id:"3zSBeh"})}),(0,r.jsx)(g.h,{})]}),h&&(0,r.jsxs)(ei.z,{justifyContent:"space-between",alignItems:"center",onClick:()=>l("password"),children:[(0,r.jsx)(c.az,{w:4,transform:"translate(-.25rem)",children:(0,r.jsx)(y.g,{icon:j.DW4})}),(0,r.jsxs)(x.B,{spacing:0,children:[(0,r.jsx)(F.E,{fontSize:"md",fontWeight:"semibold",children:(0,r.jsx)(k.x6,{id:"8ZsakT"})}),(0,r.jsx)(F.E,{fontSize:"sm",color:"gray.500",children:I?(0,r.jsx)(k.x6,{id:"GZ6qi2"}):(0,r.jsx)(k.x6,{id:"H6KqVd"})})]}),(0,r.jsx)(g.h,{}),(0,r.jsx)(y.g,{icon:R?j.Uec:j.vmR})]})]})]}),(0,r.jsxs)(x.B,{spacing:5,children:[(0,r.jsx)(f.$,{variant:"solid",onClick:()=>S?null:a(_),isDisabled:S,size:"lg",fontWeight:"semibold",children:(0,r.jsx)(k.x6,{id:"7VpPHA"})}),(0,r.jsx)(f.$,{variant:"ghost",onClick:o,children:(0,r.jsx)(k.x6,{id:"dEgA5A"})})]})]})};var tI=i(49942);let tE=e=>{let{selectedCollaborator:t,handleRemoveClick:i}=e,n=t&&(0,ev.t)((null==t?void 0:t.email)||"");return(0,r.jsxs)(tI.vw,{size:"lg",minW:110,...n?{}:{colorScheme:"error",bg:"error.bold.background",color:"error.bold.text"},children:["id"in t?(0,r.jsx)(_.Tz,{label:t.email,"aria-label":t.email,children:(0,r.jsxs)(ei.z,{children:[(0,r.jsx)(X.e,{size:"2xs",m:0,name:t.displayName,src:t.profileImageUrl}),(0,r.jsx)(F.E,{textTransform:"capitalize",wordBreak:"break-word",noOfLines:1,lineHeight:"1.5",children:t.displayName})]})}):(0,r.jsx)(_.Tz,{label:n?t.email:(0,r.jsx)(k.x6,{id:"XILg0L"}),"aria-label":t.email,children:(0,r.jsxs)(ei.z,{flex:1,children:[(0,r.jsx)(c.jl,{size:6,children:(0,r.jsx)(y.g,{icon:n?j.y_8:j.bxP})}),(0,r.jsx)(F.E,{wordBreak:"break-all",display:"block",height:"100%",width:"100%",noOfLines:1,lineHeight:"1.5",children:t.email})]})}),(0,r.jsx)(tI.TV,{onClick:i})]})},tT=(0,eb.P)(c.az),tP=e=>{let{autoCompleteFilter:t,autoCompleteInputOnChange:i,autoCompleteInputOnKeyDown:n,autoCompleteInputOnPaste:l,autoCompleteOnSelectOption:a,autoCompleteOnTagRemoved:o,autocompleteRef:s,inputRef:d,inputValue:u,isProcessingBatch:p,searchUsers:h,selectedItems:x,shouldDisableInput:m,showControls:g,showCreatable:f}=e,v=(0,es.dU)("light","dark"),_=(0,es.dU)("trueblue.50","whiteAlpha.100"),k=(0,es.dU)("trueblue.100","whiteAlpha.200");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(ed.e,{w:"100%",mb:2,alignItems:"flex-start","data-testid":"sharepanel-search-bar",children:[(0,r.jsx)(c.az,{flex:1,children:(0,r.jsxs)(ec.M,{w:"100%",justifyContent:"center",zIndex:2,children:[(0,r.jsx)(b.s,{display:p?"flex":"none",position:"absolute",h:"100%",w:"100%",alignItems:"center",justifyContent:"center",zIndex:"overlay",opacity:.4,children:(0,r.jsx)(eu.y,{})}),(0,r.jsxs)(eh.j9,{ref:s,values:x,maxSelections:100,maxSuggestions:20,creatable:!0,multiple:!0,freeSolo:!0,suggestWhenEmpty:!1,openOnFocus:!0,filter:t,onSelectOption:a,onTagRemoved:o,children:[(0,r.jsxs)(ep.W,{pointerEvents:"none",color:(0,es.dU)("gray.300","gray.600"),h:"100%",flexDirection:"column",children:[(0,r.jsx)(b.s,{flex:1}),(0,r.jsx)(b.s,{h:10,py:4,alignItems:"center",children:(0,r.jsx)(eo.W,{w:10})})]}),(0,r.jsx)(eh.Rv,{ref:d,"data-testid":"autocomplete-collaborators-input",cursor:m?"not-allowed":void 0,disabled:m,w:"100%",paddingInlineStart:5,wrapStyles:{px:2},fontSize:"md",placeholder:K.Ru._({id:"P8H57Z"}),transition:"width 1s ease-in-out",value:u,onKeyDown:n,onPaste:l,onChange:i}),(0,r.jsx)(eh.HN,{w:"100%",mt:0,display:u.length>0?"flex":"none","data-theme":v,children:h.map(e=>{let{id:t,email:i,displayName:n,profileImageUrl:l}=e;return(0,r.jsx)(eh.qF,{fixed:!0,"data-testid":"autocomplete-item-user-".concat(t),value:{email:i,type:"collaborator"},getValue:e=>e.email,align:"center",_focus:{bg:_},children:(0,r.jsxs)(ei.z,{children:[(0,r.jsx)(X.e,{size:"sm",name:n,src:l}),(0,r.jsxs)(c.az,{children:[(0,r.jsx)(F.E,{textTransform:"capitalize",children:n}),(0,r.jsx)(F.E,{fontSize:"xs",color:"gray.500",children:null==i?void 0:i.toLowerCase()})]})]})},t)}).concat((0,r.jsx)(eh.qF,{value:{email:u,type:"collaborator"},align:"center",display:f?"flex":"none",_focus:{bg:_},children:(0,r.jsxs)(ei.z,{children:[(0,r.jsx)(c.jl,{bg:k,size:8,children:(0,r.jsx)(y.g,{icon:j.y_8})}),(0,r.jsx)(F.E,{size:"md",children:u})]})},u))})]})]})}),(0,r.jsx)(tT,{overflowX:"hidden",me:-2,transition:"slow",animate:{maxWidth:g?"200px":"0px"}})]}),x.map((e,t)=>(0,r.jsx)(c.az,{children:(0,r.jsx)(tE,{idx:t,selectedCollaborator:e,handleRemoveClick:()=>{var t;null==(t=s.current)||t.removeItem(e.email)}})},"id"in e?e.id:e.email))]})},tO=()=>({view:{subtitle:K.Ru._({id:"ihPQra"}),tooltip:(0,P.h9)()},comment:{subtitle:K.Ru._({id:"qPZYdC"}),tooltip:K.Ru._({id:"oKPro/",values:{0:(0,P.h9)()}})},edit:{subtitle:K.Ru._({id:"TVFcVE"}),tooltip:K.Ru._({id:"2gPY9r",values:{0:(0,P.h9)()}})},manage:{subtitle:K.Ru._({id:"bKvp4s"}),tooltip:K.Ru._({id:"+OkTAI",values:{0:(0,P.h9)()}})}}),tz=(e,t,i)=>{if(!i)return e;let r=[...e],n=e.findIndex(e=>"email"in e&&e.email===i),l=t.find(e=>e.email===i);return -1!==n&&r.splice(n,1),[...r,l||{email:i}]},tM=(e,t)=>{let i=(0,eC.e7)(t.map(e=>"displayName"in e?e.displayName:e.email),3);return e===Y.aXG.Manage?K.Ru._({id:"4bKxWq",values:{userNames:i,GAMMA_ARTIFACT_PROPER_NOUN:J.TP,0:t.length}}):e===Y.aXG.Edit?K.Ru._({id:"3rbi6Y",values:{userNames:i,GAMMA_ARTIFACT_PROPER_NOUN:J.TP,0:t.length}}):e===Y.aXG.Comment?K.Ru._({id:"uGWY40",values:{userNames:i,GAMMA_ARTIFACT_PROPER_NOUN:J.TP,0:t.length}}):e===Y.aXG.View?K.Ru._({id:"p5IG6F",values:{userNames:i,GAMMA_ARTIFACT_PROPER_NOUN:J.TP,0:t.length}}):K.Ru._({id:"Ai1TAT",values:{userNames:i,GAMMA_ARTIFACT_PROPER_NOUN:J.TP,0:t.length}})},tD=e=>{var t,i;let{doc:n,setMobileSharePanelState:a}=e,o=(0,l.d)(),s=(0,tv.fW)(),[d,c]=(0,C.useState)([]),u=(0,N.ur)().user,h=(0,C.useRef)(null),[m,v]=(0,C.useState)(!0),[b,_]=(0,C.useState)(!1),w=(0,tR.n)(tO),R=null==n||null==(t=n.accessLinks)?void 0:t[0],S=(null==R?void 0:R.type)==="password",A=(null==n?void 0:n.collaborators)||[],I=(null==n||null==(i=n.organization)?void 0:i.id)||"",[E,T]=(0,C.useState)(!1),[P,O]=(0,C.useState)(Y.aXG.Edit),z=b&&"manage"===P,M=(0,C.useCallback)(()=>{T(!0)},[T]),[D,L]=(0,C.useState)(!1),B=(0,C.useRef)(),W=(0,C.useRef)(null),[G,U]=(0,C.useState)(""),[$,V]=(0,C.useState)([]),[X,q]=(0,C.useState)(new ek.c),H=d.filter(e=>"email"in e),J=(0,e_.st)(),Z=A.map(e=>e.user),[ee,{error:et}]=(0,Y.VXs)();(0,Q.KW)("Error inviting collaborators.",et);let er=(0,Y.tzS)(Y.HdQ),{data:en,loading:ea}=(0,Y.puH)({variables:{query:G,workspaceId:I},skip:!G});(0,C.useEffect)(()=>{!ea&&en&&V(en.search.filter(Boolean))},[en,ea]);let eo=(0,C.useMemo)(()=>G?$.filter(e=>"User"===e.__typename&&e.id!==u.id&&!H.concat(Z).find(t=>t.email===e.email)):[],[$,Z,G,H,u.id]),es=!!G&&!eo.find(e=>e.email===G),ed=H.some(e=>!("__typename"in e&&"User"===e.__typename)),ec=P===Y.aXG.Manage&&ed;(0,C.useEffect)(()=>{_(ed)},[_,ed]);let eu=!!d.length,ep=!!H.length,eh=(null==n?void 0:n.id)||"",ex=(0,C.useCallback)(async e=>{L(!0),c(t=>e.reduce((e,t)=>tz(e,eo,t.trim()),t));let t=(await Promise.all(e.map(async e=>{var t;return null==(t=(await er({workspaceId:I,query:e})).data)?void 0:t.search.find(t=>"User"===t.__typename&&t.email===e)}))).filter(Boolean);c(i=>e.reduce((e,i)=>tz(e,t,i.trim()),i)),L(!1)},[eo,er,I,c]),em=(0,C.useCallback)(async()=>{if(0===H.length)return;let e=tz(H,eo,G.trim()).filter(e=>"email"in e&&(0,ev.t)(e.email||"")),t=[...A,...e.map(e=>{if("id"in e)return{docId:eh,user:e,guest:!1,permission:P,__typename:"DocCollaborator"}})].filter(e=>!!e),i=[...(null==n?void 0:n.invitations)||[],...e.map(e=>{if(!("id"in e))return{id:"temp",docTitle:"temp-title",invitedBy:u,docId:eh,email:e.email,permission:P,__typename:"DocInvitation"}})].filter(e=>!!e);return ee({variables:{docId:eh,collaborators:e.map(e=>({..."id"in e?{userId:e.id}:{email:e.email},permission:P}))},update:(e,t)=>{let{data:i}=t;e.writeFragment({id:"Doc:".concat(eh),fragment:Y.rgw,data:null==i?void 0:i.addCollaborators})},optimisticResponse:{addCollaborators:{id:eh,collaborators:t,invitations:i}}}).then(()=>{o({title:K.Ru._({id:"Ka86rB",values:{0:e.length}}),description:tM(P,e),status:"success",duration:5e3,isClosable:!0,position:"top"}),null==J||J.track(e_.VV.DOC_COLLABORATOR_INVITED,{doc_id:eh,source:"share-panel",number_of_invites_sent:e.length,permissions:P})})},[ee,eh,null==n?void 0:n.invitations,G,P,eo,H,A,o,u,J]),eg=(0,C.useCallback)(async()=>Promise.all([em()]).then(()=>{var e;c([]),U(""),null==(e=B.current)||e.resetItems(!0),X.resolve(),q(new ek.c)}).catch(e=>{console.warn(e)}),[em,X,c]);return((0,C.useEffect)(()=>{h&&(h.current=eg)},[h,eg]),(0,C.useEffect)(()=>{v&&v(!ep||ec)},[ep,ec,v]),E)?(0,r.jsx)(tA,{initialAccessType:P,setMobileSharePanelState:e=>a(e),confirmCallback:e=>{O(e),T(!1)},closeCallback:()=>T(!1),accessOptions:[{accessType:Y.aXG.Manage,disabled:b,...b?{errorText:"User needs to be part of your workspace to have Full Access."}:{}},{accessType:Y.aXG.Edit},{accessType:Y.aXG.Comment},{accessType:Y.aXG.View}]}):(0,r.jsxs)(x.B,{flex:1,children:[(0,r.jsx)(tb,{setMobileSharePanelState:a,children:(0,r.jsx)(k.x6,{id:"MFKlMB"})}),u&&(0,r.jsx)(tP,{autoCompleteFilter:(e,t)=>!H.find(e=>e.email===t),autoCompleteInputOnChange:e=>{let{target:t}=e,{value:i}=t;U(i),i||V([])},autoCompleteInputOnKeyDown:e=>{let{key:t}=e;if("Backspace"===t&&0===G.length&&d.length>0){let e=d.slice(-1).pop();if(e){var i;null==(i=B.current)||i.removeItem("email"in e?e.email:e.id)}}},autoCompleteInputOnPaste:e=>{e.preventDefault(),e.stopPropagation(),ex(e.clipboardData.getData("Text").trim().split(/[,|;\s]+/)),U(""),V([])},autoCompleteOnSelectOption:e=>{let{item:t}=e,{type:i}=t.originalValue;"collaborator"===i&&c(e=>tz(e,eo,t.value)),U("")},autoCompleteOnTagRemoved:e=>{c(t=>[...t].filter(t=>"email"in t?t.email!==e:!("id"in t)||t.id!==e))},autocompleteRef:B,inputRef:W,inputValue:G,isProcessingBatch:D,searchUsers:eo,showControls:eu,showCreatable:es,selectedItems:d,shouldDisableInput:!1}),(0,r.jsx)(g.h,{}),(0,r.jsx)(p.c,{}),(0,r.jsx)(F.E,{children:(0,r.jsx)(k.x6,{id:"9cDpsw"})}),(0,r.jsxs)(ei.z,{spacing:2,justify:"space-between",children:[(0,r.jsx)(el,{icon:S?j.OKD:j.CQO,showDisabled:b&&"manage"===P,size:10}),(0,r.jsxs)(x.B,{spacing:.5,children:[(0,r.jsx)(F.E,{color:z?"gray.400":"",children:eO[P].title()}),(0,r.jsx)(F.E,{fontSize:"xs",color:z?"gray.400":"gray.500",children:w[P].subtitle})]}),(0,r.jsx)(g.h,{}),(0,r.jsxs)(f.$,{variant:"ghost",onClick:M,children:[(0,r.jsx)(F.E,{me:3,children:(0,r.jsx)(k.x6,{id:"o+XJ9D"})}),(0,r.jsx)(y.g,{icon:s?j.Uec:j.vmR,size:"lg"})]})]}),z&&(0,r.jsx)(F.E,{color:"text.error",fontSize:"sm",children:(0,r.jsx)(k.x6,{id:"yxdnLB"})}),(0,r.jsx)(p.c,{m:4}),(0,r.jsx)(f.$,{variant:"solid",size:"lg",onClick:()=>{h.current&&h.current()},isDisabled:m,children:(0,r.jsx)(k.x6,{id:"MFKlMB"})}),(0,r.jsx)(f.$,{variant:"ghost",color:"inherit",onClick:()=>a("main"),children:(0,r.jsx)(k.x6,{id:"dEgA5A"})})]})};var tN=i(30083),tL=i(74892),tB=i(45143);let tW=e=>{let{icon:t,text:i,ariaLabel:n,onClick:l}=e,a=(0,D.rd)();return(0,r.jsxs)(x.B,{direction:"column",alignItems:"center",spacing:2,onClick:l,flex:1,overflow:"hidden",whiteSpace:"nowrap",children:[(0,r.jsx)(tf.K,{bg:"gray.200",color:"gray.800",borderRadius:"full","aria-label":n,textAlign:"center",variant:"ghost",size:"lg",children:(0,r.jsx)(y.g,{icon:t})}),(0,r.jsx)(F.E,{fontSize:"sm",color:a?"white":"deepocean.950",fontWeight:"semibold",align:"center",textOverflow:"ellipsis",maxW:"100%",overflow:"hidden",whiteSpace:"normal",noOfLines:2,children:i})]})},tF=e=>{let{icon:t,onClick:i,text:n,rightText:l}=e,a=(0,tv.fW)();return(0,r.jsx)(f.$,{onClick:i,width:"100%",variant:"unstyled",fontWeight:"",children:(0,r.jsxs)(ei.z,{children:[(0,r.jsx)(c.jl,{color:"gray.800",textAlign:"center",bg:"gray.200",size:10,children:(0,r.jsx)(y.g,{icon:t})}),(0,r.jsx)(F.E,{children:n}),(0,r.jsx)(g.h,{}),(0,r.jsx)(f.$,{variant:"unstyled",minW:"0",children:l?(0,r.jsxs)(ei.z,{spacing:3,children:[(0,r.jsx)(F.E,{children:l}),(0,r.jsx)(y.g,{icon:a?j.Uec:j.vmR})]}):(0,r.jsx)(y.g,{icon:a?j.Uec:j.vmR})})]})})},tG=e=>{var t,i,a,o,s,d,c;let{doc:u,setMobileSharePanelState:h,handleViewAnalyticsClick:m,closeSharePanel:v,showAnalytics:w}=e,R=(0,C.useRef)(!1),{user:S}=(0,N.ur)(),A=(0,l.d)(),I=(0,O.ZP)(u,S),E=I?(0,O.bC)()[I]:null;(null==u||null==(t=u.organization)?void 0:t.id)||R.current||(console.error("[SharePanelModal] Doc unexpectedly doesnt have a workspaceId",{docId:u.id,organization:u.organization}),R.current=!0);let P=null!=(d=null==u||null==(i=u.titleCard)?void 0:i.previewUrl)?d:tL.A.src,z=null==u||null==(a=u.accessLinks)?void 0:a[0],M=(0,C.useMemo)(()=>(0,W.LN)({docTitle:null==u?void 0:u.title,docId:null==u?void 0:u.id,token:null==z?void 0:z.token,absolute:!0}),[u,null==z?void 0:z.token]),{anonymousUser:D}=(0,N.ur)(),L={...D,organizations:[]},{profileImageUrl:B}=S||L,G=(0,tB.h5)(["xs","sm"]),{onCopy:$}=(0,n.i)(M),V="link-copied-toast",q=(0,C.useCallback)(()=>{$(),A.isActive(V)||A({id:V,title:(0,r.jsx)(k.x6,{id:"pQjjYo"}),status:"success",duration:5e3,position:"top"}),(0,T.d)({docId:u.id,source:"sharePanel",type:"tokenUrl"})},[u.id,$,A]),H=(0,C.useCallback)(async()=>{let e={title:u.title,text:"Shared via Gamma",url:M};await navigator.share(e)},[u.title,M]),Y=(null==z?void 0:z.permission)?null==z?void 0:z.permission:eP.NoAccess,J=u&&S&&(null==u||null==(o=u.createdBy)?void 0:o.id)===(null==S?void 0:S.id)?K.Ru._({id:"av/PD9"}):null!=(c=null==u||null==(s=u.createdBy)?void 0:s.firstName)?c:"";return null===E?(console.error("[SharePanel] Unknown VisibilityValue for doc",u),null):(0,r.jsxs)(x.B,{w:"100%",spacing:2,children:[(0,r.jsxs)(b.s,{justify:"space-between",children:[(0,r.jsx)(U.D,{children:(0,r.jsx)(k.x6,{id:"Z8lGw6"})}),(0,r.jsx)(f.$,{"data-share-panel-close-button":!0,variant:"ghost",px:0,onClick:e=>{e.preventDefault(),v()},children:(0,r.jsx)(F.E,{fontWeight:"semibold",children:(0,r.jsx)(k.x6,{id:"DPfwMq"})})})]}),(0,r.jsxs)(x.B,{alignItems:"center",spacing:5,mb:2,children:[(0,r.jsx)(tN._,{borderRadius:"md",shadow:"xl",src:P,w:250}),(0,r.jsxs)(b.s,{gap:2,alignItems:"center",children:[(0,r.jsx)(X.e,{src:B,showBorder:!1,size:G}),(0,r.jsx)(F.E,{color:"gray.700",fontSize:"sm",children:(0,r.jsx)(k.x6,{id:"0jxROC",values:{createdByUser:J}})})]})]}),w&&(0,r.jsx)(f.$,{variant:"ghost",color:"inherit",onClick:m,leftIcon:(0,r.jsx)(y.g,{icon:j.q9c}),children:(0,r.jsx)(F.E,{fontSize:"md",children:(0,r.jsx)(k.x6,{id:"YaUqUV"})})}),(0,r.jsxs)(x.B,{spacing:4,mt:2,children:[(0,r.jsx)(_._x,{children:(0,r.jsx)(k.x6,{id:"xXYV+r"})}),(0,r.jsx)(tF,{icon:j.CQO,onClick:()=>h("manage-access"),rightText:eO[Y].title(),text:(0,r.jsx)(k.x6,{id:"qZu20V"})}),(0,r.jsx)(tF,{icon:j.USd,onClick:()=>h("members"),text:(0,r.jsx)(k.x6,{id:"hB02vO"})})]}),(0,r.jsx)(g.h,{}),(0,r.jsxs)(x.B,{spacing:6,children:[(0,r.jsx)(p.c,{}),(0,r.jsxs)(ei.z,{w:"100%",overflow:"hidden",alignItems:"start",children:[(0,r.jsx)(tW,{onClick:q,text:(0,r.jsx)(k.x6,{id:"A/z0Uc"}),ariaLabel:K.Ru._({id:"y1eoq1"}),icon:j.CQO}),(0,r.jsx)(tW,{onClick:()=>h("invite"),text:(0,r.jsx)(k.x6,{id:"wEi1R1"}),ariaLabel:K.Ru._({id:"MFKlMB"}),icon:j.nWR}),(0,r.jsx)(tW,{onClick:H,text:(0,r.jsx)(k.x6,{id:"Mh3GfE"}),ariaLabel:K.Ru._({id:"Z8lGw6"}),icon:j.t5Z}),(0,r.jsx)(tW,{onClick:()=>h("export"),text:(0,r.jsx)(k.x6,{id:"WwCRK2"}),ariaLabel:K.Ru._({id:"GS+Mus"}),icon:j.a_I})]})]})]})},tU=e=>{var t,i;let{doc:n,setMobileSharePanelState:a}=e,o=(null==n||null==(i=n.accessLinks)||null==(t=i[0])?void 0:t.permission)||eP.NoAccess,s=(0,l.d)(),d=e=>()=>{s({title:"updated"===e?K.Ru._({id:"Xpw8aE"}):K.Ru._({id:"jwO7L7"}),status:"success",duration:5e3,isClosable:!0,position:"top"})},[c]=(0,Y.vcy)(),u=e=>{var t;let i=null==n||null==(t=n.accessLinks)?void 0:t[0],r=null==i?void 0:i.id,l={id:n.id,accessLinks:e===eP.NoAccess?[{permission:null}]:[{permission:e}]};c({variables:l,optimisticResponse:{updateDoc:{...l,accessLinks:[{__typename:"AccessLink",id:r||"temp-id",permission:e===eP.NoAccess?null:e}],__typename:"Doc"}}}).then(d(e===eP.NoAccess?"removed":"updated"))};return(0,r.jsx)(tA,{doc:n,setMobileSharePanelState:a,confirmCallback:e=>{u(e),a("main")},closeCallback:()=>a("main"),initialAccessType:o,accessOptions:[{accessType:Y.aXG.Edit},{accessType:Y.aXG.Comment},{accessType:Y.aXG.View},{accessType:eP.NoAccess}],showPasswordDialog:!0,showBackButton:!0})},t$=(e,t)=>{var i,r;let n="DocCollaborator"===e.__typename?null==(i=e.user.displayName)?void 0:i.toUpperCase():"DocInvitation"===e.__typename?e.email.toUpperCase():"",l="DocCollaborator"===t.__typename?null==(r=t.user.displayName)?void 0:r.toUpperCase():"DocInvitation"===t.__typename?t.email.toUpperCase():"";return!l||n&&n<l?-1:!n||l&&n>l?1:0},tV=(e,t)=>{if(e.permission!==t.permission){if("manage"===e.permission)return -1;if("manage"===t.permission)return 1}return t$(e,t)},tX=e=>{var t;let{doc:i,setMobileSharePanelState:n,canManage:a}=e,o=(0,l.d)(),{user:s}=(0,N.ur)(),d=(0,tv.fW)(),[u,p]=(0,C.useState)(!1),[h,m]=(0,C.useState)(null),[v,b]=(0,C.useState)(!1),_=(null==i?void 0:i.collaborators)||[],[w]=(0,Y.VXs)(),R=(null==i?void 0:i.invitations)||[],S=[..._,...R].sort(tV),A=_.filter(e=>e.permission===Y.aXG.Manage).length,I=(null==i||null==(t=i.organization)?void 0:t.id)||"",{isConnected:E}=(0,Y.utY)(),T=a&&E,[P,O]=(0,C.useState)(""),[z]=(0,Y.AmA)(),M=e=>()=>{o({title:"updated"===e?K.Ru._({id:"Xpw8aE"}):K.Ru._({id:"jwO7L7"}),status:"success",duration:5e3,isClosable:!0,position:"top"})},D=e=>{if((null==h?void 0:h.__typename)!=="DocCollaborator")return;let t=h.user;if(!t)return;let r={docId:i.id,collaborators:[{userId:t.id,permission:e}]};w({variables:r,optimisticResponse:{addCollaborators:{id:r.docId,collaborators:_.map(i=>({...i,permission:i.user.id===t.id?e:i.permission})),invitations:R,__typename:"Doc"}}}).then(M("updated")).catch(()=>{})},L=e=>{if((null==h?void 0:h.__typename)!=="DocInvitation")return;let t={docId:i.id,collaborators:[{email:h.email,permission:e}]};w({variables:t,optimisticResponse:{addCollaborators:{id:t.docId,invitations:R.map(t=>({...t,permission:t.email===h.email?e:t.permission})),collaborators:_,__typename:"Doc"}}}).then(M("updated")).catch(()=>{console.warn("Error updating permission")})},B=()=>{if(h)if((null==h?void 0:h.__typename)==="DocCollaborator"){if(!h)return;let e=h.user.id,t={docId:i.id,collaborators:[{userId:e}]};z({variables:t,optimisticResponse:{removeCollaborators:{id:t.docId,collaborators:_.filter(t=>t.user.id!==e),invitations:R,__typename:"Doc"}}}).then(M("removed"))}else{let e={docId:i.id,collaborators:[{email:h.email}]};z({variables:e,optimisticResponse:{removeCollaborators:{id:e.docId,invitations:R.filter(e=>e.email!==h.email),collaborators:_,__typename:"Doc"}}}).then(M("removed"))}};return u?(0,r.jsx)(tA,{setMobileSharePanelState:n,confirmCallback:e=>{(null==h?void 0:h.__typename)==="DocCollaborator"&&D(e),(null==h?void 0:h.__typename)==="DocInvitation"&&L(e),p(!1)},closeCallback:()=>p(!1),onRemoveUser:()=>{B(),p(!1)},initialAccessType:null==h?void 0:h.permission,showRemoveUser:!0,accessOptions:[...v?[{accessType:Y.aXG.Manage}]:[],{accessType:Y.aXG.Edit},{accessType:Y.aXG.Comment},{accessType:Y.aXG.View}]}):(0,r.jsxs)(x.B,{spacing:3,flex:1,children:[(0,r.jsx)(tb,{setMobileSharePanelState:n,children:(0,r.jsx)(k.x6,{id:"wlQNTg"})}),(0,r.jsxs)(ec.M,{children:[(0,r.jsx)(ep.W,{children:(0,r.jsx)(y.g,{icon:j.$UM,size:"xs"})}),(0,r.jsx)(e4.p,{value:P,onChange:e=>O(e.target.value),placeholder:K.Ru._({id:"Ar2aUr"})})]}),(0,r.jsx)(F.E,{fontSize:"xs",color:"gray.500",children:(0,r.jsx)(k.x6,{id:"qlM7mp"})}),S&&(0,r.jsx)(eG,{showDivider:!1,isDark:!1,children:S.filter(e=>{var t,i,r,n;let l=P.toLowerCase();if("DocCollaborator"===e.__typename){let r=e.user;return(null==r||null==(t=r.email)?void 0:t.toLowerCase().includes(l))||(null==r||null==(i=r.displayName)?void 0:i.toLowerCase().includes(l))}return"DocInvitation"===e.__typename&&(null==e||null==(n=e.email)||null==(r=n.toLowerCase())?void 0:r.includes(l))}).map(e=>{let t=e.permission===Y.aXG.Manage&&A<2,n=!T||t,l=eO[e.permission].title();if("DocCollaborator"===e.__typename){var a;let t=e.user;return(0,r.jsx)(c.az,{onClick:()=>{m(e),b(!(null==e?void 0:e.guest)),p(!0)},as:"button",textAlign:"start",children:(0,r.jsx)(eW,{testId:t.email,title:"".concat(t.displayName," ").concat(t.id===(null==s?void 0:s.id)?K.Ru._({id:"dDUgzP"}):""),img:(0,r.jsx)(X.e,{name:t.displayName,src:t.profileImageUrl,size:"sm"}),subtitle:n?void 0:t.email,isDisabled:n,disabledText:l,workspaceGuestInvite:!n&&e.guest?(0,r.jsx)(eH,{name:t.displayName,workspaceName:null==(a=i.organization)?void 0:a.name,workspaceId:I,email:e.user.email}):void 0,permissionsControl:(0,r.jsxs)(ei.z,{spacing:3,children:[(0,r.jsx)(F.E,{children:l}),(0,r.jsx)(tf.K,{minW:"auto",icon:(0,r.jsx)(y.g,{icon:d?j.Uec:j.vmR}),variant:"unstyled","aria-label":"change user's permission"})]})},t.id)})}return"DocInvitation"===e.__typename?(0,r.jsx)(c.az,{onClick:()=>{m(e),b(!1),p(!0)},as:"button",textAlign:"start",children:(0,r.jsx)(eW,{testId:e.email,title:e.email,subtitle:K.Ru._({id:"MActeE"}),img:(0,r.jsx)(c.jl,{bg:"trueblue.50",size:8,children:(0,r.jsx)(y.g,{icon:j.y_8,size:"sm"})}),isDisabled:n,disabledText:l,permissionsControl:(0,r.jsxs)(ei.z,{spacing:3,children:[(0,r.jsx)(F.E,{children:l}),(0,r.jsx)(tf.K,{icon:(0,r.jsx)(y.g,{icon:j.vmR}),minW:"auto",variant:"unstyled","aria-label":"change user's permission"})]})},e.email)}):null})}),(0,r.jsx)(g.h,{}),(0,r.jsx)(f.$,{variant:"ghost",onClick:()=>n("main"),children:(0,r.jsx)(k.x6,{id:"2YCifi"})})]})};var tK=i(26430),tq=i(89528),tH=i(74003);let tY=e=>{var t;let{onClose:i,onOpen:n,accessLinkEnabled:a,doc:o,isDark:s,segmentEvent:d,isMobile:c=!1}=e,u=(0,l.d)(),{openUpsellModal:p}=(0,tH.I)(),[h,{data:v,loading:b}]=(0,Y.FTT)(),[j,y]=(0,C.useState)(""),[w,R]=(0,C.useState)(""),[S,{loading:A}]=(0,Y.cdD)(),[E]=(0,Y.M5P)(),T=(0,I.ez)("password_protected_docs",o.organization),P=null==o||null==(t=o.accessLinks)?void 0:t[0],O=(null==P?void 0:P.type)==="password",[z,M]=(0,C.useState)((null==v?void 0:v.getDocPassword)||""),[D,N]=(0,C.useState)(O),L=O||D;(0,C.useEffect)(()=>{O&&h({variables:{docId:o.id},fetchPolicy:"network-only",nextFetchPolicy:"network-only"}).then(e=>{let{data:t}=e;y((null==t?void 0:t.getDocPassword)||""),M((null==t?void 0:t.getDocPassword)||"")})},[o,O,h,y]);let B=(0,C.useCallback)(e=>{if(a)if(T){if(N(e.target.checked),!e.target.checked){if(!O)return;E({variables:{docId:o.id}}).then(()=>{u({title:(0,r.jsx)(k.x6,{id:"UbegbY"}),status:"success",duration:3e3,isClosable:!0,position:"top"})}),y(""),M("")}}else e.preventDefault(),p({onOpenCallback:i,onCloseCallback:n,segmentEvent:d})},[a,o,O,T,p,n,i,E,d,u]),W=(0,C.useCallback)(()=>{if(j.length<4||j.length>64)return void R(K.Ru._({id:"S04MAD",values:{MIN_PASSWORD_LENGTH:4,MAX_PASSWORD_LENGTH:64}}));S({variables:{docId:o.id,password:j},refetchQueries:["GetDocPassword"]}).then(()=>{u({title:(0,r.jsx)(k.x6,{id:"Hw2MHB"}),status:"success",duration:3e3,isClosable:!0,position:"top"})}),M(j)},[o,j,M,R,S,u]);return(0,r.jsxs)(x.B,{w:"100%",children:[(0,r.jsxs)(ei.z,{mt:4,mb:2*!!c,children:[(0,r.jsxs)(ei.z,{children:[(0,r.jsx)(F.E,{children:(0,r.jsx)(k.x6,{id:"F5g7OG"})}),!T&&(0,r.jsx)(tq.zL,{product:"pro"})]}),(0,r.jsx)(g.h,{}),(0,r.jsx)(_.Tz,{label:a?"":(0,r.jsx)(k.x6,{id:"5JvE0U"}),placement:"top",children:(0,r.jsx)(tK.d,{isChecked:D,disabled:!a,onChange:B})})]}),(0,r.jsx)(G.S,{in:L,children:(0,r.jsxs)(e3.MJ,{isInvalid:!!w,children:[(0,r.jsx)(ei.z,{children:b?(0,r.jsx)(m.E,{height:"40px",width:"50%",borderRadius:"md"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e4.p,{id:"password",type:"text",value:j,onChange:e=>y(e.currentTarget.value),onKeyUp:e=>{"Enter"===e.key&&W(),w&&j.length>=4&&j.length<=64&&R("")},width:c?"100%":"50%",placeholder:K.Ru._({id:"f7sXvi"}),bg:s?void 0:"white"}),(0,r.jsx)(f.$,{isDisabled:j===z,variant:"plain",onClick:W,isLoading:A,children:(0,r.jsx)(k.x6,{id:"tfDRzk"})})]})}),(0,r.jsx)(G.S,{in:""!==w,children:(0,r.jsx)(e8.Wt,{children:w})})]})})]})},tJ=e=>{var t;let{doc:i,setMobileSharePanelState:n}=e,l=null==i||null==(t=i.accessLinks)?void 0:t[0],a=((null==l?void 0:l.permission)?null==l?void 0:l.permission:eP.NoAccess)===eP.NoAccess;return(0,r.jsx)(b.s,{direction:"column",justifyContent:"space-between",pb:2,flex:1,children:(0,r.jsxs)(c.az,{children:[(0,r.jsx)(tb,{setMobileSharePanelState:n,children:(0,r.jsx)(k.x6,{id:"8ZsakT"})}),(0,r.jsx)(tY,{segmentEvent:e_.VV.GAMMA_PRO_UPSELL_SHARE_SETTINGS_REMOVE_WATERMARK,doc:i,isDark:!1,isMobile:!0,accessLinkEnabled:!a}),(0,r.jsx)(F.E,{fontSize:"xs",color:"gray.500",my:3,children:(0,r.jsx)(k.x6,{id:"mpXIQf",values:{GAMMA_ARTIFACT_PROPER_NOUN:J.TP}})}),(0,r.jsx)(F.E,{fontSize:"xs",color:"gray.500",mb:4,children:(0,r.jsx)(k.x6,{id:"jMXOQQ"})})]})})},tZ=e=>{let{isSharePanelOpen:t,closeIfReady:i,doc:n,editor:l,handleViewAnalyticsClick:a,showAnalytics:o}=e,[s,d]=(0,C.useState)("main"),c=(0,D.rd)(),u=(0,C.useCallback)(()=>{i(),d("main")},[i,d]);return n?(0,r.jsx)(_.L8,{isDark:c,children:(0,r.jsx)(_.mr,{isOpen:t,onClose:u,topMargin:3,children:(0,r.jsxs)(b.s,{px:5,py:4,height:"100%",children:["main"===s&&(0,r.jsx)(tG,{doc:n,setMobileSharePanelState:e=>d(e),handleViewAnalyticsClick:()=>a(),closeSharePanel:u,showAnalytics:o}),"invite"===s&&(0,r.jsx)(tD,{doc:n,setMobileSharePanelState:e=>d(e),selectedAccessLinkPermission:Y.aXG.Manage}),"export"===s&&(0,r.jsx)(tC,{doc:n,editor:l,setMobileSharePanelState:e=>d(e)}),"manage-access"===s&&(0,r.jsx)(tU,{doc:n,setMobileSharePanelState:e=>d(e)}),"members"===s&&(0,r.jsx)(tX,{doc:n,setMobileSharePanelState:e=>d(e),canManage:!0}),"password"===s&&(0,r.jsx)(tJ,{doc:n,setMobileSharePanelState:e=>d(e),closeSharePanel:u})]})})}):(0,r.jsx)(r.Fragment,{})};var tQ=i(50456),t0=i(40513),t1=i(63046),t6=i(4587),t5=i(82836),t2=i(2362);let t9=e=>{let{subtitle:t,tooltipLabel:i,ariaLabel:n,icon:l}=e;return(0,r.jsxs)(ei.z,{spacing:1,align:"center",children:[(0,r.jsx)(F.E,{fontSize:"xs",color:"gray.500",children:t}),(0,r.jsx)(_.Tz,{label:i,placement:"top","aria-label":n,children:(0,r.jsx)(c.az,{color:"gray.500",lineHeight:"1",children:(0,r.jsx)(y.g,{size:"xs",icon:l})})})]})},t3=()=>({view:{subtitle:K.Ru._({id:"ihPQra"}),tooltip:(0,P.h9)()},comment:{subtitle:K.Ru._({id:"qPZYdC"}),tooltip:K.Ru._({id:"oKPro/",values:{0:(0,P.h9)()}})},edit:{subtitle:K.Ru._({id:"TVFcVE"}),tooltip:K.Ru._({id:"2gPY9r",values:{0:(0,P.h9)()}})}}),t4=e=>{var t;let{doc:i,isConnected:n,onSharePanelOpen:a,onSharePanelClose:o,canManage:s,isDark:d}=e,u=(0,tv.fW)(),p=(0,l.d)(),h=(0,tR.n)(t3),x=(0,S.u)("passwordProtectedDoc")&&s,m=null==i||null==(t=i.accessLinks)?void 0:t[0],g=(null==m?void 0:m.type)==="password",[f]=(0,Y.vcy)(),v=(null==m?void 0:m.permission)?null==m?void 0:m.permission:eP.NoAccess,b=v===eP.NoAccess,y=e=>()=>{p({title:"updated"===e?K.Ru._({id:"Xpw8aE"}):K.Ru._({id:"jwO7L7"}),status:"success",duration:5e3,isClosable:!0,position:"top"})},_=(0,C.useMemo)(()=>(0,W.LN)({docTitle:null==i?void 0:i.title,docId:null==i?void 0:i.id,token:null==m?void 0:m.token,absolute:!0}),[i,null==m?void 0:m.token]),w=!!m,R=s&&n&&w,A=(0,r.jsx)(e6.w,{onClose:o,onOpen:a,segmentEvent:e_.VV.GAMMA_PRO_UPSELL_SHARE_SETTINGS_REMOVE_WATERMARK,doc:i});return(0,r.jsxs)(r.Fragment,{children:[s&&(0,r.jsxs)(eG,{showDivider:!1,children:[(0,r.jsx)(eW,{title:g?(0,r.jsx)(k.x6,{id:"gbBlJ4"}):(0,r.jsx)(k.x6,{id:"qZu20V"}),subtitle:b?K.Ru._({id:"vMZPZT"}):(0,r.jsx)(t9,{subtitle:h[v].subtitle,tooltipLabel:h[v].tooltip,ariaLabel:h[v].subtitle,icon:j.mEO}),img:(0,r.jsx)(el,{icon:g?j.OKD:j.CQO,showDisabled:b}),isDisabled:!R,disabledText:eO[eP.NoAccess].title(),permissionsControl:(0,r.jsx)(ez,{selected:v,options:[Y.aXG.Edit,Y.aXG.Comment,Y.aXG.View,eP.NoAccess],onClick:e=>{let t=null==m?void 0:m.id,r={id:i.id,accessLinks:e===eP.NoAccess?[{permission:null}]:[{permission:e}]};f({variables:r,optimisticResponse:{updateDoc:{...r,accessLinks:[{__typename:"AccessLink",id:t||"temp-id",permission:e===eP.NoAccess?null:e}],__typename:"Doc"}}}).then(y(e===eP.NoAccess?"removed":"updated"))}})}),(0,r.jsx)(G.S,{animateOpacity:!0,in:!!(null==m?void 0:m.permission),children:(0,r.jsx)(t2.X,{url:_,paddingLeft:u?32:void 0,customLabel:K.Ru._({id:"y1eoq1"}),onClick:()=>{(0,T.d)({docId:i.id,source:"sharePanel",type:"tokenUrl"})}})})]}),x?(0,r.jsx)(tQ.n,{defaultIndex:[0],allowToggle:!0,borderRadius:"md",borderColor:"transparent",mb:4,children:(0,r.jsxs)(t0.A,{children:[(0,r.jsxs)(t1.J,{children:[(0,r.jsx)(c.az,{as:"span",flex:"1",textAlign:"start",fontWeight:"600",children:(0,r.jsx)(k.x6,{id:"VNgKZz"})}),(0,r.jsx)(t6.Q,{})]}),(0,r.jsxs)(t5.v,{children:[A,(0,r.jsx)(tY,{onClose:o,onOpen:a,segmentEvent:e_.VV.GAMMA_PRO_UPSELL_SHARE_SETTINGS_REMOVE_WATERMARK,doc:i,isDark:d,accessLinkEnabled:!b})]})]})}):A]})};var t8=i(55597);let t7=e=>{let{visibility:t,isFromOtherOrg:i}=e,n=(0,es.dU)("white","var(--chakra-colors-gray-900)");return(0,r.jsxs)(r.Fragment,{children:[i&&(0,r.jsx)(y.g,{icon:j.AQM}),(0,r.jsxs)(c.az,{as:"span",className:"fa-layers fa-fw",children:[(0,r.jsx)(y.g,{icon:t.primaryIcon}),t.secondaryIcon&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y.g,{icon:t8.GEE,color:n,transform:"down-6 right-6"}),(0,r.jsx)(y.g,{icon:t.secondaryIcon,transform:"shrink-7 right-6 down-6"})]})]})]})},ie={edit:(0,r.jsx)(k.x6,{id:"RGu+kO"}),comment:(0,r.jsx)(k.x6,{id:"4xnd7M"}),view:(0,r.jsx)(k.x6,{id:"8WmxwF"}),noAccess:(0,r.jsx)(k.x6,{id:"3D1eGP"})},it=(0,E.A)(e=>{var t,i;let{doc:E,editor:F,isSharePanelOpen:G,onSharePanelClose:U,onSharePanelOpen:$,onAnalyticsPanelOpen:V,view:X,setView:K,showAnalytics:q=!0,showSharePublic:H=!0,showEmbed:Y=!0,showSiteSettings:J=!0,cardRangesInput:Z="",setCardRangesInput:Q}=e,ee=(0,D.rd)(),et=(0,I.Fd)(),{openSiteSettings:ei}=(0,L.ip)(),er=(0,S.u)("mobileSharePanel"),en=null==E||null==(t=E.accessLinks)?void 0:t[0],el=null==en?void 0:en.permission,ea=!!el,eo=(0,C.useMemo)(()=>(0,W.LN)({docTitle:null==E?void 0:E.title,docId:null==E?void 0:E.id,token:null==en?void 0:en.token,absolute:!0}),[E,null==en?void 0:en.token]),{hasCopied:es,onCopy:ed}=(0,n.i)(eo),ec=(0,l.d)(),eu="link-copied-toast",ep=(0,C.useRef)(!1),{user:eh,currentWorkspace:ex,isGammaAdminUser:em}=(0,N.ur)(),{isConnected:eg}=(0,R.u)(),ef=(0,N.Iy)("manage",E)||em,ev=(0,N.Iy)("comment",E)||em,{isOpen:eb,onClose:ej}=(0,A.E)({id:"create-site-modal"}),ey=E&&E.site&&E.site.routes.length>1,e_=E&&(0,M.dv)(E.site),ek=(0,P.zI)({showSharePublic:H&&ef&&!e_,showEmbed:Y&&ef&&!e_}),eC=ef&&V&&E&&!e_,[ew,eR]=(0,C.useState)(()=>()=>Promise.resolve()),eS=(0,C.useCallback)(()=>{U(),ej()},[U,ej]),eA=E?ey?E.site.name:E.title:null,eI=(0,C.useCallback)(()=>{ew().then(()=>{K("invite"),Q&&Q(""),U()},()=>{console.debug("[handleSharePanelClose] CollaboratorSearchBar rejected \uD83D\uDC4E\uD83C\uDFFC")})},[K,Q,U,ew]),eE=(0,C.useCallback)(()=>{V&&(U(),V())},[V,U]),eT=(0,C.useCallback)(()=>{ei("domains"),U()},[U,ei]);if(!eh)return null;let eP=(0,O.ZP)(E,eh),eO=eP?(0,O.bC)()[eP]:null,ez=(0,O.D5)(E,ex);if(E&&null===eO)return console.error("[SharePanel] Unknown VisibilityValue for doc",E),null;let eM=null==E||null==(i=E.organization)?void 0:i.id;!E||eM||ep.current||(console.error("[SharePanelModal] Doc unexpectedly doesnt have a workspaceId",{docId:E.id,organization:E.organization}),ep.current=!0);let eD=ek.find(e=>e.key===X),eN=ie[null!=el?el:"noAccess"];return er&&(0,B.Xb)()?(0,r.jsx)(tZ,{isSharePanelOpen:G,closeIfReady:eI,doc:E,editor:F,handleViewAnalyticsClick:eE,showAnalytics:q&&eC}):(0,r.jsxs)(_.L8,{isDark:ee,children:[(0,r.jsxs)(a.aF,{onEsc:eI,isOpen:G,onClose:U,trapFocus:!0,size:"3xl",returnFocusOnClose:!1,children:[(0,r.jsx)(o.m,{}),(0,r.jsxs)(s.$,{"data-share-panel-modal-content":!0,mx:2,children:[(0,r.jsxs)(d.r,{children:[eO&&(0,r.jsx)(c.az,{as:"span",me:3,children:(0,r.jsx)(t7,{visibility:eO,isFromOtherOrg:ez})}),eA?(0,r.jsx)(k.x6,{id:"sit2to",values:{displayName:eA}}):(0,r.jsx)(k.x6,{id:"Z8lGw6"})]}),(0,r.jsx)(u.s,{"data-share-panel-close-button":!0,onClick:e=>{e.preventDefault(),eI()}}),(0,r.jsx)(p.c,{}),E?(0,r.jsx)(h.c,{"data-testid":"share-panel-modal-body",children:E&&eM&&(0,r.jsxs)(r.Fragment,{children:[ef&&(0,r.jsxs)(x.B,{direction:"row",alignItems:"center",my:4,children:[(0,r.jsx)(w.x,{selectedOption:eD,setSelectedOption:e=>K(e.key),options:ek,dropdownButtonLeftIcon:eD.icon,breakpoints:{base:!0,md:!1},isDark:ee}),J&&!(null==E?void 0:E.site)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.h,{}),(0,r.jsx)(f.$,{flexShrink:0,onClick:eT,variant:"plain",size:"sm",alignSelf:"flex-start",children:(0,r.jsx)(k.x6,{id:"sAalO9"})})]})]}),(!ev||"invite"==X)&&(0,r.jsx)(eZ,{workspaceId:eM,doc:E,user:eh,setVerifySearchDone:eR,canManage:ef,isFromOtherOrg:ez,isMultipage:ey,isDark:ee}),ef&&"public"===X&&(0,r.jsx)(t4,{doc:E,isConnected:eg,onSharePanelOpen:$,onSharePanelClose:U,canManage:ef,isDark:ee}),ef&&"embed"===X&&(0,r.jsx)(e5,{doc:E,onSharePanelOpen:$,onSharePanelClose:U}),ev&&"export"===X&&(0,r.jsx)(tu,{doc:E,editor:F,onSharePanelOpen:$,onSharePanelClose:U,isMultipage:ey,cardRangesDefault:Z})]})}):(0,r.jsx)(h.c,{pb:6,"data-testid":"share-panel-modal-body",children:(0,r.jsxs)(x.B,{children:[(0,r.jsx)(m.E,{height:"55px"}),(0,r.jsx)(m.E,{height:"55px"}),(0,r.jsx)(m.E,{height:"55px"}),(0,r.jsx)(m.E,{height:"55px"})]})}),(0,r.jsx)(p.c,{}),(0,r.jsx)(v.j,{children:(0,r.jsxs)(b.s,{justifyContent:"space-between",flex:1,children:[q&&eC&&(0,r.jsx)(f.$,{isDisabled:!eg,leftIcon:(0,r.jsx)(y.g,{icon:j.q9c}),variant:"ghost",onClick:eE,children:(0,r.jsx)(k.x6,{id:"YaUqUV"})}),(0,r.jsx)(g.h,{}),e_?(0,r.jsx)(f.$,{onClick:e=>{e.preventDefault(),eI()},variant:"solid","data-share-panel-done-button":!0,children:(0,r.jsx)(k.x6,{id:"DPfwMq"})}):(0,r.jsx)(_.Tz,{label:eN,children:(0,r.jsx)(c.az,{children:(0,r.jsx)(f.$,{leftIcon:(0,r.jsx)(y.g,{icon:es?j.e68:j.KTq}),isDisabled:!ea,onClick:e=>{e.preventDefault(),ed(),ec.isActive(eu)||ec({id:eu,title:(0,r.jsx)(k.x6,{id:"pQjjYo"}),status:"success",duration:5e3,position:"top"}),(0,T.d)({docId:E.id,source:"sharePanel",type:"tokenUrl"})},variant:"ghost",children:(0,r.jsx)(k.x6,{id:"y1eoq1"})})})})]})})]})]}),(null==E?void 0:E.id)&&et&&ef&&(0,r.jsx)(z.B,{isOpen:eb,onClose:eS,existingDoc:E})]})})},27250:(e,t,i)=>{i.d(t,{q:()=>k});var r=i(6029),n=i(66425),l=i(82759),a=i(49377),o=i(30083),s=i(94283),d=i(3704),c=i(19564),u=i(55729),p=i(74892),h=i(95578),x=i(90221),m=i(62452),g=i(61385),f=i(62171),v=i(60908),b=i(80335),j=i(95571),y=i(40077),_=i(95714);let k=(0,u.memo)(e=>{let{theme:t,variant:i="outline",children:u,...k}=e,{contentStyles:w}=t.config,R=(0,f.fS)(t),S=(0,m.Mw)(t),A=(0,_.ZI)(t),I=(0,b.S)(t,!1),E=(0,f.FD)(R,S,v.p7),T=C(t),P=(0,h.u)("themeTextPreviewSVGs")&&t.previewUrl;return(0,r.jsxs)(n.az,{css:A,sx:I,w:"100%",pos:"relative",children:[T&&null===t.workspaceId&&(0,r.jsx)(l.E,{pos:"absolute",insetEnd:-1,top:-1,zIndex:1,colorScheme:"green",children:(0,r.jsx)(c.x6,{id:"isRobC"})}),(0,r.jsxs)(a.s,{borderTopRadius:"ghost"===i?"none":"md",boxShadow:"sm",_focus:{boxShadow:"outline"},p:"1em",transitionProperty:"common",transitionDuration:"normal",...E,backgroundAttachment:"initial",direction:"row",align:"center",overflow:"hidden",...k,children:[!P&&(0,r.jsx)(x.m,{theme:t}),(0,r.jsx)(n.az,{sx:{...j.CO,...w},borderRadius:"base",className:"".concat(g._P," ").concat(S?"is-dark":""),color:S?"white":"gray.900",flex:1,pointerEvents:"none",dir:"ltr",children:(0,r.jsx)(n.az,{gridArea:'"body"',py:"1em",px:"1em",position:"relative",minH:"6em",children:P?(0,r.jsx)(o._,{src:t.previewUrl,position:"absolute",width:"7.75em",objectFit:"contain",inset:"1em",fallback:(0,r.jsx)(n.az,{pos:"absolute",inset:"-1em",bg:"gray.300",backgroundImage:p.A.src,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.E,{className:"block-title",mt:"0 !important",mb:"var(--chakra-space-1) !important",children:(0,r.jsx)(s.E,{as:"span",className:(0,d.cx)("title",y.U6),fontSize:"1.6em !important",paddingBottom:"0 !important",children:(0,r.jsx)(c.x6,{id:"MHrjPM"})})}),(0,r.jsx)(s.E,{fontSize:"0.9em !important",noOfLines:3,className:"block block-paragraph",my:"0 !important",children:(0,r.jsx)(c.x6,{id:"U41VTK",components:{0:(0,r.jsx)(s.E,{as:"a",className:"link"})}})})]})})})]}),u]})});k.displayName="ThemePreviewThumbnail";let C=e=>{if(!e.createdTime)return!1;let t=new Date(e.createdTime),i=new Date;return i.setDate(i.getDate()-30),t>i}},38055:(e,t,i)=>{i.d(t,{y:()=>r});let r="tour"},41471:(e,t,i)=>{i.d(t,{A:()=>S,L:()=>w});var r=i(6029),n=i(40313),l=i(71262),a=i(67039),o=i(33987),s=i(57470),d=i(66425),c=i(7959),u=i(86747),p=i(29328),h=i(94283),x=i(17383),m=i(67208),g=i(31445),f=i(81107),v=i(48621),b=i(80910),j=i(19564),y=i(77650),_=i(55729),k=i(11916),C=i(91792);let w={linkedin:{label:"LinkedIn",cta:()=>y.Ru._({id:"Ck0vYl"}),exportFormat:"pdf",localizedCTA:(0,r.jsx)(j.x6,{id:"Ck0vYl"}),inProgressLabel:(0,r.jsx)(j.x6,{id:"iPHeYN"}),icon:f.IAJ,iconColor:"linkedin.700"}},R=e=>{let{socialPlatform:t,doc:i,message:l,cardRangesInput:a,modalClose:o}=e,{handleExport:s,exportInProgress:d}=(0,k.Up)({doc:i,source:"share_panel",format:w[t].exportFormat,formatLabel:w[t].label,cardRanges:a,socialPlatform:t,socialPost:!0,shareMessage:l});return(0,r.jsxs)(n.$,{w:"100%",variant:"solid",onClick:()=>{s(),setTimeout(()=>{o()},2e3)},isDisabled:d,children:[d&&w[t].inProgressLabel,!d&&w[t].localizedCTA]})},S=e=>{let{socialPlatform:t,isSocialPostModalOpen:i,onSocialPostModalClose:f,cardRangesInput:k,doc:S}=e,[A,I]=(0,_.useState)(""),E=(0,C.rd)(),T=S.title;return(0,r.jsx)(b.L8,{isDark:E,children:(0,r.jsxs)(l.aF,{isOpen:i,onClose:f,trapFocus:!0,returnFocusOnClose:!1,size:"xl",children:[(0,r.jsx)(a.m,{}),(0,r.jsxs)(o.$,{children:[(0,r.jsxs)(s.r,{children:[(0,r.jsx)(d.az,{display:"inline-block",me:"2.5",color:w[t].iconColor,children:(0,r.jsx)(v.g,{icon:w[t].icon,size:"lg"})})," ",w[t].localizedCTA]}),(0,r.jsx)(c.s,{}),(0,r.jsx)(u.c,{children:(0,r.jsxs)(p.B,{spacing:2,width:"100%",children:[(0,r.jsxs)(h.E,{children:[(0,r.jsx)(j.x6,{id:"sNsWEI",values:{docTitle:T}}),k&&(0,r.jsxs)(x.B.span,{color:"gray.500",children:[" ",(0,r.jsx)(j.x6,{id:"gFo4O3",values:{cardRangesInput:k}})]})]}),(0,r.jsx)(m.T,{resize:"none",height:"10em",placeholder:y.Ru._({id:"p4W7fL"}),value:A,onChange:e=>{var t;I(null==(t=e.target)?void 0:t.value)}})]})}),(0,r.jsx)(g.j,{pb:"5",children:(0,r.jsx)(n.$,{w:"100%",variant:"solid",children:(0,r.jsx)(R,{doc:S,socialPlatform:t,message:A,cardRangesInput:k,modalClose:f})})})]})]})})}},43183:(e,t,i)=>{i.d(t,{w:()=>f});var r=i(6029),n=i(90869),l=i(49377),a=i(21638),o=i(28144),s=i(94283),d=i(89696),c=i(26430),u=i(19564),p=i(32617),h=i(99038),x=i(39892),m=i(89528),g=i(74003);let f=e=>{let{onClose:t,onOpen:i,segmentEvent:f,doc:v,label:b}=e,j=(0,p.u)("upsellUXEnabled_Pro"),y=(0,x.nk)(null==v?void 0:v.organization),{openUpsellModal:_}=(0,g.I)(),k=(0,n.dU)("gray.200","gray.700");return!1===y&&j?(0,r.jsxs)(l.s,{direction:"column",w:"100%",children:[(0,r.jsx)(a.c,{borderColor:k}),(0,r.jsxs)(o.z,{mt:4,mb:2,children:[(0,r.jsxs)(o.z,{children:[(0,r.jsx)(s.E,{children:b||(0,r.jsx)(u.x6,{id:"nkzjqi",values:{GAMMA_PROPER_NOUN:h.On}})}),(0,r.jsx)(m.zL,{product:"plus"})]}),(0,r.jsx)(d.h,{}),(0,r.jsx)(c.d,{onClickCapture:e=>{e.preventDefault(),_({onOpenCallback:t,onCloseCallback:i,segmentEvent:f})},isChecked:!1})]})]}):null}},49405:(e,t,i)=>{i.d(t,{Z:()=>g});var r=i(6029),n=i(38451),l=i(19564),a=i(81278),o=i(55729),s=i(88586),d=i(96298),c=i(38055),u=i(95889),p=i(20715),h=i(18341),x=i(51817),m=i(72492);let g=()=>{let[e]=(0,s.aXl)({refetchQueries:["GetDocs"]}),{push:t}=(0,a.useRouter)(),i=(0,n.d)(),{user:g,currentWorkspace:f}=(0,h.ur)(),v=(0,u.st)();return(0,o.useCallback)(async n=>{var a;let{docId:o,docTitle:s,initialContent:h,channelId:b,source:j,openThemeEditor:y,onSuccess:_,newWindow:k}=n,C=null==g||null==(a=g.settings)?void 0:a.needsEditorOnboarding;if(!o)return Promise.reject(Error("Cannot duplicate without a docId"));let w=i({id:"duplicate-toast-".concat(o),isClosable:!1,position:"top",status:"loading",variant:"light",duration:null,title:(0,r.jsx)(l.x6,{id:"OvEjsP"})});return g&&(null==f?void 0:f.id)?e({variables:{duplicateDocInput:{orgId:null==f?void 0:f.id,sourceDocId:o,source:d.a[j],initialContent:h?{ydoc:(0,m.p0)(h),schemaVersion:x.f$,editors:[null==g?void 0:g.id]}:void 0,...b?{channels:[{channelId:b}]}:{}}}}).then(e=>{var n,a,d;if(!(null==e||null==(n=e.data)?void 0:n.duplicateDoc))throw Error("No data received");null==v||v.track(u.VV.EXAMPLE_DUPLICATED,{doc_id:o,title:s,source:j});let h=null==e||null==(d=e.data)||null==(a=d.duplicateDoc)?void 0:a.id;(0,p.c)({doc_id:h,source:j,source_doc_id:o}),console.debug("[Duplicate.".concat(j,"] Doc duplicated New doc id (").concat(h,"). Navigating to Editor")),i.update(w,{status:"success",description:(0,r.jsx)(l.x6,{id:"zzDlyQ"}),duration:5e3,isClosable:!0});let x=y?"/docs/".concat(h).concat(y?"?openThemeEditor=true":""):C?"/docs/".concat(h,"?").concat(c.y,"=true"):"/docs/".concat(h);k?window.open(x,"_blank"):t(x),_&&h&&_(h)},e=>{console.error("[Duplicate.".concat(j,"] Error duplicating doc:"),e.message),i.update(w,{title:(0,r.jsx)(l.x6,{id:"ADJtFi"}),description:e.message,status:"error",duration:null,isClosable:!0})}).catch(e=>{console.error("[Duplicate.".concat(j,"] Error duplicating doc:"),e.message),i.update(w,{title:(0,r.jsx)(l.x6,{id:"ADJtFi"}),description:e.message,status:"error",duration:null,isClosable:!0})}):(console.error("[Duplicate.".concat(j,"] Cannot duplicate without a user or workspace"),{user:g}),Promise.reject(Error("Cannot duplicate without a user or workspace")))},[null==f?void 0:f.id,g,i,e,v,t])}},50849:(e,t,i)=>{i.d(t,{U:()=>C});var r=i(74171),n=i(58495),l=i(81278),a=i(55729),o=i(88586),s=i(95578),d=i(20715),c=i(25172),u=i(51817),p=i(72492),h=i(18341),x=i(76644);let m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.replaceAll(/\s|\\|\./g,"-").replaceAll(/-+/g,"-").replaceAll(/[/-]{2,}/g,"/").replaceAll(/(^[/-])|([/-]$)/g,"");return"/".concat(t)},g=e=>{var t;let{docId:i,path:r,file:n}=e,l=m(r),a=null!=(t=n.pages)?t:[];if(!a.find(e=>e.id!==i&&e.path===l))return l;let{prefix:o,count:s}=(0,x.B)(l),d=null===s?1:s;return a.forEach(e=>{if(!e.path||e.path.slice(0,o.length)!==o)return;let{count:t}=(0,x.B)(e.path);t&&t>=d&&(d=t+1)}),"".concat(o,"-").concat(d)},f=()=>{let[e]=(0,o.wdY)(),{user:t}=(0,h.ur)();return(0,a.useCallback)(async i=>{let{title:r,path:n,documentAttributes:l,file:a}=i,s=(0,c.k5)(l),h=(0,p.p0)(s);if(!a)throw Error("Tried to create a page without file");let x=g({path:n,file:a}),{data:m}=await e({variables:{fileId:a.id,title:r,path:x,source:o.ALe.SitesAddPage,initialContent:{ydoc:h,schemaVersion:u.f$,editors:[null==t?void 0:t.id]}}});if(!m)throw Error("Mutation didnt return data");let{createPage:{id:f}}=m;return(0,d.c)({doc_id:f,source:o.ALe.SitesAddPage,channel:null}),{docId:f}},[e,null==t?void 0:t.id])};var v=i(15342),b=i(8139),j=i(49405),y=i(42721),_=i(55276),k=i(70006);let C=()=>{let e=(0,j.Z)(),{user:t,currentWorkspace:i}=(0,y.ur)(),[h]=(0,o.jL_)(),[x]=(0,o.Imo)(),{push:m}=(0,l.useRouter)(),g=f(),C=(0,v.GV)(_.nU),w=(0,s.u)("createFilePage");return(0,a.useCallback)(async l=>{let a,{title:s,path:f,siteId:v,routes:j,sourceDocId:y}=l;if(!f.startsWith("/"))return void console.error("[AddNewPageToSite] Path must start with /. Aborting.",f);if(!(null==i?void 0:i.id)||!v||!j)return;let _={settings:{...b.S9.webpage_fluid.docSettings()},docFlags:{cardLayoutsEnabled:!0},format:"webpage"};if(w&&(null==C?void 0:C.id)&&!y){let{docId:e}=await g({title:s,path:f,documentAttributes:_,file:C}),t=(0,k.pF)({docId:e});return console.debug("[AddPageModal] Doc created. Adding route then navigating to editor",e),await m(t,void 0,{shallow:!0}),e}if(y)await e({docId:y,docTitle:s,source:o.ALe.SitesDuplicatePage,onSuccess:e=>{a=e}});else{let e=(0,c.k5)(_),r=(0,p.p0)(e),n={title:s,path:f,source:o.ALe.SitesAddPage,initialContent:{ydoc:r,schemaVersion:u.f$,editors:[null==t?void 0:t.id]}},{data:l}=await h({variables:{...n,workspaceId:null==i?void 0:i.id,orgAccess:o.aXG.Manage,mainPage:"/"===f}});a=null==l?void 0:l.createDoc.id,(0,d.c)({doc_id:a,source:o.ALe.SitesAddPage,channel:null})}if(!v||!a)return void console.error("[AddPageModal] Site or doc id is undefined. Cannot add route.");let R=e=>x({variables:{input:{siteId:v,docId:a,path:e,offline:!1}},refetchQueries:["GetSite"]});try{await R(f)}catch(e){if(e instanceof r.K&&(0,o.vIB)(e).find(e=>"duplicate_site_path"===e))await R("".concat(f,"-").concat((0,n.Ak)(5)));else throw e}let S=(0,k.pF)({docId:a});return console.debug("[AddPageModal] Doc created. Adding route then navigating to editor",a),await m(S,void 0,{shallow:!0}),a},[null==i?void 0:i.id,x,m,e,h,null==t?void 0:t.id,null==C?void 0:C.id,g,w])}},53932:(e,t,i)=>{i.d(t,{I:()=>b,O:()=>j});var r=i(6029),n=i(40313),l=i(66425),a=i(3393),o=i(28144),s=i(94283),d=i(82759),c=i(48621),u=i(19564),p=i(77650),h=i(55729),x=i(88586),m=i(14322),g=i(70006),f=i(41471);let v=e=>{let{label:t,ariaLabel:i,icon:a,iconColor:o,isLoading:s,handler:d}=e;return(0,r.jsx)(n.$,{variant:"plain",size:"md","aria-label":i,onClick:d,leftIcon:(0,r.jsx)(l.az,{color:o,children:(0,r.jsx)(c.g,{icon:a})}),boxShadow:"none",isLoading:s,isDisabled:s,_hover:{boxShadow:"md",borderColor:o},children:t})},b=()=>new BroadcastChannel("social_post"),j=e=>{var t;let{doc:i,exportMode:n,cardRangesInput:l}=e,{isOpen:c,onOpen:j,onClose:y}=(0,a.j)({id:"linkedin-post-modal"}),{data:_,loading:k}=(0,x.kvr)(),C=null==_||null==(t=_.userIntegrations)?void 0:t.integrations;return(0,h.useEffect)(()=>b().addEventListener("message",e=>{"true"===e.data.success&&"linkedin"===e.data.platform&&j()}),[j]),(0,r.jsxs)(o.z,{children:[(0,r.jsx)(v,{label:(0,r.jsxs)(s.E,{children:[f.L.linkedin.label," ",(0,r.jsx)(d.E,{colorScheme:"green",children:(0,r.jsx)(u.x6,{id:"isRobC"})})]}),isLoading:k,ariaLabel:f.L.linkedin.cta(),icon:f.L.linkedin.icon,iconColor:f.L.linkedin.iconColor,handler:()=>(null==C?void 0:C.includes(x.n30.Linkedin))?j():(0,m.GE)({url:(0,g.n$)(),title:p.Ru._({id:"Abf1Uw"}),w:800,h:600})}),c&&(0,r.jsx)(f.A,{isSocialPostModalOpen:c,onSocialPostModalClose:y,socialPlatform:"linkedin",cardRangesInput:"all"===n?"":l,doc:i})]})}},60584:(e,t,i)=>{i.d(t,{Wt:()=>x});var r=i(75534),n=i(3495),l=i(57987),a=i(8749),o=i(20462),s=i(96529),d=i(17383),c=i(55685),u=i(6029),[p,h]=(0,l.q)({name:"FormErrorStylesContext",errorMessage:"useFormErrorStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormError />\" "}),x=(0,a.R)((e,t)=>{let i=(0,o.o5)("FormError",e),n=(0,s.MN)(e),l=(0,r.Uc)();return(null==l?void 0:l.isInvalid)?(0,u.jsx)(p,{value:i,children:(0,u.jsx)(d.B.div,{...null==l?void 0:l.getErrorMessageProps(n,t),className:(0,c.cx)("chakra-form__error-message",e.className),__css:{display:"flex",alignItems:"center",...i.text}})}):null});x.displayName="FormErrorMessage",(0,a.R)((e,t)=>{let i=h(),l=(0,r.Uc)();if(!(null==l?void 0:l.isInvalid))return null;let a=(0,c.cx)("chakra-form__error-icon",e.className);return(0,u.jsx)(n.I,{ref:t,"aria-hidden":!0,...e,__css:i.icon,className:a,children:(0,u.jsx)("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}).displayName="FormErrorIcon"},62997:(e,t,i)=>{i.d(t,{YP:()=>c,eD:()=>d,mc:()=>s,oP:()=>o});var r=i(6029),n=i(19564),l=i(77650),a=i(88586);let o=1,s=()=>l.Ru._({id:"cyLJM2"}),d=()=>l.Ru._({id:"6h5uMS"}),c={[a.KPK.Admin]:{title:(0,r.jsx)(n.x6,{id:"U3pytU"}),description:(0,r.jsx)(n.x6,{id:"U4MLdj"})},[a.KPK.Member]:{title:(0,r.jsx)(n.x6,{id:"OvoEq7"}),description:(0,r.jsx)(n.x6,{id:"nslZjr"})}}},65007:(e,t,i)=>{i.d(t,{HN:()=>tG,Rv:()=>ea,j9:()=>Z,qF:()=>Q});var r=i(55729),n=i(66764),l=i(3393),a=i(63588),o=i(99804),s=i(8749),d=i(46370),c=i(17383),u=i(53909),p=i(49377),h=i(66425),x=i(21638),m=i(91767),g=i(96378),f=i(10497),v=i(53295),b=i(20462),j=i(39199),y=i(33218),_=i(49224),k=i(26028),C=i(48078),w=i(60619),R=i(39918),S=i(22984),A=i(83),I=i.n(A),E=i(27022),T=i(94201),P="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof i.g?i.g:"u">typeof self?self:{};function O(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var z={exports:{}},M={};z.exports=function(){if(tw)return M;tw=1;var e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,n=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function a(t,r,a){var o,s={},d=null,c=null;for(o in void 0!==a&&(d=""+a),void 0!==r.key&&(d=""+r.key),void 0!==r.ref&&(c=r.ref),r)i.call(r,o)&&!l.hasOwnProperty(o)&&(s[o]=r[o]);if(t&&t.defaultProps)for(o in r=t.defaultProps)void 0===s[o]&&(s[o]=r[o]);return{$$typeof:e,type:t,key:d,ref:c,props:s,_owner:n.current}}return M.Fragment=t,M.jsx=a,M.jsxs=a,M}();var D=z.exports;let[N,L]=(0,n.q)({name:"AutoCompleteContext",errorMessage:"useAutoCompleteContext: `context` is undefined. Seems you forgot to wrap all autoomplete components within `<AutoComplete />`"});var B=function(e,t){for(var i,n=r.Children.toArray(e),l=0;l<n.length;l++){var a=n[l];if(t(a))return a;if(null!=(i=a.props)&&i.children){var o=B(a.props.children,t);if(o)return o}}},W=globalThis&&globalThis.__spreadArray||function(e,t){for(var i=0,r=t.length,n=e.length;i<r;i++,n++)e[n]=t[i];return e},F=function(e,t){for(var i,n=r.Children.toArray(e),l=[],a=0;a<n.length;a++){var o=n[a];t(o)&&(l=W(W([],l),[o])),null!=(i=o.props)&&i.children&&(l=W(W([],l),F(o.props.children,t)))}return l};function G(e,t,i=2){function r(e,t){let i=Array((e=" ".repeat(t-1)+e.toLowerCase()+" ".repeat(t-1)).length-t+1);for(let r=0;r<i.length;r++)i[r]=e.slice(r,r+t);return i}if(!(null!=e&&e.length)||!(null!=t&&t.length))return 0;let n=e.length<t.length?e:t,l=e.length<t.length?t:e,a=r(n,i),o=r(l,i),s=new Set(a),d=o.length,c=0;for(let e of o)s.delete(e)&&c++;return c/d}let U=e=>{var t;return null==(t="string"==typeof e||"number"==typeof e?e:e[Object.keys(e)[0]])?void 0:t.toString()},$=(e,t)=>"string"!=typeof e||(0,C.Im)(t)?e:e.toString().replace(RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"gi"),e=>`<mark>${e}</mark>`),V=e=>F(e,e=>{var t;return(null==(t=null==e?void 0:e.type)?void 0:t.displayName)==="AutoCompleteItem"}).map(e=>{let t=(0,w.Up)(e.props,["value","label","fixed","disabled"]),{getValue:i=U}=e.props,r=i(t.value);return{...(0,C.O9)(t.label)?t:{...t,label:r},value:r,originalValue:t.value}}),X=()=>({bg:"whiteAlpha.100",_light:{bg:"gray.200"}}),K=(e,t,i)=>(null==t?void 0:t.toLowerCase().indexOf(null==e?void 0:e.toLowerCase()))>=0||(null==i?void 0:i.toLowerCase().indexOf(null==e?void 0:e.toLowerCase()))>=0||G(e,t)>=.5||G(e,i)>=.5,q=(e,t)=>{let i={},r={},{field:n}=e;return n&&Object.keys(n).forEach(e=>{if(!1===e.startsWith("--input"))i[e]=n[e];else{let t=n[e],i=e.replace("--input-","").replace(/-([a-z])/g,function(e){return e[1].toUpperCase()});-1!==t.indexOf(".")&&(t=t.substring(t.indexOf(".")+1)),r[i]=t}}),{...t&&{...i,...r,_focusWithin:e.field._focus,pos:"relative",minH:9,py:1.5,spacing:3},cursor:"text",h:"fit-content"}},H=(e,t)=>B(e,e=>{var i;return(null==(i=null==e?void 0:e.type)?void 0:i.displayName)==="AutoCompleteItem"&&e.props.value===(null==t?void 0:t.value)}),Y=(e,t)=>B(e,e=>{var i;return(null==(i=null==e?void 0:e.type)?void 0:i.displayName)==="AutoCompleteItem"&&e.props.value===(null==t?void 0:t.value)}),J=(e,t)=>(0,C.O9)(B(e,e=>{var i,r;let n=(0,R.Jg)((null==(i=e.props)?void 0:i.getValue)||U,(null==(r=e.props)?void 0:r.value)||{});return t.some(e=>e.value===n)})),Z=(0,s.R)((e,t)=>{let i=function(e){var t;let{closeOnBlur:i=!0,creatable:n,emphasize:s,emptyState:d=!0,freeSolo:c,isReadOnly:u,listAllValuesOnFocus:p,maxSuggestions:h,multiple:x,closeOnSelect:m=!x,defaultValue:g,defaultValues:f=g?[g]:[],onReady:v,defaultIsOpen:b,disableFilter:j,isLoading:y=!1,placement:_="bottom",restoreOnBlurIfEmpty:k=!c,shouldRenderSuggestions:A=()=>!0,submitKeys:I=[],suggestWhenEmpty:E,value:T,values:P=T?"string"==typeof T?[T]:[...T]:void 0}=e;c=c||!!x||e.freeSolo;let{isOpen:O,onClose:z,onOpen:M}=(0,l.j)({defaultIsOpen:b}),D=(0,R.Jg)(e.children,{isOpen:O,onClose:z,onOpen:M}),N=V(D),L=(0,r.useRef)(null),B=(0,r.useRef)(null),W=(0,r.useRef)(null),F=(0,r.useRef)(null),[G,Z]=(0,r.useState)(!1),Q="";x?Q="":(0,C.b0)(f)?(0,C.b0)(P)||(Q=P[0]):Q=f[0];let[ee,et]=(0,r.useState)(Q??""),ei=j?N:N.filter(t=>t.fixed||(0,R.Jg)(e.filter||K,ee,t.value,t.label)||G).filter((e,t)=>!h||e.fixed||t<h),er=[...ei,...n?[{value:ee,noFilter:!0,creatable:!0}]:[]],[en,el]=(0,a.i)({defaultValue:f.map(e=>null==e?void 0:e.toString()),value:P,onChange:t=>{let i=er.find(e=>e.value===t[0]),r=t.map(e=>er.find(t=>t.value===e));(0,R.Jg)(e.onChange,x?t:t[0],x?r:i)}}),[ea,eo]=(0,r.useState)(null==(t=N[0])?void 0:t.value),es=e.maxSelections||en.length+1,ed=er.findIndex(e=>e.value===ea),ec=(0,S.H9)(ed,er,!!e.rollNavigation),eu=(0,S.Ri)(ed,er,!!e.rollNavigation),ep=(0,S.ue)(er),eh=(0,S.W)(er);(0,o.w)(()=>{eo(null==ep?void 0:ep.value)},[ee]),(0,r.useEffect)(()=>{var e;O||eo(null==(e=N[0])?void 0:e.value)},[O]),(0,r.useEffect)(()=>{let t=N.find(e=>e.value===ea);(0,R.Jg)(e.onOptionFocus,{item:t,focusMethod:F.current,isNewInput:null==t?void 0:t.creatable})},[ea,e.onOptionFocus]);let ex=t=>{var i,r;!en.includes(t)&&en.length<es&&el(e=>x?[...e,t]:[t]);let n=er.find(e=>e.value===t);x&&(null==(i=L.current)||i.focus()),e.focusInputOnSelect&&(null==(r=L.current)||r.focus()),(0,R.Jg)(e.onSelectOption,{item:n,selectMethod:F.current,isNewInput:null==n?void 0:n.creatable}),null!=n&&n.creatable&&(0,R.Jg)(e.onCreateOption,{item:(0,w.cJ)(n,["noFilter"]),selectMethod:F.current});let l=(null==n?void 0:n.label)||(null==n?void 0:n.value);et(()=>x?"":l??""),m&&z()},em=(t,i)=>{var r;el(i=>{let r=N.find(e=>e.value===t);return(0,R.Jg)(e.onTagRemoved,t,r,i),i.filter(e=>e!==t)}),ee===t&&et(""),i&&(null==(r=L.current)||r.focus())},eg=x?en.map(e=>{var t;return{label:(null==(t=N.find(t=>t.value===(null==e?void 0:e.toString())))?void 0:t.label)||e,onRemove:()=>em(e)}}):[];return(0,r.useEffect)(()=>{(0,R.Jg)(v,{tags:eg})},[en]),{autoCompleteProps:e,children:D,filteredList:er,filteredResults:ei,focusedValue:ea,getEmptyStateProps:e=>{if(er.every(e=>e.noFilter)&&d&&!n)return"boolean"==typeof d?e:(0,R.Jg)(d,{query:ee})},getGroupProps:e=>{let t=J(e.children,er);return{divider:{hasFirstChild:H(e.children,ep),hasLastChild:Y(e.children,(0,S.W)(er.filter(e=>(0,C.b0)(null==e?void 0:e.noFilter))))},group:{display:t?"initial":"none"}}},getInputProps:(t,r)=>{let{onBlur:n,onChange:l,onFocus:a,onKeyDown:o,variant:s,...d}=t;return{wrapper:{ref:B,onClick:()=>{var e;null==(e=null==L?void 0:L.current)||e.focus()},...q(r,x),...d},input:{isReadOnly:u,onFocus:t=>{(0,R.Jg)(a,t),e.openOnFocus&&!u&&M(),e.selectOnFocus&&t.target.select(),p&&Z(!0)},onBlur:e=>{var t,r;(0,R.Jg)(n,e);let l=e.relatedTarget===(null==W?void 0:W.current)||(null==(t=W.current)?void 0:t.contains(e.relatedTarget)),a=null==(r=B.current)?void 0:r.contains(e.relatedTarget);if(!l&&!a&&(i&&z(),!en.includes(e.target.value)&&k)){let e=(0,S.W)(en),t=N.find(t=>t.value===e);et((null==t?void 0:t.label)||(null==t?void 0:t.value)||"")}},onChange:e=>{let t=e.target.value;(0,R.Jg)(l,e),et(t);let i=(0,C.Im)(t);(0,R.Jg)(A,t)&&(!i||E)?M():z(),Z(!1)},onKeyDown:e=>{var t;(0,R.Jg)(o,e),F.current="keyboard";let{key:i}=e,r=er[ed];if(["Enter",...I].includes(i)){r&&!(null!=r&&r.disabled)?ex(null==r?void 0:r.value):null==(t=L.current)||t.focus(),e.preventDefault();return}if("ArrowDown"===i){O?eo(null==ec?void 0:ec.value):M(),e.preventDefault();return}if("ArrowUp"===i){O?eo(null==eu?void 0:eu.value):M(),e.preventDefault();return}if("Tab"===i)return void(O&&r&&!(null!=r&&r.disabled)?ex(null==r?void 0:r.value):z());if("Home"===i){eo(null==ep?void 0:ep.value),e.preventDefault();return}if("End"===i){eo(null==eh?void 0:eh.value),e.preventDefault();return}"Escape"===i&&(z(),e.preventDefault())},value:ee,variant:x?"unstyled":s,...d}}},getItemProps:(e,t)=>{var i;let{_fixed:r,_focus:n,children:l,disabled:a,label:o,value:d,fixed:c,getValue:u=U,onClick:p,onMouseOver:h,sx:x,...m}=e,g=t?d:null==(i=u(d))?void 0:i.toString(),f=g===ea,v=er.findIndex(e=>e.value===g)>=0,b=l||o||g;return{item:{..."string"!=typeof b||!s?{children:b}:{dangerouslySetInnerHTML:{__html:$(b,ee)}},"aria-selected":en.includes(g),"aria-disabled":a,_disabled:{opacity:.4,cursor:"not-allowed",userSelect:"none"},onClick:e=>{var t;(0,R.Jg)(p,e),a?null==(t=L.current)||t.focus():ex(g)},onMouseOver:e=>{(0,R.Jg)(h,e),eo(g),F.current="mouse"},sx:{...x,mark:{color:"inherit",bg:"transparent",...(0,C.Gv)(s)?s:{fontWeight:s?"extrabold":"inherit"}}},...f&&(n||X()),...c&&r,...m},root:{isValidSuggestion:v,value:g}}},inputRef:L,interactionRef:F,isLoading:y,isOpen:O,itemList:N,listRef:W,onClose:z,onOpen:M,placement:_,query:ee,removeItem:em,resetItems:e=>{var t;el([]),e&&(null==(t=L.current)||t.focus())},setQuery:et,tags:eg,values:en}}(e),{children:n,isOpen:s,onClose:u,onOpen:p,placement:h,resetItems:x,removeItem:m}=i;return(0,r.useImperativeHandle)(t,()=>({resetItems:x,removeItem:m})),D.jsx(N,{value:i,children:D.jsx(d.A,{isLazy:!0,isOpen:s,onClose:u,onOpen:p,autoFocus:!1,placement:h,closeOnBlur:!0,matchWidth:!0,children:D.jsx(c.B.div,{w:"full",ref:t,children:n})})})});Z.displayName="AutoComplete";let Q=(0,s.R)((e,t)=>{let{focusedValue:i,getItemProps:n,interactionRef:l}=L(),a=(0,r.useRef)(),o=(0,u.S)(t,a),s=n(e),{isValidSuggestion:d,value:c}=s.root,h=i===c;(0,r.useEffect)(()=>{var e;h&&"keyboard"===l.current&&(null==(e=null==a?void 0:a.current)||e.scrollIntoView({behavior:"smooth",block:"center"}))},[h,l]),(0,r.useEffect)(()=>{"string"!=typeof c&&console.warn("wow"),"string"!=typeof c&&(0,C.b0)(e.getValue)&&console.error("You must define the `getValue` prop, when an Item's value is not a string")},[]);let{children:x,dangerouslySetInnerHTML:m,...g}=s.item,f=(0,w.cJ)(g,["groupId"]);return d?D.jsx(p.s,{ref:o,...ee,...f,children:x||D.jsx("span",{dangerouslySetInnerHTML:m})}):null});Q.displayName="AutoCompleteItem";let ee={mx:"2",px:"2",py:"2",rounded:"md",cursor:"pointer"},et=(0,s.R)((e,t)=>{let{children:i,showDivider:r,...n}=e,l=(0,w.cJ)(n,["groupSibling"]),{getGroupProps:a}=L(),{group:o}=a(e),s=en(e);return D.jsxs(h.az,{ref:t,...o,...l,children:[D.jsx(x.c,{...s.top}),i,D.jsx(x.c,{...s.bottom})]})}),ei=(0,s.R)((e,t)=>D.jsx(p.s,{...er,...e,ref:t}));et.displayName="AutoCompleteGroup",ei.displayName="AutoCompleteGroupTitle";let er={ml:5,my:1,fontSize:"xs",letterSpacing:"wider",fontWeight:"extrabold",textTransform:"uppercase"},en=e=>{let{getGroupProps:t}=L(),i=e.groupSibling,{divider:{hasFirstChild:r,hasLastChild:n}}=t(e),l={my:2,borderColor:e.dividerColor};return{top:{...l,mb:4,display:!e.showDivider||r?"none":""},bottom:{...l,display:!e.showDivider||n||i?"none":""}}},el=(0,s.R)((e,t)=>{let{isLoading:i}=L(),{loadingIcon:r,...n}=e;return D.jsxs(m.M,{children:[D.jsx(g.p,{...n,ref:t}),i&&D.jsx(f.t,{children:r||D.jsx(v.y,{})})]})}),ea=(0,s.R)((e,t)=>{let{autoCompleteProps:i,inputRef:n,getInputProps:l,tags:a,setQuery:o}=L(),{children:s,isInvalid:d,hidePlaceholder:c,...p}=e,{value:h}=p;(0,r.useEffect)(()=>{void 0!==h&&("string"==typeof h||h instanceof String)&&o(h)},[h]);let{wrapper:x,input:m}=l(p,(0,b.o5)("Input",e)),{ref:g,...f}=x,v=(0,u.S)(t,n),_=(0,R.Jg)(s,{tags:a});c&&(m={...m,placeholder:Array.isArray(_)&&_.length?void 0:m.placeholder});let k=D.jsx(el,{isInvalid:d,...m,ref:v}),C=D.jsxs(j.B,{...f,ref:g,children:[_,D.jsx(j.Q,{as:el,...m,ref:v})]});return D.jsx(y.d,{children:i.multiple?C:k})});ea.displayName="Input",ea.id="Input";var eo=(0,r.createContext)({});function es(){let e=(0,r.useContext)(eo);if(void 0===e)throw Error("useColorMode must be used within a ColorModeProvider");return e}eo.displayName="ColorModeContext";var ed=(...e)=>e.filter(Boolean).join(" ");function ec(e){let t=typeof e;return null!=e&&("object"===t||"function"===t)&&!Array.isArray(e)}function eu(e,...t){return ep(e)?e(...t):e}var ep=e=>"function"==typeof e,eh={exports:{}};eh.exports,function(e,t){var i,r,n,l,a,o,s,d,c,u,p,h,x="__lodash_hash_undefined__",m="[object Arguments]",g="[object Function]",f="[object Object]",v=/^\[object .+?Constructor\]$/,b=/^(?:0|[1-9]\d*)$/,j={};j["[object Float32Array]"]=j["[object Float64Array]"]=j["[object Int8Array]"]=j["[object Int16Array]"]=j["[object Int32Array]"]=j["[object Uint8Array]"]=j["[object Uint8ClampedArray]"]=j["[object Uint16Array]"]=j["[object Uint32Array]"]=!0,j[m]=j["[object Array]"]=j["[object ArrayBuffer]"]=j["[object Boolean]"]=j["[object DataView]"]=j["[object Date]"]=j["[object Error]"]=j[g]=j["[object Map]"]=j["[object Number]"]=j[f]=j["[object RegExp]"]=j["[object Set]"]=j["[object String]"]=j["[object WeakMap]"]=!1;var y="object"==typeof P&&P&&P.Object===Object&&P,_="object"==typeof self&&self&&self.Object===Object&&self,k=y||_||Function("return this")(),C=t&&!t.nodeType&&t,w=C&&e&&!e.nodeType&&e,R=w&&w.exports===C,S=R&&y.process,A=function(){try{return w&&w.require&&w.require("util").types||S&&S.binding&&S.binding("util")}catch{}}(),I=A&&A.isTypedArray,E=Array.prototype,T=Function.prototype,O=Object.prototype,z=k["__core-js_shared__"],M=T.toString,D=O.hasOwnProperty,N=(d=/[^.]+$/.exec(z&&z.keys&&z.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"",L=O.toString,B=M.call(Object),W=RegExp("^"+M.call(D).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),F=R?k.Buffer:void 0,G=k.Symbol,U=k.Uint8Array,$=F?F.allocUnsafe:void 0,V=(c=Object.getPrototypeOf,u=Object,function(e){return c(u(e))}),X=Object.create,K=O.propertyIsEnumerable,q=E.splice,H=G?G.toStringTag:void 0,Y=function(){try{var e=ex(Object,"defineProperty");return e({},"",{}),e}catch{}}(),J=F?F.isBuffer:void 0,Z=Math.max,Q=Date.now,ee=ex(k,"Map"),et=ex(Object,"create"),ei=function(){function e(){}return function(t){if(!eR(t))return{};if(X)return X(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}();function er(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}function en(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}function el(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}function ea(e){var t=this.__data__=new en(e);this.size=t.size}function eo(e,t,i){(void 0===i||eb(e[t],i))&&(void 0!==i||t in e)||ed(e,t,i)}function es(e,t){for(var i=e.length;i--;)if(eb(e[i][0],t))return i;return -1}function ed(e,t,i){"__proto__"==t&&Y?Y(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}er.prototype.clear=function(){this.__data__=et?et(null):{},this.size=0},er.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=!!t,t},er.prototype.get=function(e){var t=this.__data__;if(et){var i=t[e];return i===x?void 0:i}return D.call(t,e)?t[e]:void 0},er.prototype.has=function(e){var t=this.__data__;return et?void 0!==t[e]:D.call(t,e)},er.prototype.set=function(e,t){var i=this.__data__;return this.size+=+!this.has(e),i[e]=et&&void 0===t?x:t,this},en.prototype.clear=function(){this.__data__=[],this.size=0},en.prototype.delete=function(e){var t=this.__data__,i=es(t,e);return!(i<0)&&(i==t.length-1?t.pop():q.call(t,i,1),--this.size,!0)},en.prototype.get=function(e){var t=this.__data__,i=es(t,e);return i<0?void 0:t[i][1]},en.prototype.has=function(e){return es(this.__data__,e)>-1},en.prototype.set=function(e,t){var i=this.__data__,r=es(i,e);return r<0?(++this.size,i.push([e,t])):i[r][1]=t,this},el.prototype.clear=function(){this.size=0,this.__data__={hash:new er,map:new(ee||en),string:new er}},el.prototype.delete=function(e){var t=eh(this,e).delete(e);return this.size-=!!t,t},el.prototype.get=function(e){return eh(this,e).get(e)},el.prototype.has=function(e){return eh(this,e).has(e)},el.prototype.set=function(e,t){var i=eh(this,e),r=i.size;return i.set(e,t),this.size+=+(i.size!=r),this},ea.prototype.clear=function(){this.__data__=new en,this.size=0},ea.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},ea.prototype.get=function(e){return this.__data__.get(e)},ea.prototype.has=function(e){return this.__data__.has(e)},ea.prototype.set=function(e,t){var i=this.__data__;if(i instanceof en){var r=i.__data__;if(!ee||r.length<199)return r.push([e,t]),this.size=++i.size,this;i=this.__data__=new el(r)}return i.set(e,t),this.size=i.size,this};var ec=function(e,t,i){for(var r=-1,n=Object(e),l=i(e),a=l.length;a--;){var o=l[++r];if(!1===t(n[o],o,n))break}return e};function eu(e){var t;return null==e?void 0===e?"[object Undefined]":"[object Null]":H&&H in Object(e)?function(e){var t=D.call(e,H),i=e[H];try{e[H]=void 0;var r=!0}catch{}var n=L.call(e);return r&&(t?e[H]=i:delete e[H]),n}(e):(t=e,L.call(t))}function ep(e){return eS(e)&&eu(e)==m}function eh(e,t){var i,r,n=e.__data__;return("string"==(r=typeof(i=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==i:null===i)?n["string"==typeof t?"string":"hash"]:n.map}function ex(e,t){var i,r=null==e?void 0:e[t];return!(!eR(r)||(i=r,N&&N in i))&&(eC(r)?W:v).test(function(e){if(null!=e){try{return M.call(e)}catch{}try{return e+""}catch{}}return""}(r))?r:void 0}function em(e,t){var i=typeof e;return!!(t=t??0x1fffffffffffff)&&("number"==i||"symbol"!=i&&b.test(e))&&e>-1&&e%1==0&&e<t}function eg(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||O)}function ef(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ev=(r=Y?function(e,t){var i;return Y(e,"toString",{configurable:!0,enumerable:!1,value:(i=t,function(){return i}),writable:!0})}:eE,n=0,l=0,function(){var e=Q(),t=16-(e-l);if(l=e,t>0){if(++n>=800)return arguments[0]}else n=0;return r.apply(void 0,arguments)});function eb(e,t){return e===t||e!=e&&t!=t}var ej=ep(function(){return arguments}())?ep:function(e){return eS(e)&&D.call(e,"callee")&&!K.call(e,"callee")},ey=Array.isArray;function e_(e){return null!=e&&ew(e.length)&&!eC(e)}var ek=J||function(){return!1};function eC(e){if(!eR(e))return!1;var t=eu(e);return t==g||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ew(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=0x1fffffffffffff}function eR(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function eS(e){return null!=e&&"object"==typeof e}var eA=I?function(e){return I(e)}:function(e){return eS(e)&&ew(e.length)&&!!j[eu(e)]};function eI(e){return e_(e)?function(e,t){var i=ey(e),r=!i&&ej(e),n=!i&&!r&&ek(e),l=!i&&!r&&!n&&eA(e),a=i||r||n||l,o=a?function(e,t){for(var i=-1,r=Array(e);++i<e;)r[i]=t(i);return r}(e.length,String):[],s=o.length;for(var d in e)(t||D.call(e,d))&&!(a&&("length"==d||n&&("offset"==d||"parent"==d)||l&&("buffer"==d||"byteLength"==d||"byteOffset"==d)||em(d,s)))&&o.push(d);return o}(e,!0):function(e){if(!eR(e)){var t=e,i=[];if(null!=t)for(var r in Object(t))i.push(r);return i}var n=eg(e),l=[];for(var a in e)"constructor"==a&&(n||!D.call(e,a))||l.push(a);return l}(e)}function eE(e){return e}e.exports=(p=function(e,t,i,r){!function e(t,i,r,n,l){t!==i&&ec(i,function(a,o){if(l||(l=new ea),eR(a))!function(e,t,i,r,n,l,a){var o=ef(e,i),s=ef(t,i),d=a.get(s);if(d)return eo(e,i,d);var c=l?l(o,s,i+"",e,t,a):void 0,u=void 0===c;if(u){var p,h,x,m,g,v,b,j=ey(s),y=!j&&ek(s),_=!j&&!y&&eA(s);c=s,j||y||_?ey(o)?c=o:eS(p=o)&&e_(p)?c=function(e,t){var i=-1,r=e.length;for(t||(t=Array(r));++i<r;)t[i]=e[i];return t}(o):y?(u=!1,c=function(e,t){if(t)return e.slice();var i=e.length,r=$?$(i):new e.constructor(i);return e.copy(r),r}(s,!0)):_?(u=!1,h=s,g=(new U(m=new(x=h.buffer).constructor(x.byteLength)).set(new U(x)),m),c=new h.constructor(g,h.byteOffset,h.length)):c=[]:function(e){if(!eS(e)||eu(e)!=f)return!1;var t=V(e);if(null===t)return!0;var i=D.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&M.call(i)==B}(s)||ej(s)?(c=o,ej(o)?c=function(e,t,i,r){var n=!i;i||(i={});for(var l=-1,a=t.length;++l<a;){var o=t[l],s=void 0;void 0===s&&(s=e[o]),n?ed(i,o,s):function(e,t,i){var r=e[t];D.call(e,t)&&eb(r,i)&&(void 0!==i||t in e)||ed(e,t,i)}(i,o,s)}return i}(v=o,eI(v)):(!eR(o)||eC(o))&&(c="function"!=typeof(b=s).constructor||eg(b)?{}:ei(V(b)))):u=!1}u&&(a.set(s,c),n(c,s,r,l,a),a.delete(s)),eo(e,i,c)}(t,i,o,r,e,n,l);else{var s=n?n(ef(t,o),a,o+"",t,i,l):void 0;void 0===s&&(s=a),eo(t,o,s)}},eI)}(e,t,i,r)},ev((a=h=function(e,t){var i=-1,r=t.length,n=r>1?t[r-1]:void 0,l=r>2?t[2]:void 0;for(n=p.length>3&&"function"==typeof n?(r--,n):void 0,l&&function(e,t,i){if(!eR(i))return!1;var r=typeof t;return("number"==r?!!(e_(i)&&em(t,i.length)):"string"==r&&t in i)&&eb(i[t],e)}(t[0],t[1],l)&&(n=r<3?void 0:n,r=1),e=Object(e);++i<r;){var a=t[i];a&&p(e,a,i,n)}return e},o=void 0,s=eE,o=Z(void 0===o?a.length-1:o,0),function(){for(var e=arguments,t=-1,i=Z(e.length-o,0),r=Array(i);++t<i;)r[t]=e[o+t];t=-1;for(var n=Array(o+1);++t<o;)n[t]=e[t];return n[o]=s(r),function(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}(a,this,n)}),h+""))}(eh,eh.exports);let ex=O(eh.exports);var em=e=>/!(important)?$/.test(e),eg=e=>"string"==typeof e?e.replace(/!(important)?$/,"").trim():e,ef=(e,t)=>i=>{let r=String(t),n=em(r),l=eg(r),a=e?`${e}.${l}`:l,o=ec(i.__cssMap)&&a in i.__cssMap?i.__cssMap[a].varRef:t;return o=eg(o),n?`${o} !important`:o};function ev(e){let{scale:t,transform:i,compose:r}=e;return(e,n)=>{var l;let a=ef(t,e)(n),o=null!=(l=null==i?void 0:i(a,n))?l:a;return r&&(o=r(o,n)),o}}var eb=(...e)=>t=>e.reduce((e,t)=>t(e),t);function ej(e,t){return i=>{let r={property:i,scale:e};return r.transform=ev({scale:e,transform:t}),r}}var ey=({rtl:e,ltr:t})=>i=>"rtl"===i.direction?e:t,e_=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"],ek={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:"var(--chakra-blur) var(--chakra-brightness) var(--chakra-contrast) var(--chakra-grayscale) var(--chakra-hue-rotate) var(--chakra-invert) var(--chakra-saturate) var(--chakra-sepia) var(--chakra-drop-shadow)"},eC={backdropFilter:"var(--chakra-backdrop-blur) var(--chakra-backdrop-brightness) var(--chakra-backdrop-contrast) var(--chakra-backdrop-grayscale) var(--chakra-backdrop-hue-rotate) var(--chakra-backdrop-invert) var(--chakra-backdrop-opacity) var(--chakra-backdrop-saturate) var(--chakra-backdrop-sepia)","--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"},ew={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},eR={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},eS=new Set(Object.values(eR)),eA=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),eI=e=>e.trim(),eE=e=>"string"==typeof e&&e.includes("(")&&e.includes(")"),eT=e=>{let t=parseFloat(e.toString()),i=e.toString().replace(String(t),"");return{unitless:!i,value:t,unit:i}},eP=e=>t=>`${e}(${t})`,eO={filter:e=>"auto"!==e?e:ek,backdropFilter:e=>"auto"!==e?e:eC,ring:e=>({"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":eO.px(e),boxShadow:"var(--chakra-ring-offset-shadow), var(--chakra-ring-shadow), var(--chakra-shadow, 0 0 #0000)"}),bgClip:e=>"text"===e?{color:"transparent",backgroundClip:"text"}:{backgroundClip:e},transform:e=>"auto"===e?["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...e_].join(" "):"auto-gpu"===e?["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...e_].join(" "):e,vh:e=>"$100vh"===e?"var(--chakra-vh)":e,px(e){if(null==e)return e;let{unitless:t}=eT(e);return t||"number"==typeof e?`${e}px`:e},fraction:e=>"number"!=typeof e||e>1?e:`${100*e}%`,float:(e,t)=>"rtl"===t.direction?({left:"right",right:"left"})[e]:e,degree(e){if(/^var\(--.+\)$/.test(e)||null==e)return e;let t="string"==typeof e&&!e.endsWith("deg");return"number"==typeof e||t?`${e}deg`:e},gradient:(e,t)=>(function(e,t){if(null==e||eA.has(e))return e;if(!(eE(e)||eA.has(e)))return`url('${e}')`;let i=/(^[a-z-A-Z]+)\((.*)\)/g.exec(e),r=null==i?void 0:i[1],n=null==i?void 0:i[2];if(!r||!n)return e;let l=r.includes("-gradient")?r:`${r}-gradient`,[a,...o]=n.split(",").map(eI).filter(Boolean);if((null==o?void 0:o.length)===0)return e;let s=a in eR?eR[a]:a;o.unshift(s);let d=o.map(e=>{if(eS.has(e))return e;let i=e.indexOf(" "),[r,n]=-1!==i?[e.substr(0,i),e.substr(i+1)]:[e],l=eE(n)?n:n&&n.split(" "),a=`colors.${r}`,o=a in t.__cssMap?t.__cssMap[a].varRef:r;return l?[o,...Array.isArray(l)?l:[l]].join(" "):o});return`${l}(${d.join(", ")})`})(e,t??{}),blur:eP("blur"),opacity:eP("opacity"),brightness:eP("brightness"),contrast:eP("contrast"),dropShadow:eP("drop-shadow"),grayscale:eP("grayscale"),hueRotate:eP("hue-rotate"),invert:eP("invert"),saturate:eP("saturate"),sepia:eP("sepia"),bgImage:e=>null==e||eE(e)||eA.has(e)?e:`url(${e})`,outline(e){let t="0"===String(e)||"none"===String(e);return null!==e&&t?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:e}},flexDirection(e){var t;let{space:i,divide:r}=null!=(t=ew[e])?t:{},n={flexDirection:e};return i&&(n[i]=1),r&&(n[r]=1),n}},ez={borderWidths:ej("borderWidths"),borderStyles:ej("borderStyles"),colors:ej("colors"),borders:ej("borders"),gradients:ej("gradients",eO.gradient),radii:ej("radii",eO.px),space:ej("space",eb(eO.vh,eO.px)),spaceT:ej("space",eb(eO.vh,eO.px)),degreeT:e=>({property:e,transform:eO.degree}),prop:(e,t,i)=>({property:e,scale:t,...t&&{transform:ev({scale:t,transform:i})}}),propT:(e,t)=>({property:e,transform:t}),sizes:ej("sizes",eb(eO.vh,eO.px)),sizesT:ej("sizes",eb(eO.vh,eO.fraction)),shadows:ej("shadows"),logical:function(e){let{property:t,scale:i,transform:r}=e;return{scale:i,property:ey(t),transform:i?ev({scale:i,compose:r}):r}},blur:ej("blur",eO.blur)},eM={background:ez.colors("background"),backgroundColor:ez.colors("backgroundColor"),backgroundImage:ez.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:eO.bgClip},bgSize:ez.prop("backgroundSize"),bgPosition:ez.prop("backgroundPosition"),bg:ez.colors("background"),bgColor:ez.colors("backgroundColor"),bgPos:ez.prop("backgroundPosition"),bgRepeat:ez.prop("backgroundRepeat"),bgAttachment:ez.prop("backgroundAttachment"),bgGradient:ez.gradients("backgroundImage"),bgClip:{transform:eO.bgClip}};Object.assign(eM,{bgImage:eM.backgroundImage,bgImg:eM.backgroundImage});var eD={border:ez.borders("border"),borderWidth:ez.borderWidths("borderWidth"),borderStyle:ez.borderStyles("borderStyle"),borderColor:ez.colors("borderColor"),borderRadius:ez.radii("borderRadius"),borderTop:ez.borders("borderTop"),borderBlockStart:ez.borders("borderBlockStart"),borderTopLeftRadius:ez.radii("borderTopLeftRadius"),borderStartStartRadius:ez.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:ez.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:ez.radii("borderTopRightRadius"),borderStartEndRadius:ez.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:ez.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:ez.borders("borderRight"),borderInlineEnd:ez.borders("borderInlineEnd"),borderBottom:ez.borders("borderBottom"),borderBlockEnd:ez.borders("borderBlockEnd"),borderBottomLeftRadius:ez.radii("borderBottomLeftRadius"),borderBottomRightRadius:ez.radii("borderBottomRightRadius"),borderLeft:ez.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:ez.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:ez.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:ez.borders(["borderLeft","borderRight"]),borderInline:ez.borders("borderInline"),borderY:ez.borders(["borderTop","borderBottom"]),borderBlock:ez.borders("borderBlock"),borderTopWidth:ez.borderWidths("borderTopWidth"),borderBlockStartWidth:ez.borderWidths("borderBlockStartWidth"),borderTopColor:ez.colors("borderTopColor"),borderBlockStartColor:ez.colors("borderBlockStartColor"),borderTopStyle:ez.borderStyles("borderTopStyle"),borderBlockStartStyle:ez.borderStyles("borderBlockStartStyle"),borderBottomWidth:ez.borderWidths("borderBottomWidth"),borderBlockEndWidth:ez.borderWidths("borderBlockEndWidth"),borderBottomColor:ez.colors("borderBottomColor"),borderBlockEndColor:ez.colors("borderBlockEndColor"),borderBottomStyle:ez.borderStyles("borderBottomStyle"),borderBlockEndStyle:ez.borderStyles("borderBlockEndStyle"),borderLeftWidth:ez.borderWidths("borderLeftWidth"),borderInlineStartWidth:ez.borderWidths("borderInlineStartWidth"),borderLeftColor:ez.colors("borderLeftColor"),borderInlineStartColor:ez.colors("borderInlineStartColor"),borderLeftStyle:ez.borderStyles("borderLeftStyle"),borderInlineStartStyle:ez.borderStyles("borderInlineStartStyle"),borderRightWidth:ez.borderWidths("borderRightWidth"),borderInlineEndWidth:ez.borderWidths("borderInlineEndWidth"),borderRightColor:ez.colors("borderRightColor"),borderInlineEndColor:ez.colors("borderInlineEndColor"),borderRightStyle:ez.borderStyles("borderRightStyle"),borderInlineEndStyle:ez.borderStyles("borderInlineEndStyle"),borderTopRadius:ez.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:ez.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:ez.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:ez.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(eD,{rounded:eD.borderRadius,roundedTop:eD.borderTopRadius,roundedTopLeft:eD.borderTopLeftRadius,roundedTopRight:eD.borderTopRightRadius,roundedTopStart:eD.borderStartStartRadius,roundedTopEnd:eD.borderStartEndRadius,roundedBottom:eD.borderBottomRadius,roundedBottomLeft:eD.borderBottomLeftRadius,roundedBottomRight:eD.borderBottomRightRadius,roundedBottomStart:eD.borderEndStartRadius,roundedBottomEnd:eD.borderEndEndRadius,roundedLeft:eD.borderLeftRadius,roundedRight:eD.borderRightRadius,roundedStart:eD.borderInlineStartRadius,roundedEnd:eD.borderInlineEndRadius,borderStart:eD.borderInlineStart,borderEnd:eD.borderInlineEnd,borderTopStartRadius:eD.borderStartStartRadius,borderTopEndRadius:eD.borderStartEndRadius,borderBottomStartRadius:eD.borderEndStartRadius,borderBottomEndRadius:eD.borderEndEndRadius,borderStartRadius:eD.borderInlineStartRadius,borderEndRadius:eD.borderInlineEndRadius,borderStartWidth:eD.borderInlineStartWidth,borderEndWidth:eD.borderInlineEndWidth,borderStartColor:eD.borderInlineStartColor,borderEndColor:eD.borderInlineEndColor,borderStartStyle:eD.borderInlineStartStyle,borderEndStyle:eD.borderInlineEndStyle});var eN={color:ez.colors("color"),textColor:ez.colors("color"),fill:ez.colors("fill"),stroke:ez.colors("stroke")},eL={boxShadow:ez.shadows("boxShadow"),mixBlendMode:!0,blendMode:ez.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:ez.prop("backgroundBlendMode"),opacity:!0};Object.assign(eL,{shadow:eL.boxShadow});var eB={filter:{transform:eO.filter},blur:ez.blur("--chakra-blur"),brightness:ez.propT("--chakra-brightness",eO.brightness),contrast:ez.propT("--chakra-contrast",eO.contrast),hueRotate:ez.degreeT("--chakra-hue-rotate"),invert:ez.propT("--chakra-invert",eO.invert),saturate:ez.propT("--chakra-saturate",eO.saturate),dropShadow:ez.propT("--chakra-drop-shadow",eO.dropShadow),backdropFilter:{transform:eO.backdropFilter},backdropBlur:ez.blur("--chakra-backdrop-blur"),backdropBrightness:ez.propT("--chakra-backdrop-brightness",eO.brightness),backdropContrast:ez.propT("--chakra-backdrop-contrast",eO.contrast),backdropHueRotate:ez.degreeT("--chakra-backdrop-hue-rotate"),backdropInvert:ez.propT("--chakra-backdrop-invert",eO.invert),backdropSaturate:ez.propT("--chakra-backdrop-saturate",eO.saturate)},eW={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:eO.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:ez.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:ez.space("gap"),rowGap:ez.space("rowGap"),columnGap:ez.space("columnGap")};Object.assign(eW,{flexDir:eW.flexDirection});var eF={gridGap:ez.space("gridGap"),gridColumnGap:ez.space("gridColumnGap"),gridRowGap:ez.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},eG={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:eO.outline},outlineOffset:!0,outlineColor:ez.colors("outlineColor")},eU={width:ez.sizesT("width"),inlineSize:ez.sizesT("inlineSize"),height:ez.sizes("height"),blockSize:ez.sizes("blockSize"),boxSize:ez.sizes(["width","height"]),minWidth:ez.sizes("minWidth"),minInlineSize:ez.sizes("minInlineSize"),minHeight:ez.sizes("minHeight"),minBlockSize:ez.sizes("minBlockSize"),maxWidth:ez.sizes("maxWidth"),maxInlineSize:ez.sizes("maxInlineSize"),maxHeight:ez.sizes("maxHeight"),maxBlockSize:ez.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(e,t)=>{var i,r,n;return{[`@media screen and (min-width: ${null!=(n=null==(r=null==(i=t.__breakpoints)?void 0:i.get(e))?void 0:r.minW)?n:e})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(e,t)=>{var i,r,n;return{[`@media screen and (max-width: ${null!=(n=null==(r=null==(i=t.__breakpoints)?void 0:i.get(e))?void 0:r._minW)?n:e})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:ez.propT("float",eO.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(eU,{w:eU.width,h:eU.height,minW:eU.minWidth,maxW:eU.maxWidth,minH:eU.minHeight,maxH:eU.maxHeight,overscroll:eU.overscrollBehavior,overscrollX:eU.overscrollBehaviorX,overscrollY:eU.overscrollBehaviorY});var e$={listStyleType:!0,listStylePosition:!0,listStylePos:ez.prop("listStylePosition"),listStyleImage:!0,listStyleImg:ez.prop("listStyleImage")},eV=(e=>{let t=new WeakMap;return(i,r,n,l)=>{if(typeof i>"u")return e(i,r,n);t.has(i)||t.set(i,new Map);let a=t.get(i);if(a.has(r))return a.get(r);let o=e(i,r,n,l);return a.set(r,o),o}})(function(e,t,i,r){let n="string"==typeof t?t.split("."):[t];for(r=0;r<n.length&&e;r+=1)e=e[n[r]];return void 0===e?i:e}),eX={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},eK={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},eq=(e,t,i)=>{let r={},n=eV(e,t,{});for(let e in n)e in i&&null!=i[e]||(r[e]=n[e]);return r},eH={position:!0,pos:ez.prop("position"),zIndex:ez.prop("zIndex","zIndices"),inset:ez.spaceT("inset"),insetX:ez.spaceT(["left","right"]),insetInline:ez.spaceT("insetInline"),insetY:ez.spaceT(["top","bottom"]),insetBlock:ez.spaceT("insetBlock"),top:ez.spaceT("top"),insetBlockStart:ez.spaceT("insetBlockStart"),bottom:ez.spaceT("bottom"),insetBlockEnd:ez.spaceT("insetBlockEnd"),left:ez.spaceT("left"),insetInlineStart:ez.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:ez.spaceT("right"),insetInlineEnd:ez.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(eH,{insetStart:eH.insetInlineStart,insetEnd:eH.insetInlineEnd});var eY={ring:{transform:eO.ring},ringColor:ez.colors("--chakra-ring-color"),ringOffset:ez.prop("--chakra-ring-offset-width"),ringOffsetColor:ez.colors("--chakra-ring-offset-color"),ringInset:ez.prop("--chakra-ring-inset")},eJ={margin:ez.spaceT("margin"),marginTop:ez.spaceT("marginTop"),marginBlockStart:ez.spaceT("marginBlockStart"),marginRight:ez.spaceT("marginRight"),marginInlineEnd:ez.spaceT("marginInlineEnd"),marginBottom:ez.spaceT("marginBottom"),marginBlockEnd:ez.spaceT("marginBlockEnd"),marginLeft:ez.spaceT("marginLeft"),marginInlineStart:ez.spaceT("marginInlineStart"),marginX:ez.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:ez.spaceT("marginInline"),marginY:ez.spaceT(["marginTop","marginBottom"]),marginBlock:ez.spaceT("marginBlock"),padding:ez.space("padding"),paddingTop:ez.space("paddingTop"),paddingBlockStart:ez.space("paddingBlockStart"),paddingRight:ez.space("paddingRight"),paddingBottom:ez.space("paddingBottom"),paddingBlockEnd:ez.space("paddingBlockEnd"),paddingLeft:ez.space("paddingLeft"),paddingInlineStart:ez.space("paddingInlineStart"),paddingInlineEnd:ez.space("paddingInlineEnd"),paddingX:ez.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:ez.space("paddingInline"),paddingY:ez.space(["paddingTop","paddingBottom"]),paddingBlock:ez.space("paddingBlock")};Object.assign(eJ,{m:eJ.margin,mt:eJ.marginTop,mr:eJ.marginRight,me:eJ.marginInlineEnd,marginEnd:eJ.marginInlineEnd,mb:eJ.marginBottom,ml:eJ.marginLeft,ms:eJ.marginInlineStart,marginStart:eJ.marginInlineStart,mx:eJ.marginX,my:eJ.marginY,p:eJ.padding,pt:eJ.paddingTop,py:eJ.paddingY,px:eJ.paddingX,pb:eJ.paddingBottom,pl:eJ.paddingLeft,ps:eJ.paddingInlineStart,paddingStart:eJ.paddingInlineStart,pr:eJ.paddingRight,pe:eJ.paddingInlineEnd,paddingEnd:eJ.paddingInlineEnd});var eZ={textDecorationColor:ez.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:ez.shadows("textShadow")},eQ={clipPath:!0,transform:ez.propT("transform",eO.transform),transformOrigin:!0,translateX:ez.spaceT("--chakra-translate-x"),translateY:ez.spaceT("--chakra-translate-y"),skewX:ez.degreeT("--chakra-skew-x"),skewY:ez.degreeT("--chakra-skew-y"),scaleX:ez.prop("--chakra-scale-x"),scaleY:ez.prop("--chakra-scale-y"),scale:ez.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:ez.degreeT("--chakra-rotate")},e0={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:ez.prop("transitionDuration","transition.duration"),transitionProperty:ez.prop("transitionProperty","transition.property"),transitionTimingFunction:ez.prop("transitionTimingFunction","transition.easing")},e1={fontFamily:ez.prop("fontFamily","fonts"),fontSize:ez.prop("fontSize","fontSizes",eO.px),fontWeight:ez.prop("fontWeight","fontWeights"),lineHeight:ez.prop("lineHeight","lineHeights"),letterSpacing:ez.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(e){if(!0===e)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},e6={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:ez.spaceT("scrollMargin"),scrollMarginTop:ez.spaceT("scrollMarginTop"),scrollMarginBottom:ez.spaceT("scrollMarginBottom"),scrollMarginLeft:ez.spaceT("scrollMarginLeft"),scrollMarginRight:ez.spaceT("scrollMarginRight"),scrollMarginX:ez.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:ez.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:ez.spaceT("scrollPadding"),scrollPaddingTop:ez.spaceT("scrollPaddingTop"),scrollPaddingBottom:ez.spaceT("scrollPaddingBottom"),scrollPaddingLeft:ez.spaceT("scrollPaddingLeft"),scrollPaddingRight:ez.spaceT("scrollPaddingRight"),scrollPaddingX:ez.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:ez.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function e5(e){return ec(e)&&e.reference?e.reference:String(e)}var e2=(e,...t)=>t.map(e5).join(` ${e} `).replace(/calc/g,""),e9=(...e)=>`calc(${e2("+",...e)})`,e3=(...e)=>`calc(${e2("-",...e)})`,e4=(...e)=>`calc(${e2("*",...e)})`,e8=(...e)=>`calc(${e2("/",...e)})`,e7=e=>{let t=e5(e);return null==t||Number.isNaN(parseFloat(t))?e4(t,-1):String(t).startsWith("-")?String(t).slice(1):`-${t}`},te=Object.assign(e=>({add:(...t)=>te(e9(e,...t)),subtract:(...t)=>te(e3(e,...t)),multiply:(...t)=>te(e4(e,...t)),divide:(...t)=>te(e8(e,...t)),negate:()=>te(e7(e)),toString:()=>e.toString()}),{add:e9,subtract:e3,multiply:e4,divide:e8,negate:e7});function tt(e){if(null==e)return e;let{unitless:t}=function(e){let t=parseFloat(e.toString()),i=e.toString().replace(String(t),"");return{unitless:!i,value:t,unit:i}}(e);return t||"number"==typeof e?`${e}px`:e}var ti={hover:(e,t)=>`${e}:hover ${t}, ${e}[data-hover] ${t}`,focus:(e,t)=>`${e}:focus ${t}, ${e}[data-focus] ${t}`,focusVisible:(e,t)=>`${e}:focus-visible ${t}`,focusWithin:(e,t)=>`${e}:focus-within ${t}`,active:(e,t)=>`${e}:active ${t}, ${e}[data-active] ${t}`,disabled:(e,t)=>`${e}:disabled ${t}, ${e}[data-disabled] ${t}`,invalid:(e,t)=>`${e}:invalid ${t}, ${e}[data-invalid] ${t}`,checked:(e,t)=>`${e}:checked ${t}, ${e}[data-checked] ${t}`,placeholderShown:(e,t)=>`${e}:placeholder-shown ${t}`},tr=e=>tl(t=>e(t,"&"),"[role=group]","[data-group]",".group"),tn=e=>tl(t=>e(t,"~ &"),"[data-peer]",".peer"),tl=(e,...t)=>t.map(e).join(", "),ta={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:tr(ti.hover),_peerHover:tn(ti.hover),_groupFocus:tr(ti.focus),_peerFocus:tn(ti.focus),_groupFocusVisible:tr(ti.focusVisible),_peerFocusVisible:tn(ti.focusVisible),_groupActive:tr(ti.active),_peerActive:tn(ti.active),_groupDisabled:tr(ti.disabled),_peerDisabled:tn(ti.disabled),_groupInvalid:tr(ti.invalid),_peerInvalid:tn(ti.invalid),_groupChecked:tr(ti.checked),_peerChecked:tn(ti.checked),_groupFocusWithin:tr(ti.focusWithin),_peerFocusWithin:tn(ti.focusWithin),_peerPlaceholderShown:tn(ti.placeholderShown),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]"},to=Object.keys(ta),ts=ex({},eM,eD,eN,eW,eU,eB,eY,eG,eF,{srOnly:{transform:e=>!0===e?eX:"focusable"===e?eK:{}},layerStyle:{processResult:!0,transform:(e,t,i)=>eq(t,`layerStyles.${e}`,i)},textStyle:{processResult:!0,transform:(e,t,i)=>eq(t,`textStyles.${e}`,i)},apply:{processResult:!0,transform:(e,t,i)=>eq(t,e,i)}},eH,eL,eJ,e6,e1,eZ,eQ,e$,e0);Object.assign({},eJ,eU,eW,eF,eH);var td=[...Object.keys(ts),...to],tc={...ts,...ta},tu=e=>e in tc,tp=e=>t=>{if(!t.__breakpoints)return e;let{isResponsive:i,toArrayValue:r,media:n}=t.__breakpoints,l={};for(let a in e){let o=eu(e[a],t);if(null==o)continue;if(!Array.isArray(o=ec(o)&&i(o)?r(o):o)){l[a]=o;continue}let s=o.slice(0,n.length).length;for(let e=0;e<s;e+=1){let t=null==n?void 0:n[e];if(!t){l[a]=o[e];continue}l[t]=l[t]||{},null!=o[e]&&(l[t][a]=o[e])}}return l},th=(e,t)=>e.startsWith("--")&&"string"==typeof t&&!/^var\(--.+\)$/.test(t),tx=(e,t)=>{var i,r;if(null==t)return t;let n=t=>{var i,r;return null==(r=null==(i=e.__cssMap)?void 0:i[t])?void 0:r.varRef},l=e=>{var t;return null!=(t=n(e))?t:e},[a,o]=function(e){let t=[],i="",r=!1;for(let n=0;n<e.length;n++){let l=e[n];"("===l?(r=!0,i+=l):")"===l?(r=!1,i+=l):","!==l||r?i+=l:(t.push(i),i="")}return(i=i.trim())&&t.push(i),t}(t);return t=null!=(r=null!=(i=n(a))?i:l(o))?r:l(t)},tm=e=>t=>(function(e){let{configs:t={},pseudos:i={},theme:r}=e,n=(e,l=!1)=>{var a,o,s;let d=eu(e,r),c=tp(d)(r),u={};for(let e in c){let p=eu(c[e],r);e in i&&(e=i[e]),th(e,p)&&(p=tx(r,p));let h=t[e];if(!0===h&&(h={property:e}),ec(p)){u[e]=null!=(a=u[e])?a:{},u[e]=ex({},u[e],n(p,!0));continue}let x=null!=(s=null==(o=null==h?void 0:h.transform)?void 0:o.call(h,p,r,d))?s:p;x=null!=h&&h.processResult?n(x,!0):x;let m=eu(null==h?void 0:h.property,r);if(!l&&null!=h&&h.static&&(u=ex({},u,eu(h.static,r))),m&&Array.isArray(m)){for(let e of m)u[e]=x;continue}if(m){"&"===m&&ec(x)?u=ex({},u,x):u[m]=x;continue}if(ec(x)){u=ex({},u,x);continue}u[e]=x}return u};return n})({theme:t,pseudos:ta,configs:ts})(e),tg="u">typeof Element,tf="function"==typeof Map,tv="function"==typeof Set,tb="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;let tj=O(function(e,t){try{return function e(t,i){if(t===i)return!0;if(t&&i&&"object"==typeof t&&"object"==typeof i){var r,n,l,a;if(t.constructor!==i.constructor)return!1;if(Array.isArray(t)){if((r=t.length)!=i.length)return!1;for(n=r;0!=n--;)if(!e(t[n],i[n]))return!1;return!0}if(tf&&t instanceof Map&&i instanceof Map){if(t.size!==i.size)return!1;for(a=t.entries();!(n=a.next()).done;)if(!i.has(n.value[0]))return!1;for(a=t.entries();!(n=a.next()).done;)if(!e(n.value[1],i.get(n.value[0])))return!1;return!0}if(tv&&t instanceof Set&&i instanceof Set){if(t.size!==i.size)return!1;for(a=t.entries();!(n=a.next()).done;)if(!i.has(n.value[0]))return!1;return!0}if(tb&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(i)){if((r=t.length)!=i.length)return!1;for(n=r;0!=n--;)if(t[n]!==i[n])return!1;return!0}if(t.constructor===RegExp)return t.source===i.source&&t.flags===i.flags;if(t.valueOf!==Object.prototype.valueOf&&"function"==typeof t.valueOf&&"function"==typeof i.valueOf)return t.valueOf()===i.valueOf();if(t.toString!==Object.prototype.toString&&"function"==typeof t.toString&&"function"==typeof i.toString)return t.toString()===i.toString();if((r=(l=Object.keys(t)).length)!==Object.keys(i).length)return!1;for(n=r;0!=n--;)if(!Object.prototype.hasOwnProperty.call(i,l[n]))return!1;if(tg&&t instanceof Element)return!1;for(n=r;0!=n--;)if(!(("_owner"===l[n]||"__v"===l[n]||"__o"===l[n])&&t.$$typeof)&&!e(t[l[n]],i[l[n]]))return!1;return!0}return t!=t&&i!=i}(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}});function ty(e,t={}){var i;let{styleConfig:n,...l}=t,{theme:a,colorMode:o}=function(){let e=es(),t=function(){let e=(0,r.useContext)(T.T);if(!e)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return e}();return{...e,theme:t}}(),s=e?(0,w.rY)(a,`components.${e}`):void 0,d=n||s,c=I()({theme:a,colorMode:o},null!=(i=null==d?void 0:d.defaultProps)?i:{},(0,w.TB)((0,w.cJ)(l,["children"]))),u=(0,r.useRef)({});if(d){let e=(e=>{var t;let{variant:i,size:r,theme:n}=e,l=function(e){let t=e.__breakpoints;return function(e,i,r,n){var l,a,o;if(!t)return;let s={},d=(o=t.toArrayValue,Array.isArray(r)?r:ec(r)?o(r):null!=r?[r]:void 0);if(!d)return s;let c=d.length,u=1===c,p=!!e.parts;for(let r=0;r<c;r++){let o=t.details[r],c=t.details[function(e,t){for(let i=t+1;i<e.length;i++)if(null!=e[i])return i;return -1}(d,r)],h=function(e,t){let i=["@media screen"];return e&&i.push("and",`(min-width: ${tt(e)})`),t&&i.push("and",`(max-width: ${tt(t)})`),i.join(" ")}(o.minW,null==c?void 0:c._minW),x=eu(null==(l=e[i])?void 0:l[d[r]],n);if(x){if(p){null==(a=e.parts)||a.forEach(e=>{ex(s,{[e]:u?x[e]:{[h]:x[e]}})});continue}if(!p){u?ex(s,x):s[h]=x;continue}s[h]=x}}return s}}(n);return ex({},eu(null!=(t=d.baseStyle)?t:{},e),l(d,"sizes",r,e),l(d,"variants",i,e))})(c);tj(u.current,e)||(u.current=e)}return u.current}var t_=new Set([...td,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),tk=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function tC(e){return tk.has(e)||!t_.has(e)}var tw,tR,tS=null!=(tR=E.A.default)?tR:E.A,tA=({baseStyle:e})=>t=>{let{theme:i,css:r,__css:n,sx:l,...a}=t,o=(0,w.I$)(a,(e,t)=>tu(t)),s=tm(function(e,...t){if(null==e)throw TypeError("Cannot convert undefined or null to object");let i={...e};for(let e of t)if(null!=e)for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(t in i&&delete i[t],i[t]=e[t]);return i}({},n,(0,R.Jg)(e,t),(0,w.TB)(o),l))(t.theme);return r?[s,r]:s};function tI(e,t){let{baseStyle:i,...n}=t??{};n.shouldForwardProp||(n.shouldForwardProp=tC);let l=tA({baseStyle:i}),a=tS(e,n)(l);return r.forwardRef(function(e,t){let{colorMode:i,forced:n}=es();return r.createElement(a,{ref:t,"data-theme":n?i:void 0,...e})})}var tE=function(){let e=new Map;return new Proxy(tI,{apply:(e,t,i)=>tI(...i),get:(t,i)=>(e.has(i)||e.set(i,tI(i)),e.get(i))})}();function tT(e){return(0,r.forwardRef)(e)}var tP={path:D.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[D.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),D.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),D.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},tO=tT((e,t)=>{let{as:i,viewBox:r,color:n="currentColor",focusable:l=!1,children:a,className:o,__css:s,...d}=e,c=ed("chakra-icon",o),u=function(e,t={}){return ty(e,t)}("Icon",e),p={ref:t,focusable:l,className:c,__css:{w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:n,...s,...u}},h=r??tP.viewBox;if(i&&"string"!=typeof i)return D.jsx(tE.svg,{as:i,...p,...d});let x=a??tP.path;return D.jsx(tE.svg,{verticalAlign:"middle",viewBox:h,...p,...d,children:x})});tO.displayName="Icon",tT(function(e,t){let{spacing:i="0.5rem",spacingX:n,spacingY:l,children:a,justify:o,direction:s,align:d,className:c,shouldWrapChildren:u,...p}=e,h=(0,r.useMemo)(()=>u?r.Children.map(a,(e,t)=>D.jsx(tz,{children:e},t)):a,[a,u]);return D.jsx(tE.div,{ref:t,className:ed("chakra-wrap",c),...p,children:D.jsx(tE.ul,{className:"chakra-wrap__list",__css:{display:"flex",flexWrap:"wrap",justifyContent:o,alignItems:d,flexDirection:s,listStyleType:"none",gap:i,columnGap:n,rowGap:l,padding:"0"},children:h})})}).displayName="Wrap";var tz=tT(function(e,t){let{className:i,...r}=e;return D.jsx(tE.li,{ref:t,__css:{display:"flex",alignItems:"flex-start"},className:ed("chakra-wrap__listitem",i),...r})});tz.displayName="WrapItem";var tM=tE("div");tM.displayName="Box";var tD=tT(function(e,t){let{size:i,centerContent:r=!0,...n}=e;return D.jsx(tM,{ref:t,boxSize:i,__css:{...r?{display:"flex",alignItems:"center",justifyContent:"center"}:{},flexShrink:0,flexGrow:0},...n})});tD.displayName="Square",tT(function(e,t){let{size:i,...r}=e;return D.jsx(tD,{size:i,ref:t,borderRadius:"9999px",...r})}).displayName="Circle";var tN=tT(function(e,t){let{direction:i,align:r,justify:n,wrap:l,basis:a,grow:o,shrink:s,...d}=e;return D.jsx(tE.div,{ref:t,__css:{display:"flex",flexDirection:i,alignItems:r,justifyContent:n,flexWrap:l,flexBasis:a,flexGrow:o,flexShrink:s},...d})});tN.displayName="Flex";let tL=e=>{let{getEmptyStateProps:t}=L(),i=t(D.jsx(tN,{...tB,children:"No options found!"}));return D.jsx(tM,{...e,children:i})},tB={fontSize:"sm",align:"center",justify:"center",fontWeight:"bold",fontStyle:"italic"},tW=["AutoCompleteGroup","AutoCompleteItem","AutoCompleteCreatable"],tF=e=>{let t=r.Children.map(e,(t,i)=>{var n;if((null==(n=null==t?void 0:t.type)?void 0:n.displayName)==="AutoCompleteGroup"){let n=r.Children.toArray(e)[i+1];return r.cloneElement(t,{groupSibling:!!n&&"AutoCompleteGroup"===n.type.displayName})}return t}),i=r.Children.toArray(t).filter(e=>{var t;return!tW.includes(null==(t=null==e?void 0:e.type)?void 0:t.displayName)});return[r.Children.toArray(t).filter(e=>{var t;return tW.includes(null==(t=null==e?void 0:e.type)?void 0:t.displayName)}),i]},tG=(0,s.R)((e,t)=>{let{children:i,loadingState:r,...n}=e,{listRef:l,isLoading:a}=L(),o=(0,u.S)(t,l),[s,d]=tF(i);return D.jsxs(_.h,{ref:o,w:"inherit",...tU,...n,children:[a&&D.jsx(k.o,{children:r||D.jsx(v.y,{size:"md"})}),!a&&D.jsxs(D.Fragment,{children:[s,D.jsx(tL,{}),d]})]})});tG.displayName="AutoCompleteList";let tU={py:"4",opacity:"0",bg:"#232934",rounded:"md",maxH:"350px",border:"none",shadow:"base",zIndex:"popover",overflowY:"auto",_light:{bg:"#ffffff"},_focus:{boxShadow:"none"}};var[t$,tV]=function(e={}){let{name:t,strict:i=!0,hookName:n="useContext",providerName:l="Provider",errorMessage:a,defaultValue:o}=e,s=(0,r.createContext)(o);return s.displayName=t,[s.Provider,function e(){var t;let o=(0,r.useContext)(s);if(!o&&i){let i=Error(a??`${n} returned \`undefined\`. Seems you forgot to wrap component within ${l}`);throw i.name="ContextError",null==(t=Error.captureStackTrace)||t.call(Error,i,e),i}return o},s]}({name:"TagStylesContext",errorMessage:"useTagStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Tag />\" "}),tX=tT((e,t)=>{let i=function(e,t={}){return ty("Tag",t)}(0,e),r=function(e,t=[]){let i=Object.assign({},e);for(let e of t)e in i&&delete i[e];return i}(e,["styleConfig","size","variant","colorScheme"]),n={display:"inline-flex",verticalAlign:"top",alignItems:"center",maxWidth:"100%",...i.container};return D.jsx(t$,{value:i,children:D.jsx(tE.span,{ref:t,...r,__css:n})})});tX.displayName="Tag";var tK=tT((e,t)=>{let i=tV();return D.jsx(tE.span,{ref:t,noOfLines:1,...e,__css:i.label})});tK.displayName="TagLabel",tT((e,t)=>D.jsx(tO,{ref:t,verticalAlign:"top",marginEnd:"0.5rem",...e})).displayName="TagLeftIcon",tT((e,t)=>D.jsx(tO,{ref:t,verticalAlign:"top",marginStart:"0.5rem",...e})).displayName="TagRightIcon";var tq=e=>D.jsx(tO,{verticalAlign:"inherit",viewBox:"0 0 512 512",...e,children:D.jsx("path",{fill:"currentColor",d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})});tq.displayName="TagCloseIcon";var tH=tT((e,t)=>{let{isDisabled:i,children:r,...n}=e,l={display:"flex",alignItems:"center",justifyContent:"center",outline:"0",...tV().closeButton};return D.jsx(tE.button,{ref:t,"aria-label":"close",...n,type:"button",disabled:i,__css:l,children:r||D.jsx(tq,{})})});tH.displayName="TagCloseButton",(0,r.memo)(e=>{let{label:t,onRemove:i,disabled:r,...n}=e;return D.jsx(tz,{children:D.jsxs(tX,{borderRadius:"md",fontWeight:"normal",...r&&tY,...n,children:[D.jsx(tK,{children:t}),D.jsx(tH,{onClick:()=>!r&&(0,R.Jg)(i),cursor:"pointer",...r&&tY})]})})});let tY={cursor:"text",userSelect:"none",opacity:.4,_focus:{boxShadow:"none"}}},66897:(e,t)=>{var i=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/;t.t=function(e){if(!e||e.length>254||!i.test(e))return!1;var t=e.split("@");return!(t[0].length>64||t[1].split(".").some(function(e){return e.length>63}))}},67165:(e,t,i)=>{i.d(t,{d:()=>o});var r=i(87796),n=i(8749),l=i(17383),a=i(6029),o=(0,n.R)((e,t)=>{let i=(0,r.k)();return(0,a.jsx)(l.B.thead,{...e,ref:t,__css:i.thead})})},72737:(e,t,i)=>{i.d(t,{D5:()=>u,PR:()=>v,U5:()=>b,ZP:()=>m,bC:()=>x,vz:()=>g});var r=i(6029),n=i(99492),l=i(19564),a=i(77650),o=i(88586),s=i(99038),d=i(24729),c=i(70006);let u=(e,t)=>{var i;return(null==e||null==(i=e.organization)?void 0:i.id)!==(null==t?void 0:t.id)},p={PRIVATE:"private",LINK_VIEW:"link-view",LINK_COMMENT:"link-comment",LINK_EDIT:"link-edit",PASSWORD_VIEW:"password-view",PASSWORD_COMMENT:"password-comment",PASSWORD_EDIT:"password-edit",INDIVIDUAL:"individual",ORG_VIEW:"org-view",ORG_COMMENT:"org-comment",ORG_EDIT:"org-edit",ORG_MANAGE:"org-manage",CHANNEL_PRIVATE:"channel-private",PUBLIC:"public"},h=[p.ORG_VIEW,p.ORG_COMMENT,p.ORG_EDIT,p.ORG_MANAGE],x=()=>({[p.PRIVATE]:{title:()=>a.Ru._({id:"IZiYjM",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP}}),subtitle:()=>a.Ru._({id:"nHujJB",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP}}),primaryIcon:n.DW4},[p.LINK_VIEW]:{title:()=>a.Ru._({id:"Pb5t/X",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP}}),primaryIcon:n.CQO},[p.LINK_COMMENT]:{title:()=>a.Ru._({id:"FUtIA5",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP}}),primaryIcon:n.CQO},[p.LINK_EDIT]:{title:()=>a.Ru._({id:"tNOSZi",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP}}),primaryIcon:n.CQO},[p.PASSWORD_VIEW]:{title:()=>a.Ru._({id:"s1I4TC",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP}}),primaryIcon:n.OKD},[p.PASSWORD_COMMENT]:{title:()=>a.Ru._({id:"ZVsBuN",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP}}),primaryIcon:n.OKD},[p.PASSWORD_EDIT]:{title:()=>a.Ru._({id:"IAzUDH",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP}}),primaryIcon:n.OKD},[p.INDIVIDUAL]:{title:()=>a.Ru._({id:"IB6oAl",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP}}),subtitle:e=>"".concat(e," can access this ").concat(s.TP,"."),primaryIcon:n.X46},[p.ORG_VIEW]:{title:e=>e?a.Ru._({id:"S+losC",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP,org:e}}):a.Ru._({id:"Vk2WI0",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP}}),primaryIcon:n.URI,secondaryIcon:n.pS3},[p.ORG_COMMENT]:{title:e=>e?a.Ru._({id:"acq2w5",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP,org:e}}):a.Ru._({id:"2ASSnu",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP}}),primaryIcon:n.URI,secondaryIcon:n.DN2},[p.ORG_EDIT]:{title:e=>e?a.Ru._({id:"FFdz7p",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP,org:e}}):a.Ru._({id:"Ks6kIh",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP}}),primaryIcon:n.URI,secondaryIcon:n.zLW},[p.ORG_MANAGE]:{title:e=>e?a.Ru._({id:"3yNlmN",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP,org:e}}):a.Ru._({id:"4f22gH",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP}}),primaryIcon:n.URI},[p.CHANNEL_PRIVATE]:{title:()=>a.Ru._({id:"Tw6Jzi"}),primaryIcon:d.$Q},[p.PUBLIC]:{title:()=>a.Ru._({id:"NMHF69",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP}}),primaryIcon:n.Ge5}}),m=(e,t)=>{var i;return e?(null==e?void 0:e.orgAccess)==="manage"?p.ORG_MANAGE:(null==e?void 0:e.orgAccess)==="edit"?p.ORG_EDIT:(null==e?void 0:e.orgAccess)==="comment"?p.ORG_COMMENT:(null==e?void 0:e.orgAccess)==="view"?p.ORG_VIEW:(null==e?void 0:e.channels)&&e.channels.some(e=>null!==e.permission)?p.CHANNEL_PRIVATE:(null==e?void 0:e.collaborators)&&(null==e||null==(i=e.collaborators)?void 0:i.length)>1?p.INDIVIDUAL:(null==e?void 0:e.accessLinks)&&e.accessLinks.some(e=>"token"===e.type&&"view"===e.permission&&""===e.token)?p.LINK_VIEW:(null==e?void 0:e.accessLinks)&&e.accessLinks.some(e=>"token"===e.type&&"comment"===e.permission&&""===e.token)?p.LINK_COMMENT:(null==e?void 0:e.accessLinks)&&e.accessLinks.some(e=>"token"===e.type&&"edit"===e.permission&&""===e.token)?p.LINK_EDIT:(null==e?void 0:e.accessLinks)&&e.accessLinks.some(e=>"password"===e.type&&"view"===e.permission&&""===e.token)?p.PASSWORD_VIEW:(null==e?void 0:e.accessLinks)&&e.accessLinks.some(e=>"password"===e.type&&"comment"===e.permission&&""===e.token)?p.PASSWORD_COMMENT:(null==e?void 0:e.accessLinks)&&e.accessLinks.some(e=>"password"===e.type&&"edit"===e.permission&&""===e.token)?p.PASSWORD_EDIT:b(e,t)?p.PRIVATE:p.INDIVIDUAL:null},g=e=>(null==e?void 0:e.orgAccess)?a.Ru._({id:"5Ma3Lv",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP}}):null,f=(e,t,i)=>{var a,s;if(!t)return[];let x=(null==e||null==(a=e.channels)?void 0:a.map(e=>{let{id:t,name:i,slug:r}=e;return{id:t,label:i,href:(0,c.gU)({id:t,slug:r}),icon:d.$Q}}))||[],g=m(e,t),f=u(e,i),v=f?[{id:"shared-from-external-org",label:(null==e||null==(s=e.organization)?void 0:s.name)?(0,r.jsx)(l.x6,{id:"lFZJ+N",values:{0:e.organization.name}}):(0,r.jsx)(l.x6,{id:"qn35Ez"}),icon:n.AQM,color:"gray.500"}]:[];if(e.source!==o.ALe.ApiAiGenerated||f||v.push({id:"ai-generated",label:(0,r.jsx)(l.x6,{id:"OZtEcz"}),icon:n.jTw,color:"gray.500",colorScheme:"green"}),g===p.PUBLIC)return[{id:"public",label:(0,r.jsx)(l.x6,{id:"7d1a0d"}),icon:n.Ge5,color:"gray.500"},...v,...x];if(g===p.PRIVATE)return[{id:"private",label:(0,r.jsx)(l.x6,{id:"zwBp5t"}),icon:n.DW4,color:"gray.500"},...v];if(g===p.INDIVIDUAL){let i=(e.collaborators||[]).filter(e=>e.user.id!==t.id).length;return[{id:"collaborators",label:(0,r.jsx)(l.x6,{id:"o2NxSP",values:{numCollaborators:i}}),icon:n.X46,color:"gray.500"},...v]}if(f)return v;if(g&&h.includes(g))return[{id:"workspace",label:(0,r.jsx)(l.x6,{id:"0Gd0NU"}),icon:n.URI,color:"gray.500"},...v,...x];return x},v=e=>{let{doc:t,user:i,currentWorkspace:r,channelToExclude:n}=e;return f(t,i,r).filter(e=>e.id!==n)},b=(e,t)=>{var i;return e&&t&&!e.orgAccess&&(null==(i=e.createdBy)?void 0:i.id)===t.id}},81664:(e,t,i)=>{i.d(t,{R:()=>r});let r=new(i(83747)).b},88033:(e,t,i)=>{i.d(t,{F$:()=>r.F$,qk:()=>r.qk,uC:()=>E,j$:()=>T});var r=i(25312),n=i(6029),l=i(71262),a=i(67039),o=i(33987),s=i(57470),d=i(7959),c=i(86747),u=i(94283),p=i(66425),h=i(31445),x=i(9298),m=i(40313),g=i(3393),f=i(38451),v=i(99492),b=i(48621),j=i(19564),y=i(77650),_=i(38822),k=i.n(_),C=i(55729),w=i(88586),R=i(99038),S=i(18341),A=i(18351),I=i(72737);let E=e=>{var t,i;let{onClose:g,onSubmit:f,doc:_}=e,k=(0,S.Iy)("manage",_||void 0),{isConnected:R}=(0,w.utY)(),[A,I]=(0,C.useState)(w.aXG.Manage);return _?(0,n.jsxs)(l.aF,{closeOnOverlayClick:!1,isOpen:!0,onClose:g,size:"lg",children:[(0,n.jsx)(a.m,{}),(0,n.jsxs)(o.$,{"data-testid":"workspace-permissions-prompt",children:[(0,n.jsx)(s.r,{children:(0,n.jsx)(j.x6,{id:"JzTAyU",values:{0:_.title}})}),(0,n.jsx)(d.s,{}),(0,n.jsxs)(c.c,{children:[(0,n.jsx)(u.E,{mb:6,children:(0,n.jsx)(j.x6,{id:"wKPcxh"})}),(0,n.jsx)(r._Z,{testId:"workspace",title:(0,n.jsx)(j.x6,{id:"wtxjAY"}),subtitle:(null==_||null==(t=_.organization)?void 0:t.name)?y.Ru._({id:"aC87LX",values:{0:null==_||null==(i=_.organization)?void 0:i.name}}):y.Ru._({id:"ucB1/R"}),isDisabled:!k||!R,img:(0,n.jsx)(p.jl,{color:"gray.800",textAlign:"center",bg:"gray.200",size:"32px",children:(0,n.jsx)(b.g,{size:"1x",icon:v.URI})}),disabledText:r.ef[A].title(),permissionsControl:(0,n.jsx)(r.qk,{selected:A,options:[w.aXG.Manage,w.aXG.Edit,w.aXG.Comment,w.aXG.View],onClick:e=>{I(e)}})})]}),(0,n.jsx)(h.j,{children:(0,n.jsxs)(x.e,{children:[(0,n.jsx)(m.$,{variant:"ghost",onClick:g,children:(0,n.jsx)(j.x6,{id:"dEgA5A"})}),(0,n.jsx)(m.$,{variant:"solid","data-testid":"workspace-permissions-submit",onClick:()=>{f(A),g()},children:(0,n.jsx)(j.x6,{id:"DPfwMq"})})]})})]})]}):(0,n.jsx)(n.Fragment,{})},T=()=>{let{onOpen:e,isOpen:t,onClose:i}=(0,g.j)({id:"workspacePermissionPromptDisclosure"}),[r]=(0,w.Ix6)(),{currentWorkspace:n}=(0,S.ur)(),l=(0,f.d)(),{addDocChannel:a}=(0,A.k)(),[o,s]=(0,C.useState)(null),[d,c]=(0,C.useState)(null),u=(0,S.IM)(),p=(0,C.useCallback)((e,t)=>{let i=(e.channels||[]).find(e=>e.id===t.id),r=(0,I.D5)(e,n),a=u.cannot("manage",e)&&k()(e.orgAccess);return r?(l({description:y.Ru._({id:"doMS3L",values:{GAMMA_ARTIFACT_PROPER_NOUN:R.TP}}),status:"warning",duration:5e3,isClosable:!0,position:"top"}),!1):a?(l({description:y.Ru._({id:"81ZRAa",values:{GAMMA_ARTIFACT_PROPER_NOUN:R.TP}}),status:"warning",duration:5e3,isClosable:!0,position:"top"}),!1):!i||(l({description:y.Ru._({id:"FRsVHP",values:{GAMMA_ARTIFACT_PROPER_NOUN:R.TP}}),status:"warning",duration:5e3,isClosable:!0,position:"top"}),!1)},[u,l,n]),h=(0,C.useCallback)(e=>{if(!o||!d)return;let{id:t}=o;r({variables:{id:t,orgAccess:e},optimisticResponse:{updateDoc:{id:t,orgAccess:e,__typename:"Doc"}}}).then(()=>{a({doc:o,channel:d,existingChannels:null==o?void 0:o.channels})}).catch(e=>{console.error("[useAddDocToChannel.updatedocOrgAccess] Error setting doc orgAccess for doc id",t),l({title:y.Ru._({id:"SlfejT"}),description:y.Ru._({id:"x9Wysy",values:{0:e.message}}),status:"error"})})},[a,o,d,l,r]),x=(0,C.useCallback)((t,i)=>{p(t,i)&&(t.orgAccess?a({doc:t,channel:i,existingChannels:(null==t?void 0:t.channels)||[]}):(s(t),c(i),e()))},[a,e,p]);return{isOpen:t,onClose:(0,C.useCallback)(()=>{c(null),s(null),i()},[i]),doc:o,handleAddDocToChannel:x,updateWorkspacePermissionThenAddToChannel:h}}},96298:(e,t,i)=>{i.d(t,{a:()=>g,m:()=>f});var r=i(6029),n=i(38451),l=i(19564),a=i(81278),o=i(55729),s=i(88586),d=i(38055),c=i(20715),u=i(25172),p=i(8139),h=i(51817),x=i(72492),m=i(18341);let g={example_deck_clone_toast:s.ALe.DuplicateInspiration,import_google_doc:s.ALe.ImportGoogleDoc,import_google_slides:s.ALe.ImportGoogleSlides,import_docx:s.ALe.ImportDocx,import_pptx:s.ALe.ImportPptx,import_webpage:s.ALe.ImportWebpage,import_pdf:s.ALe.ImportPdf,blank:s.ALe.Blank,template_browser:s.ALe.DuplicateTemplate,get_started_modal:s.ALe.Blank,template_modal_griditem:s.ALe.DuplicateTemplate,template_dashboard_griditem:s.ALe.DuplicateTemplate,template_modal_preview:s.ALe.DuplicateTemplate,template_modal_preview_create_theme:s.ALe.DuplicateTemplate,"slash-new":s.ALe.SlashNew,editor_toolbar_doc_menu_duplicate:s.ALe.DuplicateDoc,dashboard_docs_view_duplicate:s.ALe.DuplicateDoc,ai_generated:s.ALe.AiGenerated,ai_generated_advanced:s.ALe.AiGenerated,sites_add_page:s.ALe.SitesAddPage,sites_copy_to_site:s.ALe.SitesCopyToSite,sites_duplicate_page:s.ALe.SitesDuplicatePage,editor_y_doc_too_large_duplicate:s.ALe.DuplicateDoc},f=()=>{let{user:e,currentWorkspace:t}=(0,m.ur)(),[i,{data:f,loading:v}]=(0,s.jL_)(),{push:b,replace:j}=(0,a.useRouter)(),y=(0,n.d)();return[(0,o.useCallback)(n=>{var a;let o=null==e||null==(a=e.settings)?void 0:a.needsEditorOnboarding,s=n.source,m=null==n?void 0:n.channelId,f=(null==n?void 0:n.historyFn)==="replace"?j:b;if(!(null==t?void 0:t.id))return void console.error("[createDocAndNavigate] No currentWorkspace found");let v=n.docSettings||p.S9.deck_default.docSettings(),_=n.format||"deck",k=(null==n?void 0:n.document)?n.document:"empty"==(o?"quickstart":"empty")?(0,u.HC)(e,{settings:{...v},format:_}):(0,u.f$)(e,{settings:{...v},format:_}),C=(0,x.p0)(k);return console.debug("[createDocAndNavigate] Creating doc",{document:k,encodedDocument:C}),i({variables:{workspaceId:null==t?void 0:t.id,title:(null==n?void 0:n.title)||"",source:g[n.source],initialContent:{ydoc:C,schemaVersion:h.f$,editors:[null==e?void 0:e.id]},...m?{channels:[{channelId:m}]}:{}}}).then(async e=>{let{data:t}=e;(0,c.c)({doc_id:null==t?void 0:t.createDoc.id,source:s,channel:m||null}),console.debug("[createDocAndNavigate] Doc created. Navigating to Editor",null==t?void 0:t.createDoc.id),f("/docs/".concat(null==t?void 0:t.createDoc.id).concat(o?"?".concat(d.y,"=true"):""))}).catch(e=>{console.error("[createDocAndNavigate]",e),y({title:(0,r.jsx)(l.x6,{id:"0jT1fA"}),description:e.message,position:"top",status:"error",isClosable:!0,duration:null})})},[i,null==t?void 0:t.id,b,j,y,e]),{data:f,loading:v}]}},96804:(e,t,i)=>{i.d(t,{B:()=>A});var r=i(6029),n=i(38451),l=i(71262),a=i(67039),o=i(33987),s=i(57470),d=i(7959),c=i(86747),u=i(29328),p=i(75534),h=i(84179),x=i(96378),m=i(31445),g=i(9298),f=i(40313),v=i(80910),b=i(19564),j=i(77650),y=i(81278),_=i(55729),k=i(88586),C=i(50849),w=i(44141),R=i(18341),S=i(70006);let A=e=>{var t;let{isOpen:i,onClose:A,existingDoc:I}=e,E=(0,n.d)(),T=(0,_.useRef)(null),[P,O]=(0,_.useState)(!1),{currentWorkspace:z}=(0,R.ur)(),[M,D]=(0,_.useState)(""),[N]=(0,k.Ybb)(),[L]=(0,k.aXl)(),B=(0,C.U)(),{push:W}=(0,y.useRouter)(),F=(0,_.useCallback)(async()=>{if(null==I?void 0:I.id){await (0,w.fb)(I.id),O(!0);try{var e,t;let{data:i}=await L({variables:{duplicateDocInput:{sourceDocId:I.id,source:k.ALe.SitesCopyToSite,title:(null==I?void 0:I.title)||j.Ru._({id:"wja8aL"}),orgId:null==z?void 0:z.id,orgAccess:k.aXG.Manage,themeId:null}}}),r=null==i||null==(e=i.duplicateDoc)?void 0:e.id;if(!r)return void console.error("[CreateSiteModal] Failed to duplicate doc with id",I.id);let{data:n}=await N({variables:{input:{workspaceId:null==z?void 0:z.id,name:M,routes:[{docId:r,path:"/"}],themeId:null==I||null==(t=I.theme)?void 0:t.id}}});if(!(null==n?void 0:n.createSite))return void console.error("[CreateSiteModal] Failed to create site, no site returned");let l=(0,S.pF)({docId:r});W(l),A()}catch(e){E({status:"error",title:(0,r.jsx)(b.x6,{id:"Pdboh4"}),description:(0,r.jsx)(b.x6,{id:"c6YG3V"})}),console.error(e)}O(!1)}},[N,null==z?void 0:z.id,L,null==I?void 0:I.id,null==I||null==(t=I.theme)?void 0:t.id,null==I?void 0:I.title,M,W,E]),G=(0,_.useCallback)(async()=>{O(!0);let{data:e}=await N({variables:{input:{workspaceId:null==z?void 0:z.id,name:M,routes:[]}}}),t=null==e?void 0:e.createSite;if(!t)return void console.error("[CreateSiteModal] Failed to create site, no site returned");B({siteId:null==t?void 0:t.id,routes:null==t?void 0:t.routes,title:"Home",path:"/"})},[B,N,null==z?void 0:z.id,M]),U=(0,_.useCallback)(async()=>(null==I?void 0:I.id)?F():G(),[null==I?void 0:I.id,F,G]),$=M.length>0;return(0,r.jsx)(v.L8,{isDark:!1,children:(0,r.jsxs)(l.aF,{isOpen:i,onClose:A,initialFocusRef:T,size:"2xl",children:[(0,r.jsx)(a.m,{}),(0,r.jsxs)(o.$,{children:[(0,r.jsx)(s.r,{children:(0,r.jsx)(b.x6,{id:"JHMOcq"})}),(0,r.jsx)(d.s,{}),(0,r.jsx)(c.c,{children:(0,r.jsx)(u.B,{spacing:4,children:(0,r.jsxs)(p.MJ,{children:[(0,r.jsx)(h.l,{children:(0,r.jsx)(b.x6,{id:"Lve3H6"})}),(0,r.jsx)(x.p,{ref:T,placeholder:j.Ru._({id:"tlD7N3"}),onChange:e=>{D(e.target.value)},onKeyDown:e=>{$&&"Enter"===e.key&&U()}})]})})}),(0,r.jsx)(m.j,{children:(0,r.jsxs)(g.e,{children:[(0,r.jsx)(f.$,{variant:"ghost",onClick:A,children:(0,r.jsx)(b.x6,{id:"dEgA5A"})}),(0,r.jsx)(f.$,{variant:"solid",onClick:U,isDisabled:!$,isLoading:P,children:(0,r.jsx)(b.x6,{id:"JHMOcq"})})]})})]})]})})}},97726:(e,t,i)=>{i.d(t,{qD:()=>P,tv:()=>eM,wB:()=>eS,ix:()=>eC,Jp:()=>eI,ic:()=>eR,wr:()=>ew,OP:()=>te,oP:()=>K.oP,Fg:()=>eL,Es:()=>e0,Is:()=>e9,HC:()=>tp,N0:()=>e_,FP:()=>ta,EP:()=>ti,bx:()=>T,ZA:()=>q.ZA,nl:()=>q.nl,ot:()=>q.ot,X5:()=>q.X5,MW:()=>q.MW,de:()=>q.de,tq:()=>q.tq,mc:()=>K.mc,eD:()=>K.eD,_t:()=>q._t,kC:()=>tx,fL:()=>I.f});var r=i(6029),n=i(28144),l=i(65524),a=i(29328),o=i(94283),s=i(79596),d=i(66425),c=i(1069),u=i(40313),p=i(20644),h=i(64871),x=i(53944),m=i(49377),g=i(99492),f=i(48621),v=i(80910),b=i(19564),j=i(77650),y=i(38822),_=i.n(y),k=i(81278),C=i(55729),w=i(82328),R=i(89528),S=i(18341),A=i(45143),I=i(84693);let E=e=>{var t;let{workspace:i,memberCount:s,isMultiline:d=!0}=e,{isConnected:c}=(0,w.u)(),u=(0,I.f)(i.id),p=(0,C.useMemo)(()=>c?u:i,[u,c,i]);return p?(0,r.jsxs)(n.z,{marginInlineEnd:4,children:[(0,r.jsx)(l.e,{name:null==(t=p.name)?void 0:t.replace(/\s/g,""),src:p.logoUrl||void 0,size:"sm",bgColor:p.logoUrl?"transparent":"orchid.300",color:"white"}),(0,r.jsxs)(a.B,{textAlign:"left",align:"flex-start",justify:"flex-start",spacing:0,...!d?{noOfLines:1}:{},children:[(0,r.jsx)(o.E,{fontSize:"sm",fontWeight:"600",wordBreak:"break-word",m:0,p:0,...!d?{overflow:"hidden",textOverflow:"ellipsis"}:{},minWidth:"0px",children:i.name}),(0,r.jsx)(R.sR,{workspace:i}),!_()(s)&&(0,r.jsx)(o.E,{fontSize:"xs",color:"gray.500",textAlign:"left",children:(0,r.jsx)(b.x6,{id:"F6GBat",values:{memberCount:s}})})]})]}):(0,r.jsx)(r.Fragment,{})},T=()=>{let{user:e,currentWorkspace:t,setCurrentWorkspaceId:i}=(0,S.ur)(),{isConnected:l}=(0,w.u)(),a=(0,A.h5)({md:"400px"}),o=(0,k.useRouter)();if(!e)return(0,r.jsx)(r.Fragment,{});let y=null==e?void 0:e.organizations;return y&&t?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(s.W,{autoSelect:!1,children:[(0,r.jsx)(v.Tz,{label:l?"":(0,r.jsx)(b.x6,{id:"ysdDIA"}),"aria-label":l?j.Ru._({id:"gh8p1T"}):j.Ru._({id:"ysdDIA"}),children:(0,r.jsx)(d.az,{children:(0,r.jsx)(c.I,{as:u.$,isDisabled:!l,variant:"ghost",borderRadius:"lg",rightIcon:l?(0,r.jsx)(f.g,{icon:g.tdl,"aria-label":"Caret icon"}):(0,r.jsx)(f.g,{icon:g.seF}),w:"100%",colorScheme:"blackAlpha",color:"gray.800",cursor:"pointer",_hover:{bg:"gray.50"},p:2,py:6,paddingInlineEnd:4,children:(0,r.jsx)(d.az,{width:"100%",children:t&&(0,r.jsx)(E,{workspace:t,memberCount:null,isMultiline:!1})})})})}),(0,r.jsx)(p.c,{minW:a,zIndex:"overlay",shadow:"lg",maxW:"min(500px, 100vw)",children:y&&y.length>0&&(0,r.jsx)(h.i,{title:j.Ru._({id:"pmt7u4"}),type:"radio",defaultValue:null==t?void 0:t.id,onChange:e=>{i(e)},children:y.filter(e=>!_()(e)&&!_()(e.id)&&!_()(e.name)).map(e=>(0,r.jsx)(x.k,{value:e.id,icon:1===y.length?null:void 0,isFocusable:1!==y.length,children:(0,r.jsxs)(n.z,{children:[(0,r.jsx)(m.s,{flex:1,w:"100%",children:(0,r.jsx)(E,{workspace:e,memberCount:null,isMultiline:!0})}),e.id===(null==t?void 0:t.id)&&(0,r.jsx)(m.s,{children:(0,r.jsx)(u.$,{size:"sm",variant:"outline",onClick:()=>o.push("/settings"),children:(0,r.jsx)(b.x6,{id:"0dbeO4"})})})]})},e.id))})})]})}):(0,r.jsx)(r.Fragment,{})},P=e=>{let{workspace:t,canManageWorkspace:i,isPaid:n}=e,l={"invite-by-email":{displayName:(0,r.jsx)(b.x6,{id:"owUDwc"}),icon:g.Hzw,component:(0,r.jsx)(e0,{workspace:t,canManageWorkspace:i,isPaid:n})},"invite-by-link":{displayName:(0,r.jsx)(b.x6,{id:"woAAa8"}),icon:g.CQO,component:(0,r.jsx)(e9,{workspace:t,canManageWorkspace:i,isPaid:n})}},[a,o]=(0,C.useState)(Object.keys(l)[0]);return(0,r.jsxs)(d.az,{w:"100%",children:[(0,r.jsx)(eI,{tabs:l,size:"sm",activeTabKey:a,setActiveTabKey:o,onClick:()=>{}}),(0,r.jsx)(d.az,{pt:4,children:a&&l[a].component})]})};var O=i(55597),z=i(23201),M=i(38451),D=i(3393),N=i(9969),L=i(87796),B=i(67165),W=i(28718),F=i(99712),G=i(62679),U=i(86336),$=i(3632),V=i(53295),X=i(88586),K=i(62997),q=i(19893),H=i(75570),Y=i(71262),J=i(67039),Z=i(33987),Q=i(57470),ee=i(7959),et=i(86747),ei=i(31445),er=i(9298),en=i(31922),el=i(38859),ea=i(70205),eo=i(49891),es=i(99038);let ed=(e,t,i)=>{let n=(0,q.jg)(t.displayName,t.email),l=(0,K.mc)();return"remove"===e?{title:(0,r.jsx)(b.x6,{id:"HlXuQk",values:{0:t.displayName||""}}),description:(0,r.jsx)(b.x6,{id:"MYcnTw",values:{nameWithEmail:n}}),confirmButtonLabel:(0,r.jsx)(b.x6,{id:"gNjH/6"})}:"leave"===e?{title:(0,r.jsx)(b.x6,{id:"6iUevl"}),description:(0,r.jsx)(b.x6,{id:"nM44Cu",values:{0:i.name}}),confirmButtonLabel:(0,r.jsx)(b.x6,{id:"hGWoeF"})}:{title:(0,r.jsx)(b.x6,{id:"kxbLa+",values:{WORKSPACE_ADMIN_DISPLAY_NAME:l}}),description:(0,r.jsx)(b.x6,{id:"gJfQ74",values:{WORKSPACE_ADMIN_DISPLAY_NAME:l}}),confirmButtonLabel:(0,r.jsx)(b.x6,{id:"m4YerB"})}},ec=e=>{let{isOpen:t,onClose:i,onConfirmClick:n,onCancelClick:l,userToConfirm:a,workspace:s,action:d}=e;if(!t)return null;let{title:c,description:p,confirmButtonLabel:h}=ed(d,a,s);return(0,r.jsxs)(Y.aF,{returnFocusOnClose:!1,onClose:i,isOpen:!0,isCentered:!0,size:"lg",children:[(0,r.jsx)(J.m,{}),(0,r.jsxs)(Z.$,{children:[(0,r.jsx)(Q.r,{children:c}),(0,r.jsx)(ee.s,{}),(0,r.jsxs)(et.c,{children:[(0,r.jsx)(o.E,{children:p}),"remove"===d&&(0,r.jsx)(eu,{user:a,mt:3})]}),(0,r.jsx)(ei.j,{children:(0,r.jsxs)(er.e,{variant:"ghost",children:[(0,r.jsx)(u.$,{onClick:l,colorScheme:"gray",children:(0,r.jsx)(b.x6,{id:"dEgA5A"})}),(0,r.jsx)(u.$,{variant:"hazardous",onClick:n,children:h})]})})]})]})},eu=e=>{let{user:t,...i}=e;return(0,r.jsxs)(en.T,{spacing:3,...i,children:[(0,r.jsx)(el.F,{status:"warning",children:(0,r.jsxs)(n.z,{children:[(0,r.jsx)(l.e,{src:null==t?void 0:t.profileImageUrl,size:"sm",name:null==t?void 0:t.displayName}),(0,r.jsxs)(a.B,{spacing:0,ml:2,flex:"1",children:[(0,r.jsx)(o.E,{fontSize:"sm",flex:"1",wordBreak:"break-word",children:null==t?void 0:t.displayName}),t.email&&(0,r.jsx)(o.E,{fontSize:"xs",color:"gray.600",flex:"1",wordBreak:"break-word",children:t.email})]})]})}),(0,r.jsxs)(el.F,{children:[(0,r.jsx)(ea._,{}),(0,r.jsxs)(eo._J,{spacing:3,children:[(0,r.jsx)(eo.ck,{children:(0,r.jsx)(b.x6,{id:"J1E9I7",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:es.Ix,0:t.displayName||""}})}),(0,r.jsx)(eo.ck,{children:(0,r.jsx)(b.x6,{id:"1i/P7t",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:es.Ix,0:t.displayName||""}})})]})]})]})};var ep=i(3888),eh=i(25938),ex=i(35908);let em=e=>{let{selected:t,options:i,onSelect:n,isMenuDisabled:l,disabledOptions:a=[],deleteLabel:m=(0,r.jsx)(b.x6,{id:"HBvein"}),onDeleteClick:v,disabledDeleteReason:j}=e,y=t===X.KPK.Admin?(0,r.jsx)(b.x6,{id:"U3pytU"}):(0,r.jsx)(b.x6,{id:"OvoEq7"});return(0,r.jsxs)(s.W,{closeOnSelect:!0,children:[(0,r.jsx)(c.I,{as:u.$,isDisabled:l,variant:"ghost",size:"sm",rightIcon:(0,r.jsx)(f.g,{icon:g.Jt$}),children:y}),(0,r.jsx)(p.c,{maxW:"320px",zIndex:"dropdown",children:(0,r.jsxs)(h.i,{defaultValue:t,value:t,type:"radio",onChange:e=>{Array.isArray(e)||n(e)},children:[i.map(e=>{let t=a.find(t=>t.disabledOption===e);return(0,r.jsx)(x.k,{value:e,isDisabled:!!t,pt:3,children:(0,r.jsx)(ep.m,{"aria-label":null==t?void 0:t.reason,label:null==t?void 0:t.reason,isDisabled:!t,placement:"right",shouldWrapChildren:!0,children:(0,r.jsxs)(d.az,{lineHeight:"base",children:[(0,r.jsx)(o.E,{fontSize:"md",children:K.YP[e].title}),(0,r.jsx)(o.E,{fontSize:"sm",color:"gray.500",children:K.YP[e].description})]})})},e)}),(0,r.jsx)(eh.N,{}),(0,r.jsx)(ep.m,{"aria-label":j,label:j,isDisabled:!j,placement:"right",shouldWrapChildren:!0,children:(0,r.jsx)(ex.D,{onClick:v,color:"red.500",fontSize:"md",lineHeight:"base",isDisabled:!!j,children:m})})]})})]})},eg=(e,t)=>(t||[]).find(t=>{var i;return(null==(i=t.workspace)?void 0:i.id)===e}),ef=e=>{var t;let{workspace:i,dateFormatterFn:n,canManageWorkspace:l,workspaceAdminCount:o}=e,[s,c]=(0,C.useState)(X.PID.DisplayName),[p,h]=(0,C.useState)(X.UEL.Asc),[x,g]=(0,C.useState)(!1),v={id:null==i?void 0:i.id,first:50,sortBy:{field:s,direction:p}},{data:y,loading:_,fetchMore:k}=(0,X.yk$)({variables:v,skip:!(null==i?void 0:i.id),fetchPolicy:"network-only",nextFetchPolicy:"network-only"}),[w,{loading:R}]=(0,X.KSE)(),[A,{loading:I}]=(0,X.fpC)(),[E,T]=(0,C.useState)(null),P=null==y||null==(t=y.workspaceMembers)?void 0:t.pageInfo,z=!_&&(null==P?void 0:P.hasNextPage)&&(null==P?void 0:P.endCursor),Y=null==y?void 0:y.workspaceMembers.edges.map(e=>e.node),{user:J,refetch:Z}=(0,S.ur)(),Q=i.id,ee=(0,M.d)(),[et,ei]=(0,C.useState)(null),[er,en]=(0,C.useState)(null),[el,ea]=(0,C.useState)(new H.c),{isOpen:eo,onOpen:es,onClose:ed}=(0,D.j)(),eu=(0,C.useMemo)(()=>null!=o?o:(null==Y?void 0:Y.reduce((e,t)=>{let i=eg(Q,t.workspaceMemberships);return i&&i.role===X.KPK.Admin&&e++,e},0))||0,[Y,Q,o]),ep=(0,C.useCallback)(async()=>(es(),el.promise),[el,es]),eh=(0,C.useCallback)(()=>{ei(null),en(null)},[]),ex=(0,C.useCallback)((e,t)=>{T(e.id),w({variables:{workspaceId:i.id,userId:e.id,role:t},refetchQueries:["GetWorkspace"]}).then(()=>{null==Z||Z(),ee({description:t===X.KPK.Admin?(0,r.jsx)(b.x6,{id:"IFCQlQ",values:{0:e.displayName,1:e.email}}):(0,r.jsx)(b.x6,{id:"gWgob7",values:{0:e.displayName,1:e.email}}),status:"success",position:"top",duration:5e3,isClosable:!0})}).catch(()=>{ee({description:(0,r.jsx)(b.x6,{id:"CF7q4i",values:{0:e.displayName,1:e.email}}),status:"error",position:"top",duration:5e3,isClosable:!0})}).finally(()=>{T(null)})},[Z,ee,w,i.id]),ef=(0,C.useCallback)(e=>async t=>{if(e&&l)if((null==J?void 0:J.id)===e.id&&t===X.KPK.Member){if(eu<=1)return;ei(e),en("giveUpAdminAccess"),ep().then(()=>{ex(e,t)}).catch(()=>{console.debug("[handleMemberRoleChange] User cancelled action")}).finally(()=>eh())}else ex(e,t)},[eu,l,ex,ep,eh,null==J?void 0:J.id]),eb=(0,C.useCallback)(e=>()=>{if(e.id===(null==J?void 0:J.id))return;let t=(0,q.jg)(e.displayName,e.email);ei(e),en("remove"),ep().then(()=>{T(e.id),A({variables:{workspaceId:Q,userId:e.id},refetchQueries:["GetWorkspace","GetWorkspaceMembers"]}).then(()=>{null==Z||Z(),ee({description:(0,r.jsx)(b.x6,{id:"jkCRxy",values:{emailWithName:t}}),status:"success",position:"top",duration:5e3,isClosable:!0})}).catch(()=>{ee({description:(0,r.jsx)(b.x6,{id:"eETcUn",values:{emailWithName:t}}),status:"error",position:"top",duration:5e3,isClosable:!0})})}).finally(()=>{T(null),eh()})},[A,ep,Q,null==J?void 0:J.id,Z,eh,ee]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(N.K,{children:(0,r.jsxs)(L.X,{variant:"simple",colorScheme:"blackAlpha",size:"sm",whiteSpace:"normal",children:[(0,r.jsx)(B.d,{children:(0,r.jsxs)(W.Tr,{children:[(0,r.jsx)(F.Th,{children:(0,r.jsx)(u.$,{ml:-3,size:"sm",variant:"ghost","aria-label":"sort",onClick:()=>{c(X.PID.DisplayName),h(e=>e===X.UEL.Asc?X.UEL.Desc:X.UEL.Asc)},rightIcon:(0,r.jsx)(f.g,{icon:s===X.PID.DisplayName?"asc"===p?O.xBV:O.S$_:O.OM7}),children:(0,r.jsx)(b.x6,{id:"6YtxFj"})})}),(0,r.jsx)(F.Th,{children:(0,r.jsx)(u.$,{ml:-3,size:"sm",variant:"ghost","aria-label":"sort",onClick:()=>{c(X.PID.CreatedTime),h(e=>e===X.UEL.Asc?X.UEL.Desc:X.UEL.Asc)},rightIcon:(0,r.jsx)(f.g,{icon:s===X.PID.CreatedTime?"asc"===p?O.xBV:O.S$_:O.OM7}),children:(0,r.jsx)(b.x6,{id:"SnjWqV"})})}),(0,r.jsx)(F.Th,{children:(0,r.jsx)(b.x6,{id:"GDvlUT"})})]})}),(0,r.jsxs)(G.N,{children:[_&&(0,r.jsx)(W.Tr,{p:0,children:(0,r.jsx)(U.Td,{colSpan:2,p:0,children:(0,r.jsxs)(a.B,{spacing:2,children:[(0,r.jsx)($.E,{h:8}),(0,r.jsx)($.E,{h:8}),(0,r.jsx)($.E,{h:8})]})})}),Y&&Y.map((e,t)=>{let a=t===Y.length-1,o=eg(i.id,e.workspaceMemberships),s=n(null==o?void 0:o.createdTime),c=null==o?void 0:o.role,u=c===X.KPK.Admin,p=c?K.YP[c].title:"",h=E===e.id,x=e.id===(null==J?void 0:J.id);return(0,r.jsxs)(W.Tr,{children:[(0,r.jsx)(U.Td,{borderBottom:a?"0 none":void 0,children:(0,r.jsx)(ev,{user:e,isSelf:x})}),(0,r.jsx)(U.Td,{borderBottom:a?"0 none":void 0,whiteSpace:"nowrap",children:s}),(0,r.jsx)(U.Td,{borderBottom:a?"0 none":void 0,w:32,children:h?(0,r.jsx)(d.az,{textAlign:"center",children:(0,r.jsx)(V.y,{size:"xs"})}):l&&c?(0,r.jsx)(em,{selected:c,isMenuDisabled:R||I,options:[X.KPK.Admin,X.KPK.Member],onSelect:ef(e),disabledOptions:u&&eu<=1?[{disabledOption:X.KPK.Member,reason:j.Ru._({id:"EUrQJ5"})}]:[],disabledDeleteReason:x?j.Ru._({id:"FuzXoL"}):void 0,onDeleteClick:eb(e)}):p})]},e.id)})]})]})}),z&&(0,r.jsx)(m.s,{w:"100%",justify:"center",align:"center",mt:3,children:(0,r.jsx)(u.$,{isLoading:x,size:"sm",onClick:()=>{g(!0),k({variables:{after:null==P?void 0:P.endCursor}}).finally(()=>{g(!1)})},children:(0,r.jsx)(b.x6,{id:"yQ2kGp"})})}),et&&er&&(0,r.jsx)(ec,{isOpen:eo,onClose:()=>{ed(),el.reject(),ea(new H.c)},onCancelClick:()=>{ed(),el.reject(),ea(new H.c)},onConfirmClick:async()=>{ed(),el.resolve(),ea(new H.c)},userToConfirm:et,action:er,workspace:i})]})},ev=e=>{let{user:t,isSelf:i}=e,{displayName:s,profileImageUrl:d,email:c}=t;return(0,r.jsxs)(n.z,{children:[(0,r.jsx)(l.e,{size:"sm",name:s,src:d}),(0,r.jsxs)(a.B,{spacing:0,children:[(0,r.jsxs)(o.E,{children:[s,i?(0,r.jsxs)(r.Fragment,{children:[" ",(0,r.jsx)(b.x6,{id:"4Q6lF1"})]}):""]}),(0,r.jsx)(n.z,{mt:1,children:(0,r.jsx)(o.E,{fontSize:"xs",children:c})})]})]})};var eb=i(26194),ej=i.n(eb);let ey=e=>{let{invitations:t,dateFormatterFn:i,canManageWorkspace:n}=e,[l,a]=(0,C.useState)("email"),[s,c]=(0,C.useState)("asc"),[p]=(0,X.VxG)(),h=(0,M.d)(),x=(0,K.eD)(),m=(0,C.useCallback)(e=>{p({variables:{id:e}}).then(()=>{h({title:j.Ru._({id:"DGxAzK"}),status:"success",duration:3e3,isClosable:!0,position:"bottom"})}).catch(e=>{console.error(e),h({title:j.Ru._({id:"s51CLN",values:{0:e.message}}),status:"error",isClosable:!0,position:"bottom"})})},[p,h]),g="asc"===s?ej()(t,l):ej()(t,l).reverse();return 0===g.length?(0,r.jsx)(d.az,{p:4,background:"gray.50",children:(0,r.jsx)(o.E,{my:8,textAlign:"center",children:(0,r.jsx)(b.x6,{id:"blyObO"})})}):(0,r.jsx)(N.K,{children:(0,r.jsxs)(L.X,{variant:"simple",colorScheme:"blackAlpha",size:"sm",whiteSpace:"normal",children:[(0,r.jsx)(B.d,{children:(0,r.jsxs)(W.Tr,{children:[(0,r.jsx)(F.Th,{children:(0,r.jsx)(u.$,{ml:-3,size:"sm",color:"gray.500",variant:"ghost",colorScheme:"blackAlpha","aria-label":"sort",onClick:()=>{a("email"),c(e=>"asc"===e?"desc":"asc")},rightIcon:(0,r.jsx)(d.az,{color:"email"===l?"gray.700":"gray.300",children:(0,r.jsx)(f.g,{icon:"email"===l?"asc"===s?O.xBV:O.S$_:O.OM7})}),children:(0,r.jsx)(b.x6,{id:"O3oNi5"})})}),(0,r.jsxs)(F.Th,{children:[" ",(0,r.jsx)(u.$,{ml:-3,size:"sm",color:"gray.500",variant:"ghost",colorScheme:"blackAlpha","aria-label":"sort",onClick:()=>{a("createdTime"),c(e=>"asc"===e?"desc":"asc")},rightIcon:(0,r.jsx)(d.az,{color:"email"===l?"gray.700":"gray.300",children:(0,r.jsx)(f.g,{icon:"createdTime"===l?"asc"===s?O.xBV:O.S$_:O.OM7})}),children:(0,r.jsx)(b.x6,{id:"B82OLR"})})]}),(0,r.jsx)(F.Th,{children:(0,r.jsx)(b.x6,{id:"GXsAby"})})]})}),(0,r.jsx)(G.N,{children:g&&(null==g?void 0:g.length)>0&&g.map((e,t)=>(0,r.jsxs)(W.Tr,{children:[(0,r.jsx)(U.Td,{children:e.email}),(0,r.jsx)(U.Td,{children:i(e.createdTime)}),(0,r.jsx)(U.Td,{children:(0,r.jsx)(v.Tz,{placement:"top",label:(0,r.jsx)(b.x6,{id:"wcx9n8",values:{WORKSPACE_ADMIN_DISPLAY_NAME_PLURAL:x}}),shouldWrapChildren:!0,isDisabled:n,children:(0,r.jsx)(u.$,{w:20,variant:"plain",color:"plain",size:"sm",isDisabled:!n,onClick:()=>{m(e.id)},children:(0,r.jsx)(b.x6,{id:"GXsAby"})})})})]},e.id))})]})})},e_=e=>{let{workspace:t,canManageWorkspace:i}=e,n={"active-members":{displayName:(0,r.jsx)(r.Fragment,{children:(null==t?void 0:t.memberCount)?(0,r.jsx)(b.x6,{id:"6cWP3y",values:{0:t.memberCount}}):(0,r.jsx)(b.x6,{id:"Ob6KWB"})}),icon:O.GHC,component:(0,r.jsx)(ef,{workspace:t,dateFormatterFn:z.OG,canManageWorkspace:i,workspaceAdminCount:t.adminCount})},invitations:{displayName:(0,r.jsx)(b.x6,{id:"KxTWx3",values:{0:t.invitations&&t.invitations.length}}),icon:g.y_8,component:(0,r.jsx)(ey,{invitations:t.invitations,dateFormatterFn:z.OG,canManageWorkspace:i})}},[l,a]=(0,C.useState)(Object.keys(n)[0]);return(0,r.jsxs)(d.az,{w:"100%",children:[t&&(0,r.jsx)(eI,{tabs:n,size:"sm",activeTabKey:l,setActiveTabKey:a,onClick:()=>{}}),l&&n[l].component]})};var ek=i(85678);let eC=e=>{let{children:t,...i}=e;return(0,r.jsx)(ek.D,{variant:"brand",size:"lg",fontWeight:"700",mb:"-2",...i,children:t})},ew=e=>{let{children:t}=e;return(0,r.jsx)(ek.D,{fontSize:"md",fontWeight:"600",mt:"2",mb:"2",children:(0,r.jsx)(o.E,{children:t})})},eR=e=>{let{title:t,description:i,children:n,...l}=e;return(0,r.jsxs)(m.s,{direction:{base:"column",lg:"row"},w:"100%",gap:{base:10,lg:24},...l,children:[(0,r.jsxs)(m.s,{direction:"column",justifyContent:"flex-start",flex:"1",children:[(0,r.jsx)(ew,{children:t}),(0,r.jsx)(o.E,{fontSize:"sm",color:"gray.600",children:i})]}),(0,r.jsx)(m.s,{flex:"1",justifyContent:{base:"flex-start",lg:"flex-end"},children:n})]})},eS=e=>{let{children:t}=e;return(0,r.jsx)(a.B,{display:"flex",gap:"8",w:"100%",children:t})};var eA=i(7761);let eI=e=>{let{tabs:t,activeTabKey:i,setActiveTabKey:n,onClick:l,size:a="md"}=e,o=C.useMemo(()=>Object.keys(t).map(e=>{let i=t[e];return{key:e,label:i.displayName,icon:(0,r.jsx)(f.g,{icon:i.icon,fixedWidth:!0})}}),[t]),s=C.useMemo(()=>{let e=t[i];return{key:i,label:e.displayName,icon:(0,r.jsx)(f.g,{icon:e.icon,fixedWidth:!0})}},[t,i]);return o&&i?(0,r.jsx)(eA.x,{options:o,selectedOption:s,setSelectedOption:e=>{l(e.key),n(e.key)},dropdownButtonLeftIcon:s.icon,size:a}):null};var eE=i(44228),eT=i(88131),eP=i(95578),eO=i(88608),ez=i(74003);let eM=()=>{let{currentWorkspace:e,user:t}=(0,S.ur)(),i=(0,eP.u)("changePlanModal"),n=(0,S.CX)(),{subscription:l,refetchSubscription:a}=(0,ez.I)(),o=(0,q.ZA)(l,t,i,n),{isCanceling:s,handleCancel:c,cancelFlowEnabled:p}=tx(l,e,a),h=(0,q._t)(l),x=(0,q.ot)(l),g=(0,q.nl)(l),f=(0,q.MW)(l,t);return(0,r.jsx)(m.s,{alignItems:"center",direction:"column",w:"100%",gap:"4",children:(0,r.jsxs)(d.az,{w:"100%",display:"flex",flexDirection:"column",gap:"4",children:[(0,r.jsx)(v.Tz,{placement:"top",shouldWrapChildren:!0,label:o?x?(0,r.jsx)(b.x6,{id:"uxwzHm",values:{0:(0,eO.Yq)(l.expirationTime,"PPP")}}):h?(0,r.jsx)(b.x6,{id:"SoEbnk",values:{0:(0,eO.Yq)(l.expirationTime,"PPP")}}):(0,r.jsx)(b.x6,{id:"HrQ7yf"}):(0,r.jsx)(b.x6,{id:"/3BSdl",values:{creatorNameAndEmail:g,GAMMA_PROPER_NOUN:es.On}}),children:(0,r.jsx)(u.$,{target:"_blank",href:o&&f?f:void 0,as:eT.N,size:"md",w:"100%",textShadow:"none",rightIcon:(0,r.jsx)(eE.p,{ml:-1}),isDisabled:!o,_hover:{textDecoration:"none"},children:h||x?(0,r.jsx)(b.x6,{id:"aAFalq"}):(0,r.jsx)(b.x6,{id:"IGCJs2"})})}),p&&!h&&(0,r.jsx)(v.Tz,{placement:"top",shouldWrapChildren:!0,label:o?(0,r.jsx)(b.x6,{id:"o/WrRZ"}):(0,r.jsx)(b.x6,{id:"cg8FOs",values:{creatorNameAndEmail:g}}),children:(0,r.jsx)(u.$,{colorScheme:"gray",color:"gray.600",variant:"link",size:"sm",w:"100%",mt:"2",onClick:o?c:void 0,isLoading:s,isDisabled:!o||s,children:(0,r.jsx)(b.x6,{id:"fHXMPy"})})})]})})};var eD=i(95889);let eN={src:"/_next/static/media/stars.9fe7baf4.svg"},eL=()=>{let{openUpsellModal:e}=(0,ez.I)();return(0,r.jsxs)(m.s,{direction:{base:"column",lg:"row"},alignItems:{base:"flex-start",lg:"center"},justifyContent:{base:"flex-start",lg:"space-between"},bg:"var(--chakra-colors-gradient-brand-bg), url(".concat(eN.src,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundBlendMode:"overlay",w:"100%",py:"8",px:"6",gap:{base:"6",lg:"2"},rounded:"md",children:[(0,r.jsxs)(m.s,{direction:"column",w:{base:"100%",lg:"75%"},children:[(0,r.jsx)(eC,{fontSize:"2xl",color:"white",children:(0,r.jsx)(b.x6,{id:"qAWquf"})}),(0,r.jsx)(o.E,{mt:"4",fontSize:"sm",color:"white",children:(0,r.jsx)(b.x6,{id:"AnpD+i",values:{GAMMA_PROPER_NOUN:es.On}})})]}),(0,r.jsx)(m.s,{direction:"column",alignItems:"center",justifyContent:"center",w:{base:"100%",lg:"25%"},gap:"2",children:(0,r.jsx)(u.$,{w:"100%",cursor:"pointer",onClick:()=>{e({onOpenCallback:()=>{},onCloseCallback:()=>{},segmentEvent:eD.VV.GAMMA_PRO_UPSELL_CALLOUT_WORKSPACE_SETTINGS})},children:(0,r.jsx)(b.x6,{id:"kwkhPe"})})})]})};var eB=i(45654),eW=i(91767),eF=i(10497),eG=i(65007),eU=i(66897),e$=i(18833),eV=i(831),eX=i.n(eV),eK=i(13006),eq=i(42955),eH=i(87827),eY=i(11390);let eJ=()=>{let[e,t]=(0,C.useState)(!1),{product:i}=(0,ez.I)(),r=!!i,[n,l]=(0,C.useState)(new H.c),{isOpen:a,onOpen:o,onClose:s}=(0,D.j)({id:"confirm-add-paid-user"}),d=(0,C.useCallback)(()=>t(e=>!e),[]),c=(0,C.useCallback)(()=>{n.reject(),t(!1),s()},[s,n]);return{isConfirmAddPaidMemberModalOpen:a,isConfirmAddPaidMemberModalChecked:e,onConfirmAddPaidMemberClose:c,onConfirmAddPaidMemberClick:(0,C.useCallback)(()=>{n.resolve(!0),t(!1),s()},[s,n]),showConfirmPaidUserModal:(0,C.useCallback)(()=>{if(!r)return Promise.resolve();let e=new H.c;return l(e),o(),e.promise},[r,o]),onConfirmAddPaidMemberClickCheckbox:d}},eZ=e=>{let{isOpen:t,newMemberCount:i,isChecked:n,onClose:l,onConfirmClick:s,onCancelClick:c,onCheckboxConfirm:p}=e,{subscription:h}=(0,ez.I)(),x=(0,C.useCallback)(()=>(0,eY.rx)(h,i),[h,i]),{totalPrice:g,productPrice:f}=(0,eH.n)(x,[i,h]);if(!t||!h)return null;let v=(null==f?void 0:f.frequencyUnit)===X.Vd7.Month?(0,r.jsx)(b.x6,{id:"JKIwMd",values:{newMemberCount:i,totalPrice:g},components:{0:(0,r.jsx)("strong",{}),1:(0,r.jsx)("strong",{})}}):(0,r.jsx)(b.x6,{id:"Pltlc3",values:{newMemberCount:i,totalPrice:g},components:{0:(0,r.jsx)("strong",{}),1:(0,r.jsx)("strong",{})}});return(0,r.jsxs)(Y.aF,{isOpen:t,onClose:l,trapFocus:!1,size:"xl",children:[(0,r.jsx)(J.m,{}),(0,r.jsxs)(Z.$,{children:[(0,r.jsx)(Q.r,{children:(0,r.jsx)(b.x6,{id:"B9zUUN",values:{newMemberCount:i}})}),(0,r.jsx)(ee.s,{}),(0,r.jsx)(et.c,{children:(0,r.jsxs)(a.B,{spacing:4,children:[(0,r.jsx)(o.E,{as:"span",children:(0,r.jsx)(b.x6,{id:"c6yFkJ"})}),(0,r.jsxs)(m.s,{gap:3,alignItems:"start",children:[(0,r.jsx)(eq.S,{mt:1,isChecked:n,onChange:p}),(0,r.jsx)(o.E,{children:v})]}),(0,r.jsx)(d.az,{fontSize:"sm",bgColor:"gray.200",p:4,borderRadius:"md",children:(0,r.jsx)(o.E,{children:(0,r.jsx)(b.x6,{id:"mjZQpA"})})})]})}),(0,r.jsx)(ei.j,{children:(0,r.jsxs)(er.e,{children:[(0,r.jsx)(u.$,{variant:"ghost",colorScheme:"gray",onClick:c,children:(0,r.jsx)(b.x6,{id:"dEgA5A"})}),(0,r.jsx)(u.$,{variant:"solid",onClick:s,isDisabled:!n,children:(0,r.jsx)(b.x6,{id:"WMsmjg",values:{newMemberCount:i}})})]})})]})]})},eQ=(0,e$.P)(d.az),e0=e=>{let{workspace:t,canManageWorkspace:i,isPaid:n}=e,l=(0,M.d)(),s=(0,C.useRef)(),c=(0,C.useRef)(null),[p,h]=(0,C.useState)([]),[x,g]=(0,C.useState)(new H.c),[f,y]=(0,C.useState)(""),[_,{loading:k}]=(0,X.B74)(),w=(0,eD.st)(),{isConfirmAddPaidMemberModalOpen:R,isConfirmAddPaidMemberModalChecked:S,onConfirmAddPaidMemberClick:A,onConfirmAddPaidMemberClose:I,showConfirmPaidUserModal:E,onConfirmAddPaidMemberClickCheckbox:T}=eJ(),P=(0,C.useMemo)(()=>p.concat({email:f.trim()}).filter(e=>!("email"in e)||(0,eU.t)(e.email||"")),[f,p]),O=!!(f.length||p.length),z=!!P.length,D=k||!i,N=(0,C.useCallback)(async()=>{if(0!==P.length)return _({variables:{workspaceId:t.id,invitees:P},refetchQueries:["GetWorkspace"]}).then(()=>{l({title:(0,r.jsx)(b.x6,{id:"Ka86rB",values:{0:P.length}}),description:(0,r.jsx)(o.E,{children:P.map(e=>(0,r.jsx)(o.E,{children:e.email},e.email))}),status:"success",position:"top",isClosable:!0,duration:9e3}),null==w||w.track(eD.VV.WORKSPACE_USER_INVITED,{workspace_id:t.id,source:"workspace-settings-page",number_of_invites_sent:P.length,permissions:"member"})})},[P,_,t.id,l,w]),L=(0,C.useCallback)(async()=>E().then(N).then(()=>{var e;h([]),y(""),null==(e=s.current)||e.resetItems(!0),x.resolve(),g(new H.c)}).catch(e=>{console.warn(e)}),[E,N,x]),B=(0,C.useCallback)(e=>{h(t=>t.filter(t=>t.email!==e))},[]),W=(0,C.useCallback)(e=>{h(t=>eX()([...t,...e],"email"))},[]),F=(0,K.eD)(),G=(0,K.mc)();return(0,r.jsxs)(d.az,{w:"100%",fontSize:"sm",children:[(0,r.jsxs)(a.B,{pb:"4",children:[(0,r.jsx)(o.E,{children:(0,r.jsx)(b.x6,{id:"wQ9F+j",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:es.Ix}})}),n&&(0,r.jsx)(o.E,{children:(0,r.jsx)("strong",{children:(0,r.jsx)(b.x6,{id:"zHGbOA"})})})]}),(0,r.jsxs)(m.s,{direction:"row",w:"100%",alignItems:"flex-start",children:[(0,r.jsx)(eW.M,{w:"100%",justifyContent:"center",flex:1,children:(0,r.jsxs)(eG.j9,{ref:s,values:p,maxSelections:100,maxSuggestions:20,creatable:!0,multiple:!0,freeSolo:!0,suggestWhenEmpty:!1,openOnFocus:!0,filter:(e,t)=>!p.find(e=>e.email===t),onSelectOption:e=>{let{item:t}=e;W([{email:t.value}]),y("")},onTagRemoved:e=>{h(t=>[...t].filter(t=>t.email!==e))},children:[(0,r.jsxs)(eF.W,{pointerEvents:"none",color:"gray.300",h:"100%",flexDirection:"column",children:[(0,r.jsx)(m.s,{flex:1}),(0,r.jsx)(m.s,{h:10,py:4,alignItems:"center",children:(0,r.jsx)(eB.W,{w:10})})]}),(0,r.jsx)(v.Tz,{placement:"top-start",label:(0,r.jsx)(b.x6,{id:"8LvjQl",values:{WORKSPACE_ADMIN_DISPLAY_NAME_PLURAL:F,WORKSPACE_ADMIN_DISPLAY_NAME:G}}),isDisabled:i,children:(0,r.jsx)(d.az,{children:(0,r.jsx)(eG.Rv,{ref:c,"data-testid":"autocomplete-collaborators-input",cursor:D?"not-allowed":void 0,disabled:D,w:"100%",paddingInlineStart:5,color:"gray.900",wrapStyles:{px:2},fontSize:"md",placeholder:j.Ru._({id:"mIuglr"}),transition:"width 1s ease-in-out",value:f,onKeyDown:e=>{let{key:t}=e;if("Enter"===t&&0===f.length)return void e.preventDefault();if("Backspace"===t&&0===f.length&&p.length>0){let e=p.slice(-1).pop();if(e){var i;null==(i=s.current)||i.removeItem(e.email)}}},onPaste:e=>{e.preventDefault(),e.stopPropagation(),W([...e.clipboardData.getData("Text").trim().split(/[,|;\s]+/).map(e=>({email:e}))]),y("")},onChange:e=>{let{target:t}=e,{value:i}=t;y(i)},children:p.map((e,t)=>(0,r.jsx)(eK.w,{idx:t,selectedCollaborator:e,handleRemoveClick:()=>{B(e.email)}},e.email))})})})]})}),(0,r.jsx)(eQ,{overflowX:"hidden",transition:"slow",animate:{maxWidth:O?"240px":"0px"},children:(0,r.jsx)(d.az,{ms:2,children:(0,r.jsx)(u.$,{variant:"solid",onClick:L,isDisabled:!z,isLoading:!1,"data-testid":"add-selected-items",children:(0,r.jsx)(b.x6,{id:"MFKlMB"})})})})]}),(0,r.jsx)(eZ,{isOpen:R,newMemberCount:P.length,isChecked:S,onConfirmClick:A,onClose:I,onCancelClick:I,onCheckboxConfirm:T})]})};var e1=i(70006),e6=i(4501),e5=i(96378);let e2=e=>{let{url:t,placeholder:i,isDisabled:n=!1,onClick:l,...a}=e,[o,s]=(0,C.useState)(!1),[c,p]=(0,C.useState)(""),{hasCopied:h,onCopy:x}=(0,e6.i)(t),m=(0,C.useRef)(null),g=(0,M.d)(),f="link-copied-toast";(0,C.useEffect)(()=>{m.current&&o&&(m.current.focus(),m.current.select())},[o]);let j=(0,C.useCallback)(()=>s(!0),[]),y=(0,C.useCallback)(()=>s(!1),[]),_=(0,C.useCallback)(()=>{x(),g.isActive(f)||g({id:f,title:(0,r.jsx)(b.x6,{id:"pQjjYo"}),status:"success",duration:5e3,isClosable:!0}),null==l||l()},[l,x,g]),k=(0,K.eD)(),w=(0,K.mc)();return(0,C.useEffect)(()=>{n?p("Only ".concat(k," can view this link")):p(t)},[t,k,n]),(0,r.jsx)(v.Tz,{label:(0,r.jsx)(b.x6,{id:"XJhzX8",values:{WORKSPACE_ADMIN_DISPLAY_NAME_PLURAL:k,WORKSPACE_ADMIN_DISPLAY_NAME:w}}),placement:"top-start",isDisabled:!n,children:(0,r.jsx)(d.az,{w:"100%",children:(0,r.jsxs)(eW.M,{size:"sm",children:[(0,r.jsx)(e5.p,{ref:m,w:"100%",h:"3rem",type:"text",value:c,isDisabled:n,placeholder:i||void 0,onClick:j,onBlur:y,pointerEvents:n?"none":void 0,transition:"ease-in-out 0.2s",bg:"white",color:"gray.900",fontSize:"md",disabled:n,cursor:n?"not-allowed":void 0,wrapStyles:{px:2},...a}),(0,r.jsx)(eF.t,{zIndex:1,w:"unset",display:n?"none":"flex",children:(0,r.jsx)(u.$,{isDisabled:n,onClick:_,height:"2rem",fontSize:"sm",px:3,mt:"1rem",mr:"0.5rem",shadow:"sm",children:h?(0,r.jsx)(b.x6,{id:"6V3Ea3"}):(0,r.jsx)(b.x6,{id:"y1eoq1"})})})]})})})},e9=e=>{let{workspace:t,canManageWorkspace:i,isPaid:n}=e,[l,s]=(0,C.useState)(null);return(0,C.useEffect)(()=>{t&&s((0,e1.Ow)(t))},[l,t]),(0,r.jsxs)(m.s,{direction:"column",fontSize:"sm",children:[(0,r.jsxs)(a.B,{pb:"4",children:[(0,r.jsx)(o.E,{children:(0,r.jsx)(b.x6,{id:"ig2Isf",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:es.Ix}})}),n&&(0,r.jsx)(o.E,{children:(0,r.jsx)("strong",{children:(0,r.jsx)(b.x6,{id:"ROlVXx"})})})]}),t&&(0,r.jsxs)(m.s,{direction:"column",children:[(0,r.jsx)(m.s,{children:l&&(0,r.jsx)(e2,{url:l,isDisabled:!i})}),i&&(0,r.jsx)(b.x6,{id:"X4Z7y1"})]})]})};var e3=i(86992),e4=i(37605);let e8={bg:"trueblue.50",borderColor:"trueblue.200",color:"trueblue.500"},e7={bg:"var(--chakra-colors-gradient-brand-bg), url(".concat(eN.src,")"),borderColor:"trueblue.200",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundBlendMode:"overlay",color:"white"},te=e=>{let{plan:t="plus",subscriptionDate:i,openUpsellModal:n}=e,l="pro"===t?e7:e8,a=t?(0,e3.Ok)()[t].name:"",s=(0,e3.Ok)().pro.name;return(0,r.jsxs)(m.s,{w:"100%",justifyContent:"center",direction:"column",children:[(0,r.jsxs)(m.s,{w:"100%",direction:"column",alignItems:"center",justifyContent:"center",rounded:"md",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.05)",borderWidth:"1px",p:"4",py:"8",gap:"2",...l,children:[(0,r.jsx)(eC,{fontSize:"4xl",color:l.color,children:a}),(0,r.jsx)(o.E,{fontSize:"sm",color:l.color,children:(0,r.jsx)(b.x6,{id:"8LFaN4",values:{0:(0,eO.Yq)(i,"PPP")},components:{0:(0,r.jsx)("strong",{})}})})]}),"pro"!==t&&(0,r.jsx)(m.s,{w:"100%",my:4,children:(0,r.jsx)(u.$,{variant:"solid",size:"lg",width:"100%",onClick:()=>{n({segmentEvent:e4.VV.GAMMA_PRO_UPSELL_WORKSPACE_SETTINGS})},textShadow:"none",children:(0,r.jsx)(b.x6,{id:"2Ow80C",values:{proPlanName:s}})})})]})};var tt=i(88033);let ti=e=>{let{workspaceId:t,selected:i,fieldName:n,options:l}=e,a=(0,S.CX)(),[o]=(0,X.l_E)(),s=(0,M.d)(),d=e=>()=>{s({title:"updated"===e?j.Ru._({id:"Xpw8aE"}):j.Ru._({id:"jwO7L7"}),status:"success",duration:5e3,isClosable:!0,position:"top"})};return(0,r.jsx)(tt.qk,{selected:i,options:l,isDisabled:!a,onClick:e=>{let i=e===tt.F$.NoAccess?null:e,r={id:t,[n]:i};o({variables:{input:r},optimisticResponse:{updateWorkspace:{id:r.id,[n]:i}}}).then(d("updated")).catch(()=>{console.warn("Error updating permission")})}})};var tr=i(75534),tn=i(81208),tl=i(60584);let ta=e=>{let{workspace:t,canManageWorkspace:i}=e,n=(0,M.d)(),[l,o]=(0,C.useState)((null==t?void 0:t.name)||""),[s,c]=(0,C.useState)(!1),{isInOfflineMode:p}=(0,w.u)(),[h,{loading:x,called:g,error:f,reset:y}]=(0,X.l_E)(),{refetch:_}=(0,S.ur)(),k=(0,C.useCallback)(()=>{c(!1),o((null==t?void 0:t.name)||"")},[null==t?void 0:t.name]),R=(0,C.useCallback)(()=>{h({variables:{input:{name:l,id:null==t?void 0:t.id}},fetchPolicy:"no-cache"}).then(()=>{n({status:"success",title:"Success!",description:"Workspace updated successfully.",position:"top",duration:5e3,isClosable:!0}),c(!1),y(),_&&_()}).catch(e=>{console.error('[WorkspaceNameField] Error updating workspace "'.concat(null==t?void 0:t.id,'"'),e.message)})},[h,l,null==t?void 0:t.id,n,y,_]),A=""===l||l.length<K.oP||l.length>50||!!(null==f?void 0:f.message);(0,C.useEffect)(()=>{l!==t.name&&c(!0)},[l,t.name]);let I=(0,K.eD)();return t?(0,r.jsxs)(tr.MJ,{isInvalid:A,children:[(0,r.jsxs)(a.B,{w:"100%",direction:["column","row"],children:[(0,r.jsx)(v.Tz,{placement:"top-start",label:(0,r.jsx)(b.x6,{id:"M1LZmX",values:{WORKSPACE_ADMIN_DISPLAY_NAME_PLURAL:I}}),isDisabled:p||i,children:(0,r.jsx)(d.az,{w:"100%",children:(0,r.jsx)(e5.p,{w:"100%",placeholder:j.Ru._({id:"CozWO1"}),value:l,isDisabled:p||!i,onChange:e=>o(e.target.value.slice(0,50)),bg:"white"})})}),i&&s&&(0,r.jsx)(tn.s,{in:s,unmountOnExit:!0,children:(0,r.jsxs)(m.s,{children:[(0,r.jsx)(u.$,{variant:"solid",isLoading:x,isDisabled:!i||A||g,onClick:R,children:(0,r.jsx)(b.x6,{id:"tfDRzk"})}),(0,r.jsx)(u.$,{onClick:k,variant:"ghost",colorScheme:"gray",children:(0,r.jsx)(b.x6,{id:"dEgA5A"})})]})})]}),(0,r.jsx)(tl.Wt,{children:(null==f?void 0:f.message)?null==f?void 0:f.message:(0,r.jsx)(b.x6,{id:"soNtuq",values:{WORKSPACE_NAME_MIN_LENGTH:K.oP}})})]}):null};var to=i(30083),ts=i(89696),td=i(87996),tc=i(18640),tu=i(60908);let tp=e=>{let{workspace:t,canManageWorkspace:i}=e,[h,x]=(0,X.l_E)(),{loading:j,error:y}=x,{isInOfflineMode:_}=(0,w.u)(),k=(0,M.d)(),{refetch:R}=(0,S.ur)(),[A,I]=(0,C.useState)((null==t?void 0:t.logoUrl)||""),[E,T]=(0,C.useState)(""),[P,z]=(0,C.useState)("idle"),D=E||A,N=(0,C.useMemo)(()=>td.Fk.createUppyInstance(t.id,{onUploadStart:e=>{T(""),z("uploading"),(0,tu.aI)(e.file.type||"")||I(e.tempUrl)},onOriginalFileUpload:e=>{console.debug("[WorkspaceLogoField] onOriginalFileUpload",e),I(e.src),T(t=>t||e.src)},onUploadComplete:e=>{console.debug("[WorkspaceLogoField] onUploadComplete",e),I(t=>t||e.src),T(e.src),z("idle"),N.cancelAll()},onUploadFailed:()=>{z("error"),N.cancelAll()}},"workspaceLogo"),[t.id]),{onClick:L,inputElement:B}=(0,tc.W)({uppy:N}),W=(0,C.useCallback)(()=>{N.cancelAll(),z("idle"),I(t.logoUrl||""),T("")},[N,t.logoUrl]),F=(0,C.useMemo)(()=>A!==t.logoUrl&&A,[t.logoUrl,A]),G=(0,C.useCallback)(()=>{F&&h({variables:{input:{id:t.id,logoUrl:A}}}).then(()=>{k({title:(0,r.jsx)(b.x6,{id:"Rk6T6B"}),position:"top",status:"success",isClosable:!0,duration:3e3}),setTimeout(()=>{R&&R()},0)}).catch(e=>{console.error('[WorkspaceLogoField.onSaveClick] Error updating workspace info "'.concat(t.id,'"'),e.message)})},[F,h,t,A,k,R]),U=(0,C.useCallback)(()=>{I(""),T(""),h({variables:{input:{id:t.id,logoUrl:""}}}).then(()=>{k({title:(0,r.jsx)(b.x6,{id:"vfEt3o"}),position:"top",status:"success",isClosable:!0,duration:3e3})}).catch(e=>{console.error('[WorkspaceLogoField.onRemoveClick] Error removing workspace logo "'.concat(t.id,'"'),e.message)})},[h,t,k]),$=!!(null==y?void 0:y.message)||"error"===P,q=(0,K.eD)();return(0,C.useEffect)(()=>{t&&I(t.logoUrl||"")},[t,t.name]),(0,r.jsxs)(m.s,{display:"flex",flexDirection:"row",justifyContent:"flex-start",w:"100%",gap:4,children:[B,(0,r.jsx)(d.az,{w:0,h:0,children:(0,r.jsx)(to._,{src:E})}),(0,r.jsx)(m.s,{display:"flex",flexDirection:"row",alignItems:"start",children:(0,r.jsx)(a.B,{children:(0,r.jsxs)(s.W,{placement:"bottom-start",offset:[100,0],children:[(0,r.jsx)(v.Tz,{label:i?(0,r.jsx)(b.x6,{id:"U8dGAE"}):(0,r.jsx)(b.x6,{id:"DKuEP9",values:{WORKSPACE_ADMIN_DISPLAY_NAME_PLURAL:q}}),isDisabled:_,placement:"top",children:(0,r.jsx)(d.az,{children:(0,r.jsx)(c.I,{position:"relative",disabled:_||!i||"uploading"===P,userSelect:"none",cursor:"pointer",_disabled:{cursor:"not-allowed"},role:"group",_hover:{opacity:.9},children:(0,r.jsxs)(l.e,{src:D,bg:D?"transparent":"orchid.300",name:t.name,size:"2xl",_groupHover:{shadow:"lg"},ignoreFallback:!0,children:["uploading"===P&&(0,r.jsx)(d.jl,{position:"absolute",size:"full",justifyContent:"center",alignItems:"center",bg:"gray.300",opacity:.5,children:(0,r.jsx)(V.y,{size:"xl",thickness:"2px"})}),(0,r.jsx)(d.jl,{position:"absolute",bottom:0,right:0,borderRadius:"full",color:"gray.800",textAlign:"center",bg:"gray.200",size:9,_groupHover:{shadow:"lg",transform:"scale(1.02)"},children:(0,r.jsx)(f.g,{icon:A?g.rwq:g.MT7,width:16,height:16,size:"xs"})})]})})})}),(0,r.jsxs)(p.c,{fontSize:"sm",children:[(0,r.jsx)(ex.D,{onClick:()=>{"uploading"!==P&&L()},children:(0,r.jsxs)(n.z,{children:[(0,r.jsx)(f.g,{icon:O.MNJ}),(0,r.jsx)(o.E,{children:(0,r.jsx)(b.x6,{id:"wPTug2"})})]})}),A&&(0,r.jsx)(eh.N,{}),A&&(0,r.jsx)(ex.D,{onClick:U,children:(0,r.jsxs)(n.z,{color:"var(--chakra-colors-red-500)",children:[(0,r.jsx)(f.g,{icon:g.yLS,color:"var(--chakra-colors-red-500)"}),(0,r.jsx)(o.E,{children:(0,r.jsx)(b.x6,{id:"O90CN2"})})]})})]})]})})}),(0,r.jsx)(ts.h,{}),(0,r.jsx)(m.s,{children:(0,r.jsx)(m.s,{justifyContent:"space-between",alignItems:"center",children:(0,r.jsx)(m.s,{direction:"row",justifyContent:"space-between",gap:2,children:(0,r.jsxs)(tn.s,{in:!!F,unmountOnExit:!0,children:[(0,r.jsx)(u.$,{variant:F?"solid":"plain",onClick:G,isDisabled:$||"uploading"===P,isLoading:j,children:(0,r.jsx)(b.x6,{id:"tfDRzk"})}),(0,r.jsx)(u.$,{variant:"ghost",colorScheme:"gray",onClick:W,children:(0,r.jsx)(b.x6,{id:"dEgA5A"})})]})})})})]})};var th=i(86025);let tx=(e,t,i)=>{let[r,n]=(0,C.useState)(!1),{launchCancelFlow:l,cancelFlowEnabled:a}=(0,th.zE)(e,t),o=(0,C.useCallback)(async()=>{if(l&&i){eD.zS.track(eD.VV.CANCEL_SUBSCRIPTION_CLICK,{source:"cancel-flow"}),n(!0);try{var e;let t=await l();(null==t||null==(e=t.sessionResults)?void 0:e.canceled)===!0&&await i()}catch(e){console.warn("Failed to cancel subscription",e)}n(!1)}},[l,i]);return{isCanceling:r,handleCancel:o,cancelFlowEnabled:a}}},99712:(e,t,i)=>{i.d(t,{Th:()=>o});var r=i(87796),n=i(8749),l=i(17383),a=i(6029),o=(0,n.R)(({isNumeric:e,...t},i)=>{let n=(0,r.k)();return(0,a.jsx)(l.B.th,{...t,ref:i,__css:n.th,"data-is-numeric":e})})}}]);
//# sourceMappingURL=347-60b152d01350ff74.js.map