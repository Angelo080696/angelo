(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[101,6773,6823,8809,9204],{1771:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});var r=n(81278),s=n(55729),i=n(20746),o=n(65148);let a=()=>{let{pathname:e,isReady:t}=(0,r.useRouter)(),n=(0,s.useRef)(!1),[a,l]=(0,i.F)(o.E.lastHomeUrl,"/");(0,s.useEffect)(()=>{!n.current&&t&&(l("/inspiration"===e||"/templates"===e?e:"/"),n.current=!0)},[l,t,e])}},2087:(e,t,n)=>{"use strict";n.d(t,{A:()=>v});var r=n(6029),s=n(50456),i=n(40513),o=n(63046),a=n(66425),l=n(4587),d=n(82836),c=n(45181),u=n(40313),h=n(99492),p=n(48621),f=n(19564),m=n(56432),g=n(39309),b=n(42550);let y=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.x6,{id:"nwtY4N"})," ",(0,r.jsx)("span",{role:"img","aria-label":"sad face",children:"\uD83D\uDE15"})]}),v=e=>{let{errMessage:t=y,showDisclosure:n=!1}=e;return(0,r.jsx)(b.L,{"data-error-component":!0,children:(0,r.jsx)(m.Kp,{stackProps:{textAlign:"center"},children:(0,r.jsxs)(g.K,{title:(0,r.jsx)(f.x6,{id:"yCLOsA"}),message:(0,r.jsx)(f.x6,{id:"oDmq3g"}),children:[n&&(0,r.jsx)(s.n,{allowToggle:!0,w:"100%",children:(0,r.jsxs)(i.A,{children:[(0,r.jsx)("h2",{children:(0,r.jsxs)(o.J,{children:[(0,r.jsx)(a.az,{flex:"1",textAlign:"start",children:(0,r.jsx)(f.x6,{id:"K6HS5B"})}),(0,r.jsx)(l.Q,{})]})}),(0,r.jsx)(d.v,{overflowX:"auto",children:(0,r.jsx)(c.C,{colorScheme:"red",maxHeight:{base:24,md:60},overflowY:"auto",children:t})})]})}),(0,r.jsx)(u.$,{mt:"4",leftIcon:(0,r.jsx)(p.g,{fixedWidth:!0,icon:h.lLb}),variant:"solid",onClick:()=>{window.location.reload()},children:(0,r.jsx)(f.x6,{id:"C6f2hU"})})]})})})}},4711:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r={src:"/_next/static/media/clouds1.9209e211.png",height:639,width:1186,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAMAAACEE47CAAAAM1BMVEVUapzq4d7/7+D/+ej67uz57+T///4xSbC3qM3Xz9rXv9Pr2dlRcsS/uNO/sdeNks1Kbrk1jFqpAAAAEXRSTlMBb0Mu/XkHFBbOyY9OwPTcnUujwrYAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAoSURBVHicY2BgYGBm5eZgYGBjYmVhYeHjYWDk5OTl5OIXYOBgZwdjAAyJAM3kJxnzAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:4}},6772:(e,t,n)=>{e.exports=n(85432)},8262:()=>{},11959:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LoadableContext",{enumerable:!0,get:function(){return r}});let r=n(14761)._(n(55729)).default.createContext(null)},12733:(e,t,n)=>{"use strict";let r,s;n.d(t,{W:()=>d});var i=n(55729),o=n(91938),a=n(95578),l=n(15342);Promise.all([n.e(6935),n.e(9978)]).then(n.bind(n,12504)).then(e=>{r=e.applyDevTools,s=e.removeDevTools});let d=e=>{let t=(0,l.GV)(a.Ew);(0,i.useEffect)(()=>{if(e){if(t){console.debug("[Prosemirror DevTools] Activating prosemirror-dev-tools");try{r(e.view)}catch(e){}}else try{s()}catch(e){}return o.$.DEBUG_ENABLED&&(window.openPMDT=()=>r(e.view)),()=>{s(),delete window.openPMDT}}},[e,t])}},20746:(e,t,n)=>{"use strict";n.d(t,{F:()=>i});var r=n(55729),s=n(68986);function i(e,t){let[n,i]=(0,r.useState)(()=>{try{let n=s.e.getItem(e);if(null===n)return t;return JSON.parse(n)}catch(e){return console.error("[useSessionStorage.getItem] Error getting sessionStorage item",e),t}});return[n,(0,r.useCallback)(t=>{try{s.e.setItem(e,JSON.stringify(t)),i(t)}catch(e){console.error("[useSessionStorage.setItem] Error setting sessionStorage item",e)}},[e])]}},30362:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return a},noSSR:function(){return o}});let r=n(14761);n(6029),n(55729);let s=r._(n(82077));function i(e){return{default:(null==e?void 0:e.default)||e}}function o(e,t){return delete t.webpack,delete t.modules,e(t)}function a(e,t){let n=s.default,r={loading:e=>{let{error:t,isLoading:n,pastDelay:r}=e;return null}};e instanceof Promise?r.loader=()=>e:"function"==typeof e?r.loader=e:"object"==typeof e&&(r={...r,...e});let a=(r={...r,...t}).loader;return(r.loadableGenerated&&(r={...r,...r.loadableGenerated},delete r.loadableGenerated),"boolean"!=typeof r.ssr||r.ssr)?n({...r,loader:()=>null!=a?a().then(i):Promise.resolve(i(()=>null))}):(delete r.webpack,delete r.modules,o(n,r))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},31615:(e,t,n)=>{"use strict";n.d(t,{fH:()=>u,hw:()=>p,vj:()=>h});var r=n(6029),s=n(81278),i=n(6772),o=n.n(i),a=n(91938),l=n(11403),d=n(37028);let c=["/signin","/signup","/invitations/workspaces/[workspaceId]"],u=()=>{let e=(0,s.useRouter)().pathname;return!(0,l.En)()||c.includes(e)?null:(0,r.jsx)("style",{children:".grecaptcha-badge { visibility: hidden; }"})},h=()=>(0,r.jsx)(o(),{src:"https://www.google.com/recaptcha/enterprise.js?render=".concat(a.$.RECAPTCHA_SCORING_KEY),async:!0,defer:!0}),p=async e=>(await (0,d.f)(50,100)(()=>!!window.grecaptcha).catch(()=>{throw Error("Timed out waiting for grecaptcha")}),new Promise((t,n)=>{grecaptcha.enterprise.ready(async()=>{try{let n=await grecaptcha.enterprise.execute(a.$.RECAPTCHA_SCORING_KEY,{action:e});t(n)}catch(e){console.log(e),n(e)}})}))},34647:(e,t,n)=>{"use strict";n.d(t,{B:()=>i,S:()=>s});var r=n(50488);let s=()=>"indexedDB"in window&&"localStorage"in window&&r.P,i=()=>"undefined"!=typeof navigator&&"serviceWorker"in navigator&&s()},37219:(e,t,n)=>{"use strict";n.d(t,{Uf:()=>i,WO:()=>r,Yd:()=>o,er:()=>s});let r="https://gamma.app/privacy",s="https://gamma.app/terms",i="https://static.gamma.app/images/gamma-logo-deepocean-logomark-687b07e8.png",o="https://static.gamma.app/images/gamma-logo-deepocean-entri-5a938ad5.png"},39309:(e,t,n)=>{"use strict";n.d(t,{K:()=>c});var r=n(6029),s=n(29328),i=n(30083),o=n(85678),a=n(94283),l=n(77650);let d={src:"/_next/static/media/error-cat.e78a3685.png"},c=e=>{let{title:t,message:n,children:c,stackProps:u}=e;return(0,r.jsxs)(s.B,{spacing:4,alignItems:"center",textAlign:"center",...u,children:[(0,r.jsx)(i._,{src:d.src,w:{base:40,sm:60},alt:l.Ru._({id:"bHdr/A"})}),(0,r.jsx)(o.D,{variant:"fancy",fontSize:{base:"2xl",sm:"3xl"},css:{textWrap:"balance"},children:t}),n&&(0,r.jsx)(a.E,{css:{textWrap:"balance"},children:n}),c]})}},42550:(e,t,n)=>{"use strict";n.d(t,{L:()=>a});var r=n(6029),s=n(49377),i=n(83004),o=n(80910);let a=e=>{let{children:t,...n}=e;return(0,r.jsxs)(s.s,{w:"100%",h:"100%",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",bg:"gradient.secondary-dark",...n,children:[(0,r.jsx)(o.lD,{height:"100%",sx:{maxHeight:"100vh",pointerEvents:"none"}}),(0,r.jsx)(i.mL,{styles:{"html, body":{height:"100%"}}}),t]})}},46967:(e,t,n)=>{"use strict";var r=n(77650),s=n(28066);r.Ru.locale||r.Ru.loadAndActivate({locale:"en",messages:s.messages})},47880:(e,t,n)=>{"use strict";n.d(t,{O:()=>o});var r=n(55729),s=n(15342),i=n(30286);let o=e=>{let t=(0,s.jL)();(0,r.useEffect)(()=>{t((0,i.dB)({locale:e||null}))},[e]),(0,r.useEffect)(()=>()=>{t((0,i.dB)({locale:null}))},[])}},56432:(e,t,n)=>{"use strict";n.d(t,{Kp:()=>w,hj:()=>y});var r=n(6029),s=n(49377),i=n(29328),o=n(88131),a=n(94283),l=n(85678),d=n(66425),c=n(83004),u=n(80910);n(55729);var h=n(88021),p=n(73110),f=n(66536),m=n(4711),g=n(87340),b=n(37219);let y=e=>{let{children:t,pageProps:n}=e;return(0,r.jsxs)(s.s,{h:"100%",w:"100vw",overflow:"hidden",display:"flex",justify:"center",align:"center",position:"relative",bg:"linear-gradient(to top, #FFF,rgb(198, 230, 250))",...n,children:[(0,r.jsx)(c.mL,{styles:{"html, body":{height:"100%"}}}),(0,r.jsx)(s.s,{flex:1,w:"100%",h:"100%",overflow:"auto",align:"center",justify:"center","data-centered-message-card-wrapper":!0,children:t}),(0,r.jsx)(s.s,{display:{base:"none",lg:"block"},position:"absolute",w:"35vw",maxW:"500px",h:"30vh",background:"url(".concat(g.A.src,")"),backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"bottom",bottom:"30%",insetEnd:"0%",opacity:.5,transform:"translateX(-20%)"}),(0,r.jsx)(s.s,{display:{base:"none",lg:"block"},position:"absolute",w:"35vw",maxW:"500px",h:"30vh",background:"url(".concat(m.A.src,")"),backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"bottom",bottom:"30%",insetStart:"0%",opacity:.5,transform:"translateX(20%)"})]})},v=()=>{let e=(0,p.O)();return(0,r.jsxs)(i.B,{direction:"row",justify:"space-between",alignItems:"center",children:[(0,r.jsx)(o.N,{href:(0,f.gt)(e).home,isExternal:!0,children:(0,r.jsx)(u.Fu,{w:"100px"})}),(0,r.jsx)(h.V,{buttonProps:{variant:"ghost",colorScheme:"blackAlpha",color:"gray.800"}})]})},w=e=>{let{lede:t,title:n,children:s,stackProps:o,showFooter:c=!1}=e;return(0,r.jsxs)(i.B,{bg:"white",padding:{base:6,md:8},zIndex:"2",borderRadius:{base:"none",md:"xl"},shadow:{base:"none",md:"lg"},maxW:"100%",w:{base:"100%",md:"500px"},spacing:8,m:{base:0,md:8},minH:{base:"100%",md:"auto"},...o,children:[(0,r.jsx)(v,{}),t&&("string"==typeof t?(0,r.jsx)(a.E,{fontSize:"sm",color:"gray.500",children:t}):t),n&&(0,r.jsx)(l.D,{variant:"fancy",fontWeight:500,fontSize:["3xl"],children:n}),(0,r.jsx)(d.az,{flex:1,children:s}),c&&(0,r.jsx)(E,{})]})},E=()=>(0,r.jsx)(i.B,{mt:12,align:"center",children:(0,r.jsxs)(a.E,{color:"gray.300",fontSize:"xs",sx:{a:{color:"gray.400",_hover:{textDecoration:"underline"}}},children:[(0,r.jsx)(o.N,{href:b.er,children:"Terms of Service"})," •"," ",(0,r.jsx)(o.N,{href:b.WO,children:"Privacy Policy"})]})})},58859:(e,t,n)=>{"use strict";n.d(t,{f:()=>j});var r=n(12364),s=n.n(r),i=n(55765),o=n.n(i),a=n(96557),l=n.n(a),d=n(12562),c=n(15342),u=n(73224),h=n(73364),p=n(59023);let f="custom",m="updates",g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},[n]=u.hL(e.db,[m]);return u.UK(n,u.T3(e._dbref,!1)).then(r=>{t(n),p.hL(e.doc,()=>{r.forEach(t=>p.QE(e.doc,t))},e,!1)}).then(()=>u.y7(n).then(t=>{e._dbref=t+1})).then(()=>u.U9(n).then(t=>{e._dbsize=t})).then(()=>n)},b=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return g(e).then(n=>{(t||e._dbsize>=500)&&u.GL(n,p.PR(e.doc)).then(()=>u.yH(n,u.U2(e._dbref,!0))).then(()=>u.U9(n).then(t=>{e._dbsize=t}))})},y=e=>u.MR(e);class v extends h.c{destroy(){return this._storeTimeoutId&&clearTimeout(this._storeTimeoutId),this.doc.off("update",this._storeUpdate),this.doc.off("destroy",this.destroy),this._destroyed=!0,this._db.then(e=>{e.close()})}clearData(){return this.destroy().then(()=>{u.MR(this.name)})}get(e){return this._db.then(t=>{let[n]=u.hL(t,[f],"readonly");return u.Jt(n,e)})}set(e,t){return this._db.then(n=>{let[r]=u.hL(n,[f]);return u.yJ(r,t,e)})}del(e){return this._db.then(t=>{let[n]=u.hL(t,[f]);return u.yH(n,e)})}constructor(e,t){super(),this.doc=t,this.name=e,this._dbref=0,this._dbsize=0,this._destroyed=!1,this.db=null,this.synced=!1,this._db=u.P2(e,e=>u.vK(e,[["updates",{autoIncrement:!0}],["custom"]])),this.whenSynced=this._db.then(e=>(this.db=e,g(this,e=>u.GL(e,p.PR(t))).then(()=>(this._destroyed||(this.emit("synced",[this]),this.synced=!0),this)))),this._storeTimeout=1e3,this._storeTimeoutId=null,this._storeUpdate=(e,t)=>{if(this.db&&t!==this){let[t]=u.hL(this.db,[m]);u.GL(t,e),++this._dbsize>=500&&(null!==this._storeTimeoutId&&clearTimeout(this._storeTimeoutId),this._storeTimeoutId=setTimeout(()=>{b(this,!1),this._storeTimeoutId=null},this._storeTimeout))}},t.on("update",this._storeUpdate),this.destroy=this.destroy.bind(this),t.on("destroy",this.destroy)}}var w=n(43634),E=n(34647),x=n(42542),S=n(25991);let C=(0,E.S)();class A{async enable(){}async disable(){}get enabled(){return C&&((0,S.yy)(this.store.getState())||d.of.get("offlineEditing"))}async loadYDoc(e,t){return this.enabled?!!(0,S.TT)(this.store.getState())[e]&&(this.setup(e,t),!0):(console.warn("Cannot setupForDocLoad when it is not enabled"),!1)}async syncYDoc(e,t){if(!this.enabled)return void console.warn("Cannot setup IndexedDB for doc as it is not enabled");await this.setup(e,t),this.store.dispatch((0,S.GD)({docId:e,lastSynced:new Date().toISOString()}))}setup(e,t){return new Promise(n=>{let r=new v(e,t),i=s()(()=>{let e=t.getMap("SCHEMA_VERSION").get("REQUIRED_VERSION");r.set("lastUpdated",new Date().toISOString()),r.set("schemaVersion",e||"")},1e3);t.on("update",i),r.on("synced",()=>{n()})})}async gc(){let e=Date.now(),t=Object.values(this.syncedYDocs).filter(t=>!!t.lastSynced&&e-new Date(t.lastSynced).getTime()>x.P).map(e=>e.docId),n=(0,w.pn)(this.store.getState());n?this.removeDocs(l()(t,n)):this.removeDocs(t)}async removeDocs(e){if(0===e.length)return;this.store.dispatch((0,S.jk)({docIds:e}));let t=e.map(e=>y(e));await Promise.all(t)}async debug(){return{syncedYdocs:this.syncedYDocs}}get syncedYDocs(){return(0,S.TT)(this.store.getState())}constructor(){this.store=(0,c.KA)()}}let j=o()(()=>new A)},59190:(e,t,n)=>{"use strict";n.d(t,{Br:()=>h,Iy:()=>p,n6:()=>m,td:()=>f});var r=n(55729),s=n(95578),i=n(15342),o=n(43634),a=n(85235),l=n(2031),d=n(7092);let c=e=>Math.random()<=1/e;class u{setupProvider(){this.t1SetupProvider||(this.t1SetupProvider=performance.now())}downloadDoc(){this.t2DownloadDoc||(this.t2DownloadDoc=performance.now())}onCreate(){this.t3OnCreate||(this.t3OnCreate=performance.now())}report(){return null===this.t1SetupProvider||null===this.t2DownloadDoc||null===this.t3OnCreate?null:{downloadDoc:this.t2DownloadDoc-this.t1SetupProvider,onCreate:this.t3OnCreate-this.t2DownloadDoc}}constructor(){this.t1SetupProvider=null,this.t2DownloadDoc=null,this.t3OnCreate=null}}let h=(e,t)=>{let n=(0,i.GV)(o.Cl),s=(0,r.useRef)(n);(0,r.useEffect)(()=>{s.current=n},[n]),(0,r.useEffect)(()=>{if(e)return window.addEventListener("keydown",n,!0),()=>{window.removeEventListener("keydown",n,!0)};function n(e){if(!e.target.closest(".ProseMirror")||!s.current||!c(t))return;let n=performance.now();requestAnimationFrame(()=>{let t=e.key;" "===t&&(t="Space");let r=performance.now()-n;(0,d.I1)({...(0,l.w)(),key:t,duration:r})})}},[e,s,t])},p=()=>{let e=(0,s.u)("rumSampleRate");(0,r.useEffect)(()=>{(0,d.BR)(e)},[e])},f=e=>{let t=(0,r.useCallback)(t=>{let{isFullscreen:n=!1}=t;if(!e)return;let r=performance.now();requestAnimationFrame(()=>{requestAnimationFrame(()=>{let e=performance.now()-r;(0,d.WX)({...(0,l.w)(),toMode:a.w.SLIDE_VIEW,duration:e,isFullscreen:n})})})},[e]);return{recordExitSlideModePerformance:(0,r.useCallback)(t=>{let{isFullscreen:n=!1}=t;if(!e)return;let r=performance.now();requestAnimationFrame(()=>{requestAnimationFrame(()=>{let e=performance.now()-r;(0,d.WX)({...(0,l.w)(),toMode:a.w.DOC_VIEW,duration:e,isFullscreen:n})})})},[e]),recordEnterSlideModePerformance:t}},m=()=>{let[e]=(0,r.useState)(()=>new u),t=(0,r.useCallback)(()=>{e.setupProvider()},[e]),n=(0,r.useCallback)(()=>{e.downloadDoc()},[e]);return{timeOnCreate:(0,r.useCallback)(()=>{e.onCreate();let t=e.report();if(null===t)return void console.warn("[HoneycombDocLoadTimer] failed to generate doc timings");(0,d.Ac)({...(0,l.w)(),duration:t.onCreate}),(0,d.Dx)({...(0,l.w)(),duration:t.downloadDoc})},[e]),timeOnSetupProvider:t,timeOnDownloadDoc:n}}},62706:()=>{},65613:()=>{},66536:(e,t,n)=>{"use strict";n.d(t,{K:()=>i,gt:()=>a,ug:()=>o});var r=n(91938),s=n(99767);let i=e=>"/templates/categories/".concat(e),o=e=>{let{id:t,slug:n,absolute:s=!1}=e;return t?"".concat(s?r.$.FRONTEND_URL:"","/templates/").concat(n?"".concat(n,"-"):"").concat(t):""},a=e=>"en"!==e&&e&&s.jF.includes(e)?{home:"/".concat(e),pricing:"/".concat(e,"/pricing")}:{home:"/",pricing:"/pricing"}},71024:(e,t,n)=>{e.exports=n(30362)},73224:(e,t,n)=>{"use strict";n.d(t,{GL:()=>f,Jt:()=>u,MR:()=>a,P2:()=>o,T3:()=>x,U2:()=>E,U9:()=>c,UK:()=>m,hL:()=>d,vK:()=>l,y7:()=>b,yH:()=>h,yJ:()=>p});var r=n(59590),s=n(7065);let i=e=>r.vt((t,n)=>{e.onerror=e=>n(Error(e.target.error)),e.onsuccess=e=>t(e.target.result)}),o=(e,t)=>r.vt((n,r)=>{let i=indexedDB.open(e);i.onupgradeneeded=e=>t(e.target.result),i.onerror=e=>r(s.vt(e.target.error)),i.onsuccess=e=>{let t=e.target.result;t.onversionchange=()=>{t.close()},n(t)}}),a=e=>i(indexedDB.deleteDatabase(e)),l=(e,t)=>t.forEach(t=>e.createObjectStore.apply(e,t)),d=(e,t,n="readwrite")=>{let r=e.transaction(t,n);return t.map(e=>w(r,e))},c=(e,t)=>i(e.count(t)),u=(e,t)=>i(e.get(t)),h=(e,t)=>i(e.delete(t)),p=(e,t,n)=>i(e.put(t,n)),f=(e,t)=>i(e.add(t)),m=(e,t,n)=>i(e.getAll(t,n)),g=(e,t,n)=>{let r=null;return v(e,t,e=>(r=e,!1),n).then(()=>r)},b=(e,t=null)=>g(e,t,"prev"),y=(e,t)=>r.vt((n,r)=>{e.onerror=r,e.onsuccess=async e=>{let r=e.target.result;if(null===r||await t(r)===!1)return n();r.continue()}}),v=(e,t,n,r="next")=>y(e.openKeyCursor(t,r),e=>n(e.key)),w=(e,t)=>e.objectStore(t),E=(e,t)=>IDBKeyRange.upperBound(e,t),x=(e,t)=>IDBKeyRange.lowerBound(e,t)},73320:(e,t,n)=>{"use strict";n.d(t,{mM:()=>_,gu:()=>k,hG:()=>j});var r,s,i=n(22905),o=n(63867),a=n(67733);class l{constructor({editor:e,element:t,view:n,tippyOptions:r={},updateDelay:s=250,shouldShow:o}){this.preventHide=!1,this.shouldShow=({view:e,state:t,from:n,to:r})=>{let{doc:s,selection:o}=t,{empty:a}=o,l=!s.textBetween(n,r).length&&(0,i.eE)(t.selection),d=this.element.contains(document.activeElement);return!!(e.hasFocus()||d)&&!a&&!l&&!!this.editor.isEditable},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:e})=>{var t;if(this.preventHide){this.preventHide=!1;return}(null==e?void 0:e.relatedTarget)&&(null==(t=this.element.parentNode)?void 0:t.contains(e.relatedTarget))||(null==e?void 0:e.relatedTarget)!==this.editor.view.dom&&this.hide()},this.tippyBlurHandler=e=>{this.blurHandler({event:e})},this.handleDebouncedUpdate=(e,t)=>{let n=!(null==t?void 0:t.selection.eq(e.state.selection)),r=!(null==t?void 0:t.doc.eq(e.state.doc));(n||r)&&(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(e,n,r,t)},this.updateDelay))},this.updateHandler=(e,t,n,r)=>{var s,o,a;let{state:l,composing:d}=e,{selection:c}=l;if(d||!t&&!n)return;this.createTooltip();let{ranges:u}=c,h=Math.min(...u.map(e=>e.$from.pos)),p=Math.max(...u.map(e=>e.$to.pos));if(!(null==(s=this.shouldShow)?void 0:s.call(this,{editor:this.editor,element:this.element,view:e,state:l,oldState:r,from:h,to:p})))return void this.hide();null==(o=this.tippy)||o.setProps({getReferenceClientRect:(null==(a=this.tippyOptions)?void 0:a.getReferenceClientRect)||(()=>{if((0,i.BQ)(l.selection)){let t=e.nodeDOM(h);if(t){let e=t.dataset.nodeViewWrapper?t:t.querySelector("[data-node-view-wrapper]");if(e&&(t=e.firstChild),t)return t.getBoundingClientRect()}}return(0,i.MG)(e,h,p)})}),this.show()},this.editor=e,this.element=t,this.view=n,this.updateDelay=s,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=r,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){let{element:e}=this.editor.options,t=!!e.parentElement;!this.tippy&&t&&(this.tippy=(0,a.Ay)(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,t){let{state:n}=e,r=n.selection.from!==n.selection.to;if(this.updateDelay>0&&r)return void this.handleDebouncedUpdate(e,t);let s=!(null==t?void 0:t.selection.eq(e.state.selection)),i=!(null==t?void 0:t.doc.eq(e.state.doc));this.updateHandler(e,s,i,t)}show(){var e;null==(e=this.tippy)||e.show()}hide(){var e;null==(e=this.tippy)||e.hide()}destroy(){var e,t;(null==(e=this.tippy)?void 0:e.popper.firstChild)&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),null==(t=this.tippy)||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}let d=e=>new o.k_({key:"string"==typeof e.pluginKey?new o.hs(e.pluginKey):e.pluginKey,view:t=>new l({view:t,...e})});i.YY.create({name:"bubbleMenu",addOptions:()=>({element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}),addProseMirrorPlugins(){return this.options.element?[d({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});var c=n(55729),u=n(56760),h={exports:{}},p={};h.exports=function(){if(r)return p;r=1;var e="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},t=c.useState,n=c.useEffect,s=c.useLayoutEffect,i=c.useDebugValue;function o(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!e(t,r)}catch(e){return!0}}var a="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,r){var a=r(),l=t({inst:{value:a,getSnapshot:r}}),d=l[0].inst,c=l[1];return s(function(){d.value=a,d.getSnapshot=r,o(d)&&c({inst:d})},[e,a,r]),n(function(){return o(d)&&c({inst:d}),e(function(){o(d)&&c({inst:d})})},[e]),i(a),a};return p.useSyncExternalStore=void 0!==c.useSyncExternalStore?c.useSyncExternalStore:a,p}();var f=h.exports;let m=(...e)=>t=>{e.forEach(e=>{"function"==typeof e?e(t):e&&(e.current=t)})},g=({contentComponent:e})=>{let t=f.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return c.createElement(c.Fragment,null,Object.values(t))};class b extends c.Component{constructor(e){var t;super(e),this.editorContentRef=c.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(null==(t=e.editor)?void 0:t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){let e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;let t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=function(){let e=new Set,t={};return{subscribe:t=>(e.add(t),()=>{e.delete(t)}),getSnapshot:()=>t,getServerSnapshot:()=>t,setRenderer(n,r){t={...t,[n]:u.createPortal(r.reactElement,r.element,n)},e.forEach(e=>e())},removeRenderer(n){let r={...t};delete r[n],t=r,e.forEach(e=>e())}}}(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(e=>e.hasContentComponentInitialized?e:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){let e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;let t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){let{editor:e,innerRef:t,...n}=this.props;return c.createElement(c.Fragment,null,c.createElement("div",{ref:m(t,this.editorContentRef),...n}),(null==e?void 0:e.contentComponent)&&c.createElement(g,{contentComponent:e.contentComponent}))}}let y=(0,c.forwardRef)((e,t)=>{let n=c.useMemo(()=>Math.floor(0xffffffff*Math.random()).toString(),[e.editor]);return c.createElement(b,{key:n,innerRef:t,...e})});c.memo(y);var v={exports:{}},w={};v.exports=function(){if(s)return w;s=1;var e="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},t=f.useSyncExternalStore,n=c.useRef,r=c.useEffect,i=c.useMemo,o=c.useDebugValue;return w.useSyncExternalStoreWithSelector=function(s,a,l,d,c){var u=n(null);if(null===u.current){var h={hasValue:!1,value:null};u.current=h}else h=u.current;var p=t(s,(u=i(function(){function t(t){if(!s){if(s=!0,n=t,t=d(t),void 0!==c&&h.hasValue){var i=h.value;if(c(i,t))return r=i}return r=t}if(i=r,e(n,t))return i;var o=d(t);return void 0!==c&&c(i,o)?i:(n=t,r=o)}var n,r,s=!1,i=void 0===l?null:l;return[function(){return t(a())},null===i?void 0:function(){return t(i())}]},[a,l,d,c]))[0],u[1]);return r(function(){h.hasValue=!0,h.value=p},[p]),o(p),p},w}();var E=v.exports;class x{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber||(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber}),this.lastSnapshot}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){let e=()=>{this.transactionNumber+=1,this.subscribers.forEach(e=>e())},t=this.editor;return t.on("transaction",e),()=>{t.off("transaction",e)}}}}let S="undefined"==typeof window,C=S||!!("undefined"!=typeof window&&window.next);class A{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(e=>e())}getInitialEditor(){return void 0===this.options.current.immediatelyRender?S||C?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){let e={...this.options.current,onBeforeCreate:(...e)=>{var t,n;return null==(n=(t=this.options.current).onBeforeCreate)?void 0:n.call(t,...e)},onBlur:(...e)=>{var t,n;return null==(n=(t=this.options.current).onBlur)?void 0:n.call(t,...e)},onCreate:(...e)=>{var t,n;return null==(n=(t=this.options.current).onCreate)?void 0:n.call(t,...e)},onDestroy:(...e)=>{var t,n;return null==(n=(t=this.options.current).onDestroy)?void 0:n.call(t,...e)},onFocus:(...e)=>{var t,n;return null==(n=(t=this.options.current).onFocus)?void 0:n.call(t,...e)},onSelectionUpdate:(...e)=>{var t,n;return null==(n=(t=this.options.current).onSelectionUpdate)?void 0:n.call(t,...e)},onTransaction:(...e)=>{var t,n;return null==(n=(t=this.options.current).onTransaction)?void 0:n.call(t,...e)},onUpdate:(...e)=>{var t,n;return null==(n=(t=this.options.current).onUpdate)?void 0:n.call(t,...e)},onContentError:(...e)=>{var t,n;return null==(n=(t=this.options.current).onContentError)?void 0:n.call(t,...e)}};return new i.KE(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&0===e.length?this.editor.setOptions(this.options.current):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(null===this.previousDeps){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((t,n)=>t===e[n]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){let e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function j(e={},t=[]){let n=(0,c.useRef)(e);n.current=e;let[r]=(0,c.useState)(()=>new A(n)),s=f.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return(0,c.useDebugValue)(s),(0,c.useEffect)(r.onRender(t)),!function(e){let[t]=(0,c.useState)(()=>new x(e.editor)),n=E.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,e.selector,e.equalityFn);(0,c.useEffect)(()=>t.watch(e.editor),[e.editor,t]),(0,c.useDebugValue)(n)}({editor:s,selector:({transactionNumber:t})=>!1===e.shouldRerenderOnTransaction?null:e.immediatelyRender&&0===t?0:t+1}),s}let D=(0,c.createContext)({editor:null}),O=(D.Consumer,()=>(0,c.useContext)(D)),_=e=>{let[t,n]=(0,c.useState)(null),{editor:r}=O();return(0,c.useEffect)(()=>{var n;if(!t||(null==(n=e.editor)?void 0:n.isDestroyed)||(null==r?void 0:r.isDestroyed))return;let{pluginKey:s="bubbleMenu",editor:i,tippyOptions:o={},updateDelay:a,shouldShow:l=null}=e,c=i||r;if(!c)return void console.warn("BubbleMenu component is not rendered inside of an editor component or does not have editor prop.");let u=d({updateDelay:a,editor:c,element:t,pluginKey:s,shouldShow:l,tippyOptions:o});return c.registerPlugin(u),()=>c.unregisterPlugin(s)},[e.editor,r,t]),c.createElement("div",{ref:n,className:e.className,style:{visibility:"hidden"}},e.children)},M=(0,c.createContext)({onDragStart:void 0}),R=()=>(0,c.useContext)(M);c.forwardRef((e,t)=>{let{onDragStart:n}=R(),r=e.as||"div";return c.createElement(r,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})});class T{constructor(e,{editor:t,props:n={},as:r="div",className:s="",attrs:i}){this.ref=null,this.id=Math.floor(0xffffffff*Math.random()).toString(),this.component=e,this.editor=t,this.props=n,this.element=document.createElement(r),this.element.classList.add("react-renderer"),s&&this.element.classList.add(...s.split(" ")),i&&Object.keys(i).forEach(e=>{this.element.setAttribute(e,i[e])}),this.editor.isInitialized?(0,u.flushSync)(()=>{this.render()}):this.render()}render(){var e,t;let n=this.component,r=this.props,s=this.editor;("function"==typeof n&&n.prototype&&n.prototype.isReactComponent||"object"==typeof n&&(null==(t=n.$$typeof)?void 0:t.toString())==="Symbol(react.forward_ref)")&&(r.ref=e=>{this.ref=e}),this.reactElement=c.createElement(n,r),null==(e=null==s?void 0:s.contentComponent)||e.setRenderer(this.id,this)}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e;let t=this.editor;null==(e=null==t?void 0:t.contentComponent)||e.removeRenderer(this.id)}}class I extends i.Yv{mount(){let e={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:(e={})=>this.updateAttributes(e),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){let e;this.component.displayName=(e=this.extension.name).charAt(0).toUpperCase()+e.substring(1)}let t={onDragStart:this.onDragStart.bind(this),nodeViewContentRef:e=>{e&&this.contentDOMElement&&e.firstChild!==this.contentDOMElement&&e.appendChild(this.contentDOMElement)}},n=this.component,r=c.memo(e=>c.createElement(M.Provider,{value:t},c.createElement(n,e)));r.displayName="ReactNodeView",this.node.isLeaf?this.contentDOMElement=null:this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.style.whiteSpace="inherit");let s=this.node.isInline?"span":"div";this.options.as&&(s=this.options.as);let{className:i=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.renderer=new T(r,{editor:this.editor,props:e,as:s,className:`node-${this.node.type.name} ${i}`.trim(),attrs:this.options.attrs})}get dom(){var e;if(this.renderer.element.firstElementChild&&!(null==(e=this.renderer.element.firstElementChild)?void 0:e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){let{from:e,to:t}=this.editor.state.selection;if(e<=this.getPos()&&t>=this.getPos()+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(e,t){let n=e=>{this.renderer.updateProps(e)};if(e.type!==this.node.type)return!1;if("function"==typeof this.options.update){let r=this.node,s=this.decorations;return this.node=e,this.decorations=t,this.options.update({oldNode:r,oldDecorations:s,newNode:e,newDecorations:t,updateProps:()=>n({node:e,decorations:t})})}return e===this.node&&this.decorations===t||(this.node=e,this.decorations=t,n({node:e,decorations:t}),!0)}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}}function k(e,t){return n=>n.editor.contentComponent?new I(e,n,t):{}}},77741:()=>{},82077:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return h}});let r=n(14761)._(n(55729)),s=n(11959),i=[],o=[],a=!1;function l(e){let t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then(e=>(n.loading=!1,n.loaded=e,e)).catch(e=>{throw n.loading=!1,n.error=e,e}),n}class d{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:e,_opts:t}=this;e.loading&&("number"==typeof t.delay&&(0===t.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},t.delay)),"number"==typeof t.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},t.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(e=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(e){this._state={...this._state,error:this._res.error,loaded:this._res.loaded,loading:this._res.loading,...e},this._callbacks.forEach(e=>e())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(e){return this._callbacks.add(e),()=>{this._callbacks.delete(e)}}constructor(e,t){this._loadFn=e,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}}function c(e){return function(e,t){let n=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null},t),i=null;function l(){if(!i){let t=new d(e,n);i={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return i.promise()}if(!a){let e=n.webpack&&1?n.webpack():n.modules;e&&o.push(t=>{for(let n of e)if(t.includes(n))return l()})}function c(e,t){l();let o=r.default.useContext(s.LoadableContext);o&&Array.isArray(n.modules)&&n.modules.forEach(e=>{o(e)});let a=r.default.useSyncExternalStore(i.subscribe,i.getCurrentValue,i.getCurrentValue);return r.default.useImperativeHandle(t,()=>({retry:i.retry}),[]),r.default.useMemo(()=>{var t;return a.loading||a.error?r.default.createElement(n.loading,{isLoading:a.loading,pastDelay:a.pastDelay,timedOut:a.timedOut,error:a.error,retry:i.retry}):a.loaded?r.default.createElement((t=a.loaded)&&t.default?t.default:t,e):null},[e,a])}return c.preload=()=>l(),c.displayName="LoadableComponent",r.default.forwardRef(c)}(l,e)}function u(e,t){let n=[];for(;e.length;){let r=e.pop();n.push(r(t))}return Promise.all(n).then(()=>{if(e.length)return u(e,t)})}c.preloadAll=()=>new Promise((e,t)=>{u(i).then(e,t)}),c.preloadReady=e=>(void 0===e&&(e=[]),new Promise(t=>{let n=()=>(a=!0,t());u(o,e).then(n,n)})),window.__NEXT_PRELOADREADY=c.preloadReady;let h=c},87213:()=>{},87340:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r={src:"/_next/static/media/clouds2.b6ae5b45.png",height:639,width:1221,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAMAAACEE47CAAAAM1BMVEVMaXHt5N7/8N09Zrza0dusrNb26uk1XMiin8Xz59/YwNb//+a1qNPDu9RFbLmGj83/8u7+n/uqAAAAEHRSTlMAVzYyyhX6EgRtxR/dwoHeF7J08gAAAAlwSFlzAAALEwAACxMBAJqcGAAAAChJREFUeJwFwYkBACAIxLCq4IH//tOaQGROgLZe71mDc4dts0JIjuQfDu4A0ztn0lYAAAAASUVORK5CYII=",blurWidth:8,blurHeight:4}},88021:(e,t,n)=>{"use strict";n.d(t,{V:()=>d});var r=n(6029),s=n(55729),i=n(86740),o=n(73110),a=n(47880),l=n(91405);let d=e=>{let{buttonProps:t,showLabelOnMobile:n=!1}=e,d=(0,o.O)(),c=(0,s.useMemo)(()=>d,[]),[u,h]=(0,s.useState)(c);(0,a.O)(u);let p=(0,s.useCallback)(e=>{h(e),(0,l.Y)(e)},[]);return(0,r.jsx)(i.r,{selectedLocaleKey:d,onLocaleSelect:p,buttonProps:t,showLabelOnMobile:n})}},90807:(e,t,n)=>{"use strict";let r;n.d(t,{h:()=>eO});var s=n(6029);n(11230),n(46967);var i=n(29329),o=n(19521),a=n(77650),l=n(95669),d=n.n(l),c=n(81278),u=n(55729),h=n(74158),p=n(91938),f=n(94282),m=n(88586),g=n(2087);let b=e=>{let t=["malformed","encoded","illegal"];return e.includes("URIError")&&e.split(" ").some(e=>t.includes(e))};class y extends u.Component{componentDidMount(){window.addEventListener("error",this.handleError),window.addEventListener("unhandledrejection",this.handleUnhandledRejection)}componentWillUnmount(){window.removeEventListener("error",this.handleError),window.removeEventListener("unhandledrejection",this.handleUnhandledRejection)}componentDidCatch(e,t){if("dev"===p.$.APPLICATION_ENVIRONMENT)throw e;f.Cp(e,{extra:{info:null==t?void 0:t.componentStack}})}static getDerivedStateFromError(e){return{hasError:!0,errMessage:e.message,shouldMountChildren:!1}}handleError(e){if("dev"===p.$.APPLICATION_ENVIRONMENT)throw Error("[ErrorBoundary]: ".concat(e.message))}handleUnhandledRejection(e){if(this.props.unhandledRejectionFilter(e)){var t;let n=(null==(t=e.reason)?void 0:t.message)||"";this.setState({hasError:!0,errMessage:n})}}render(){let e=!0===b(this.state.errMessage)?{opacity:"0.65",starOverlay:!1}:{};return(0,s.jsxs)(s.Fragment,{children:[this.state.hasError&&(0,s.jsx)(g.A,{pos:"absolute",top:0,...e,errMessage:""===this.state.errMessage?void 0:this.state.errMessage,showDisclosure:!0}),this.state.shouldMountChildren&&this.props.children]})}constructor(e){super(e),this.state={hasError:!1,errMessage:"",shouldMountChildren:!0},this.handleError=this.handleError.bind(this),this.handleUnhandledRejection=this.handleUnhandledRejection.bind(this)}}y.defaultProps={unhandledRejectionFilter:e=>{var t;return!!b((null==(t=e.reason)?void 0:t.message)||"")||e.reason instanceof m.Teu&&!1===document.hidden||e.reason instanceof m.cdx}};var v=n(8814),w=n(31615),E=n(17859),x=n(6308),S=n(9052),C=n(65905),A=n(29238),j=n(15342);let D=e=>{console.debug("%c[useApiRefetch] Refetching due to ".concat(e),"background-color: aqua"),(0,S.H4)().reFetchObservableQueries()},O=()=>{let e=(0,j.CU)(),t=(0,u.useRef)(!1),n=(0,u.useRef)(null),r=(0,u.useCallback)(e=>{n.current&&(clearTimeout(n.current),n.current=null),n.current=setTimeout(()=>{D(e),n.current=null},3e3)},[]),s=(0,u.useCallback)(()=>(0,A.mN)(e.getState()).backgrounded,[e]);(0,C.LQ)("online",(0,u.useCallback)(()=>{if(s()){t.current=!0;return}r("online")},[r,s])),(0,C.LQ)("wakeup",(0,u.useCallback)(()=>{if(s()){t.current=!0;return}r("wakeup")},[r,s])),(0,C.LQ)("foreground",(0,u.useCallback)(()=>{t.current&&(r("foreground"),t.current=!1)},[r]))},_=Number(new URLSearchParams(p.$.IS_CLIENT_SIDE?window.location.search:"").get("MAX_BACKGROUND_TIME_ALLOWED"))||432e5,M=()=>{let e=(0,u.useRef)(!1),t=(0,u.useCallback)(t=>{t.timeInBackground&&!e.current&&t.timeInBackground>_&&(e.current=!0,window.location.reload())},[]);(0,C.LQ)("foreground",t)},R=(0,u.memo)(()=>((0,C.yj)(),O(),M(),null));R.displayName="ConnectionMonitor";var T=n(7836),I=n(72751),k=n(95578),N=n(69768),P=n(19564),L=n(73247),U=n(41215);let F=e=>{let{children:t}=e;return(0,L.e)(),(0,U.Z)(),(0,s.jsx)(P.CY,{i18n:a.Ru,children:t})};var B=n(43728),H=n(3247),z=n(54278),V=n(88956),K=n(31061),G=n(3615),Y=n(55765),W=n.n(Y),q=n(25991);class J{async enable(){try{await window.serwist.register()}catch(e){console.error("Error registering Serwist service worker:",e)}}async disable(){try{for(let e of(await navigator.serviceWorker.getRegistrations()))console.debug("offlineMode - [SerwistOfflineCache] Unregistering service worker:",e),await e.unregister()}catch(e){console.error("Error unregistering Serwist service worker:",e)}try{await this.clearCaches()}catch(e){console.error("Error clearing caches",e)}this.store.dispatch((0,q.Em)())}async debug(){let e=await window.caches.keys();return{cache:(await Promise.all(e.map(async e=>{let t=await window.caches.open(e).then(e=>e.matchAll());return[e,t]}))).reduce((e,t)=>(e[t[0]]=t[1],e),{})}}async gc(e){}async clearCaches(){try{if(!window.caches)return;for(let e of(await window.caches.keys()))await window.caches.delete(e);console.debug("offlineMode - [SerwistOfflineCache] Serwist caches cleared successfully")}catch(e){console.error("Error clearing caches",e)}}constructor(){this.store=(0,j.KA)()}}let X=W()(()=>new J);var $=n(58859),Q=n(34647),Z=n(12364),ee=n.n(Z),et=n(83817),en=n.n(et);let er="offline-state-v1",es=e=>{let t=ei(),n=null;t&&(console.debug("offlineMode - [setupOfflineManagerPersistence] LOADING PERSISTED STATE",t),e.dispatch((0,q.OA)(t)),n=t);let r=ee()(e=>{eo(e)},500);return e.subscribe(()=>{let t=(0,q.uc)(e.getState());if(n!==t){if(en()(n,t)){n=t;return}n=t,console.debug("offlineMode - [setupOfflineManagerPersistence] PERSISTING STATE",t),r(t)}})},ei=()=>{try{let e=localStorage.getItem(er);return JSON.parse(e)}catch(e){return null}},eo=async e=>{try{let t=JSON.stringify(e);localStorage.setItem(er,t)}catch(e){console.error("Error persisting state",e)}},ea=(0,Q.B)();class el{get enabled(){return(0,q.yy)(this.store.getState())}async init(){if(!ea)return void console.debug("offlineMode - [OfflineManager] Offline mode is not supported");this.cleanupFns.push(es(this.store)),await this.notifyCaches(this.enabled),console.debug("offlineMode - [OfflineManager] caches initialized",this.enabled),this.setupFeatureFlagSubscription(),this.setupConnectionListener(),console.debug("offlineMode - [OfflineManager] subscriptions initialized")}setupConnectionListener(){let e=V.l.on("offline",()=>{this.apolloOfflineCache.useOfflineCache()}),t=V.l.on("online",()=>{this.apolloOfflineCache.backOnline()});this.cleanupFns.push(t),this.cleanupFns.push(e)}setupFeatureFlagSubscription(){k.of.initializePromise.then(()=>{let e=k.of.get("offline");e!==this.enabled&&(e?this.enable():this.disable()),this.cleanupFns.push(k.of.subscribe("offline",e=>{e?this.enable():this.disable()}))})}async enable(){if(!ea)return void console.debug("offlineMode - [OfflineManager] Offline mode is not supported");if(this.enabled)return void console.warn("Offline mode already enabled");let{user:e,status:t}=await (0,K.m)({returnOfflineUser:!1});if("loggedIn"!==t)return void console.warn("[OfflineManager] Offline mode user not logged in");await this.notifyCaches(!0),this.store.dispatch((0,q.Es)({user:e,lastSynced:new Date().toISOString()}))}async disable(){return ea?this.enabled?void(await this.notifyCaches(!1),this.store.dispatch((0,q.lK)())):void console.warn("[OfflineManager] Offline mode already disabled"):void console.debug("offlineMode - [OfflineManager] Offline mode is not supported")}async notifyCaches(e){return Promise.all(e?this.caches.map(e=>e.enable()):this.caches.map(e=>e.disable()))}cleanup(){for(;this.cleanupFns.length>0;){var e;null==(e=this.cleanupFns.pop())||e()}}constructor(){this.store=(0,j.KA)(),this.serwistOfflineCache=X(),this.ydocOfflineCache=(0,$.f)(),this.apolloOfflineCache=(0,G.h)(),this.caches=[this.serwistOfflineCache,this.ydocOfflineCache,this.apolloOfflineCache],this.cleanupFns=[]}}let ed=async()=>{if(r)throw Error("OfflineManager already initialized");try{r=new el,await r.init()}catch(e){console.error("Error initializing OfflineManager",e)}};window.getOfflineManagerState=()=>(0,j.KA)().getState().OfflineManager,window.getOfflineManager=()=>r;var ec=n(18341),eu=n(7092),eh=n(59190),ep=n(82891);let ef="no_org_id",em=e=>{let{children:t}=e;(0,eh.Iy)();let{user:n,anonymousUser:r,currentWorkspace:i,isUserLoading:o}=(0,ec.ur)();return(0,u.useEffect)(()=>{let e=(0,ep.g)();(0,eu.eZ)(e.get()),e.fetch().then(eu.eZ).catch(()=>{})},[]),(0,u.useEffect)(()=>{let e;if(!o){if(n){let{id:t,email:r}=n,s=!!r&&r.endsWith("@gamma.app");e={userId:t,isGammaUser:s,userOrgId:(null==i?void 0:i.id)||ef,anonymousUser:!1,gammaUserFirstName:s?n.firstName:""}}else e={userId:"anonymous_user",isGammaUser:!1,userOrgId:ef,anonymousUser:!0,gammaUserFirstName:""};(0,eu.eZ)(e)}},[o,n,r,i]),(0,s.jsx)(s.Fragment,{children:t})};var eg=n(1771),eb=n(95889),ey=n(21088),ev=n(33521),ew=n(56288),eE=n(29608),ex=n(23460),eS=n(75287),eC=n(85732);n(85465),n(98026),n(8262),n(98),n(1433),n(77741),n(62706),n(65613),n(87213),o.$W.autoAddCss=!1;let eA=(0,j.KA)();ed();let ej=(0,m.fqS)({supportOfflineMode:!0}),eD=(0,m.fFM)();(0,ex.xy)(),H.WC.initialize(),(0,N.Wf)(),eb.zS.init(),(0,T.Lm)(),(0,T.Gu)(),(0,B.Ts)(),(0,I.li)(),(0,ev.P)("appMainBundleLoaded"),k.of.get("debugLogging")||(window.console.debug=()=>{});let eO=e=>function(t){return(0,s.jsx)(e_,{children:(0,s.jsx)(e,{...t})})},e_=e=>{let{children:t}=e,n=(0,c.useRouter)();(0,eg.R)(),(0,eS.E)(),(0,v.G)(),(0,u.useEffect)(()=>{let e=(e,t)=>{let{shallow:n}=t;console.debug("[GammaApp - handleRouteChange] App is changing to ".concat(e," ").concat(n?"with":"without"," shallow routing"))};return n.events.on("routeChangeStart",e),()=>{n.events.off("routeChangeStart",e)}},[n]);let r=(0,ew.dC)();return(0,s.jsx)(h.Kq,{store:eA,children:(0,s.jsx)(F,{children:(0,s.jsx)(x.Z,{children:(0,s.jsx)(y,{children:(0,s.jsx)(i.X,{client:ej,children:(0,s.jsxs)(m.N0f,{client:eD,children:[(0,s.jsx)(eM,{}),(0,s.jsx)(w.fH,{}),(0,s.jsx)(B.FM,{}),(0,s.jsx)(E.D,{}),(0,s.jsx)(R,{}),(0,s.jsxs)(ec.ac,{children:[(0,s.jsx)(ey.M7,{children:(0,s.jsx)(k.Yy,{children:(0,s.jsx)(z.K,{children:(0,s.jsx)(em,{children:(0,s.jsx)(ew.gk,{value:r,children:t})})})})}),(0,s.jsx)(k.zf,{})]})]})})})})})})},eM=()=>{let e=p.$.OG_IMAGE_URL_REBRAND,t=a.Ru._({id:"0v7kQB"}),n=p.$.APPLICATION_ENVIRONMENT;return(0,s.jsxs)(d(),{children:[(0,s.jsx)("title",{children:"Gamma"}),"production"!==n&&(0,s.jsx)("meta",{name:"robots",content:"noindex, nofollow"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, viewport-fit=cover"}),(0,s.jsx)("link",{rel:"manifest",href:"/manifest.json"}),"production"!==n?(0,s.jsx)("link",{rel:"shortcut icon",href:"staging"===n?"/icons/favicon_staging.jpg":"/icons/favicon_local.jpg"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("link",{rel:"icon",href:"https://static.gamma.app/favicons/favicon_light.ico",sizes:"32x32"}),(0,s.jsx)("link",{rel:"icon",type:"image/svg+xml",href:"https://static.gamma.app/favicons/favicon_dark.svg",media:"(prefers-color-scheme: dark)"}),(0,s.jsx)("link",{rel:"icon",type:"image/svg+xml",href:"https://static.gamma.app/favicons/favicon_light.svg",media:"(prefers-color-scheme: light)"}),(0,s.jsx)("link",{rel:"apple-touch-icon",href:"https://static.gamma.app/favicons/apple-touch-icon.png"})]}),(0,s.jsx)("meta",{content:t,name:"description"},"description"),(0,s.jsx)("meta",{content:"Gamma",property:"og:title"},"og:title"),(0,s.jsx)("meta",{content:t,property:"og:description"},"og:description"),(0,s.jsx)("meta",{content:e,property:"og:image"},"og:image"),(0,s.jsx)("meta",{content:"Gamma",property:"twitter:title"},"twitter:title"),(0,s.jsx)("meta",{content:t,property:"twitter:description"},"twitter:description"),(0,s.jsx)("meta",{content:e,property:"twitter:image"},"twitter:image"),(0,s.jsx)("meta",{property:"og:type",content:"website"},"og:type"),(0,s.jsx)("meta",{content:"summary_large_image",name:"twitter:card"},"twitter:card"),(0,s.jsx)("meta",{name:"google",content:"notranslate"}),(0,s.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900",rel:"stylesheet"}),(0,s.jsx)("link",{rel:"stylesheet",href:"https://use.typekit.net/tiw2cwq.css"}),!(0,eE.rA)()&&!(0,eC.NF)()&&(0,s.jsx)("script",{async:!0,src:"https://cdn.optimizely.com/js/20579410255.js"}),(0,s.jsx)("script",{src:"//cdn.iframe.ly/embed.js",async:!0,charSet:"utf-8"})]})}},98026:()=>{}}]);
//# sourceMappingURL=6773-f4d384cbc3eb5a05.js.map