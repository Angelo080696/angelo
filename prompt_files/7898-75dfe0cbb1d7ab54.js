(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7898],{98:()=>{},1433:()=>{},6252:(e,n,i)=>{"use strict";i.d(n,{r:()=>j});var l=i(6029),t=i(99804),r=i(95669),s=i.n(r),d=i(91938),a=i(73110),o=i(29608);let c="".concat("01919ef7-fdd5-72aa-8b3e-9a438906692f").concat("production"===d.$.APPLICATION_ENVIRONMENT?"":"-test"),u="https://cdn.cookielaw.org/consent/".concat(c,"/OtAutoBlock.js"),p="https://cdn.cookielaw.org/consent/".concat(c,"/otSDKStub.js"),g=()=>{let e=(0,a.O)(),n=!(0,o.rA)();return((0,t.w)(()=>{try{if(n){var i;null==(i=window.OneTrust)||i.changeLanguage(e)}}catch(e){}},[n,e]),n)?(0,l.jsxs)(s(),{children:[(0,l.jsx)("script",{id:"ot-autoblock",src:u}),(0,l.jsx)("script",{id:"ot-script",src:p,"data-domain-script":c}),(0,l.jsx)("script",{id:"ot-anon",dangerouslySetInnerHTML:{__html:"function OptanonWrapper() { }"}})]}):null};var h=i(11403),x=i(85732);let m=()=>{let e=!(0,o.rA)()&&!(0,x.NF)();return(0,h.En)()&&e?(0,l.jsx)("div",{dangerouslySetInnerHTML:{__html:'\x3c!-- Google Tag Manager (noscript) --\x3e\n<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TGJXRPT"\nheight="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>\n\x3c!-- End Google Tag Manager (noscript) --\x3e'}}):null},y=()=>{let e=!(0,o.rA)()&&!(0,x.NF)();return(0,h.En)()&&e?(0,l.jsxs)(s(),{children:[(0,l.jsx)("script",{dangerouslySetInnerHTML:{__html:"\nwindow.dataLayer = window.dataLayer || [];\nfunction gtag(){dataLayer.push(arguments);}\ngtag('js', new Date());\n\ngtag('config', 'AW-11368900852');\n"}}),(0,l.jsx)("script",{async:!0,src:"https://www.googletagmanager.com/gtag/js?id=AW-11368900852"}),(0,l.jsx)("script",{dangerouslySetInnerHTML:{__html:"\n(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n})(window,document,'script','dataLayer','GTM-TGJXRPT');\n"}})]}):null},v=()=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(y,{}),(0,l.jsx)(m,{})]});function j(e){let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return i=>(0,l.jsxs)(l.Fragment,{children:[n&&(0,l.jsx)(g,{}),(0,l.jsx)(v,{}),(0,l.jsx)(e,{...i})]})}},6308:(e,n,i)=>{"use strict";i.d(n,{Z:()=>p});var l=i(6029),t=i(7243),r=i(70547),s=i(80910),d=i(55729),a=i(99767),o=i(73110),c=i(43984);let u=(e,n)=>{e.globalToast||(e.globalToast=(0,c.J)({theme:n}))},p=e=>{let{children:n}=e,i=(0,o.O)(),c=a.zd[i],p=(null==c?void 0:c.rtl)===!0?"rtl":"ltr",g=(0,d.useMemo)(()=>(0,t.oY)(s.Ip,{direction:p,styles:{global:{".ProseMirror":{outline:"0 none"}}}}),[p]);return(0,d.useEffect)(()=>{u(window,g)},[]),(0,l.jsx)(r.s,{toastOptions:s.S1,theme:g,resetCSS:!0,children:n})}},8814:(e,n,i)=>{"use strict";i.d(n,{G:()=>d});var l=i(55729),t=i(91938),r=i(95889),s=i(52860);let d=()=>{let e=(0,l.useRef)(!1),n=(0,l.useRef)(new Map);(0,l.useEffect)(()=>{if("production"!==t.$.APPLICATION_ENVIRONMENT)return;let i=()=>{if(e.current)return;let i=n.current.get("total"),l=n.current.get("notTrusted");l/i>.5&&i>5&&(e.current=!0,s.z.track(r.ng.NOT_TRUSTED_EVENTS_DETECTED,{totalEvents:i,notTrustedEvents:l}))},l=e=>{e.isTrusted||n.current.set("notTrusted",(n.current.get("notTrusted")||0)+1),n.current.set("total",(n.current.get("total")||0)+1),i()};return document.addEventListener("paste",l,{capture:!0}),document.addEventListener("mousedown",l,{capture:!0}),document.addEventListener("keydown",l,{capture:!0}),()=>{document.removeEventListener("paste",l,{capture:!0}),document.removeEventListener("mousedown",l,{capture:!0}),document.removeEventListener("keydown",l,{capture:!0})}},[])}},11949:(e,n,i)=>{"use strict";i.d(n,{i:()=>M});var l=i(6029),t=i(49891),r=i(28144),s=i(66425),d=i(94283),a=i(82759),o=i(29328),c=i(3632),u=i(49377),p=i(85678),g=i(40313),h=i(55597),x=i(48621),m=i(80910),y=i(19564),v=i(82203),j=i.n(v),f=i(55729),b=i(32617),E=i(87827),w=i(34823),C=i(11390),_=i(18341),R=i(11403),I=i(86992);let S=e=>{let{feature:n,type:i}=e;return(0,l.jsx)(t.ck,{display:"flex",alignItems:"center",fontWeight:"medium",fontSize:"sm",children:(0,l.jsxs)(r.z,{alignItems:"center",spacing:2,justifyContent:"center",children:["feature"===i?(0,l.jsx)(s.az,{bg:"gradient.brand.bg",as:"span",display:"inline-block",sx:{width:4,height:4,maskImage:"url(".concat("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NDggNTEyIj48IS0tIUZvbnQgQXdlc29tZSBQcm8gNi42LjAgYnkgQGZvbnRhd2Vzb21lIC0gaHR0cHM6Ly9mb250YXdlc29tZS5jb20gTGljZW5zZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tL2xpY2Vuc2UgKENvbW1lcmNpYWwgTGljZW5zZSkgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI0NS44IDQ1LjlDMjQxLjkgMzcuNCAyMzMuNCAzMiAyMjQgMzJzLTE3LjkgNS40LTIxLjggMTMuOUwxNDIuNyAxNzQuNyAxMy45IDIzNC4yQzUuNCAyMzguMSAwIDI0Ni42IDAgMjU2czUuNCAxNy45IDEzLjkgMjEuOGwxMjguOCA1OS41IDU5LjUgMTI4LjhjMy45IDguNSAxMi40IDEzLjkgMjEuOCAxMy45czE3LjktNS40IDIxLjgtMTMuOWw1OS41LTEyOC44IDEyOC44LTU5LjVjOC41LTMuOSAxMy45LTEyLjQgMTMuOS0yMS44cy01LjQtMTcuOS0xMy45LTIxLjhMMzA1LjMgMTc0LjcgMjQ1LjggNDUuOXoiLz48L3N2Zz4=",")"),maskSize:"contain",maskRepeat:"no-repeat"}}):(0,l.jsx)(s.az,{color:"deepocean.800",children:(0,l.jsx)(x.g,{icon:h.e68})}),(0,l.jsxs)(s.az,{display:"inline-block",flex:1,children:[(0,l.jsx)(d.E,{as:"span",me:1,children:n.label}),n.infoTip&&(0,l.jsx)(m.qT,{label:n.infoTip,color:"gray.400"})]}),n.isBeta&&(0,l.jsx)(a.E,{colorScheme:"green",children:(0,l.jsx)(y.x6,{id:"YBt9YP"})})]})})},P=e=>{let{displayAsTwoLines:n}=e;return(0,l.jsxs)(o.B,{spacing:2,h:"80px",children:[(0,l.jsx)(s.az,{minH:"12",children:(0,l.jsxs)(o.B,{align:n?"flex-start":"flex-end",direction:n?"column":"row",children:[(0,l.jsx)(c.E,{height:"3em",width:"4.5em"}),(0,l.jsxs)(o.B,{direction:"row",children:[(0,l.jsx)(c.E,{height:".75em",width:"3em"}),(0,l.jsx)(c.E,{height:".75em",width:"3em"})]})]})}),(0,l.jsx)(c.E,{height:"1.5em",width:"10em"})]})},A=(0,f.memo)(e=>{let{isFree:n,selectedBillingCycleKey:i,productPrice:t,displayAsTwoLines:r}=e,s=(0,f.useMemo)(()=>(null==t?void 0:t.frequencyUnit)==="year"?(0,C.y7)(t):null,[t]);return(0,l.jsx)(d.E,{textAlign:r?"left":void 0,color:"gray.700",fontSize:"sm",children:n?(0,l.jsx)(y.x6,{id:"r0pThp"}):"monthly"===i?(0,l.jsx)(y.x6,{id:"aIkeAd"}):(null==s?void 0:s.discountedPrice)?(0,l.jsx)(y.x6,{id:"dl2uS6",values:{0:s.price,1:s.discountedPrice},components:{0:(0,l.jsx)(d.E,{as:"span",textDecoration:"line-through",me:1,color:"gray.400"})}}):(0,l.jsx)(y.x6,{id:"hRcVGy",values:{0:null==s?void 0:s.price}})})});A.displayName="BillingCycleDescription";let T=(0,f.memo)(e=>{let{isFree:n,productPrice:i,selectedBillingCycleKey:t,currencyOverride:r}=e,{isUserLoading:a}=(0,_.ur)(),c=100>(0,C.GP)(null==i?void 0:i.currency)||(0,C.VB)(null==i?void 0:i.currency);return(0,R.En)()&&!a&&(n||i)?(0,l.jsxs)(s.az,{children:[(0,l.jsx)(s.az,{minH:"12",children:(0,l.jsx)(o.B,{align:c?"flex-start":"center",direction:c?"column":"row",children:(0,l.jsx)(y.x6,{id:"dPKZZo",components:{0:(0,l.jsx)(d.E,{fontSize:"2.8rem",fontFamily:"heading",fontWeight:"semibold",lineHeight:"1",color:"deepocean.950"}),1:(0,l.jsx)(k,{isFree:n,productPrice:i,currencyOverride:r}),2:(0,l.jsx)(d.E,{variant:"brand",lineHeight:c?1:void 0,fontSize:"xs",pb:c?"1":void 0,color:"deepocean.950",fontWeight:"medium"})}})})}),(0,l.jsx)(A,{isFree:n,selectedBillingCycleKey:t,productPrice:i,displayAsTwoLines:c})]}):(0,l.jsx)(P,{displayAsTwoLines:c})});T.displayName="PriceAndBillingCycle";let k=(0,f.memo)(e=>{let{isFree:n,productPrice:i,currencyOverride:t}=e,{discountedPrice:r,price:s}=(0,C.vC)(i)||{};return n?(0,l.jsx)(l.Fragment,{children:(0,w.v)(0,{currency:t})}):r?(0,l.jsxs)(o.B,{direction:"row",alignItems:"center",children:[(0,l.jsx)(d.E,{color:"gray.400",fontSize:"2rem",textDecoration:"line-through",children:s}),(0,l.jsx)(d.E,{children:r})]}):(0,l.jsx)(l.Fragment,{children:s})});k.displayName="PricePerSeatPerMonth";let M=e=>{let{productKey:n,productPrice:i,isUpgrade:r=!0,isCurrentProduct:c,upgradeDisabled:h,onClick:x,isPublic:m,selectedBillingCycleKey:v,badgeLabel:f,isHighlighted:w,leftSideIsRounded:C,rightSideIsRounded:P,currencyOverride:A}=e,{user:k,isUserLoading:M}=(0,_.ur)(),N=(0,b.mt)(),O=(0,R.En)(),L="free"===n,z=!m&&(!x||L&&!c),D=(0,E.n)(I.Ok),{name:U,description:B,featureHeading:H,features:W,includesHeading:V,includes:F}=L?D.free:D[n];return(0,l.jsxs)(u.s,{scrollSnapAlign:"center",w:"auto",position:"relative",className:"product-details",direction:"column",...w?{bg:"white",mt:0,mb:-6,borderColor:"snowcap.100",borderWidth:"1px",borderStyle:"solid",boxShadow:"rgba(200, 220, 245, 0.6) 2px 2px 6px",zIndex:1}:{mt:6,bg:"rgba(235, 248, 255, 0.75)",backdropFilter:"blur(10px)",boxShadow:"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px inset"},borderStartRadius:C?"3xl":"none",borderEndRadius:P?"3xl":"none",minW:{base:"80vw",md:"unset"},flex:1,children:[(0,l.jsxs)(o.B,{px:{base:4,lg:8},pt:4,spacing:2,position:"relative",borderBottom:"1px solid var(--chakra-colors-titanium-100)",bg:"white",borderTopStartRadius:C?"3xl":"none",borderTopEndRadius:P?"3xl":"none",children:[(0,l.jsxs)(o.B,{alignItems:"flex-start",spacing:0,children:[f&&(0,l.jsx)(s.az,{w:"100%",textAlign:"end",children:(0,l.jsx)(a.E,{display:"inline-block",textTransform:"unset",px:2,size:"sm",letterSpacing:"unset",colorScheme:w?"bordeaux":"flamingo",variant:w?"solid":void 0,children:f})}),(0,l.jsx)(p.D,{variant:"brand",position:"relative",fontWeight:"600",letterSpacing:"none",size:"xl",color:"deepocean.950",lineHeight:"1",children:U})]}),(0,l.jsx)(d.E,{fontSize:"sm",position:"relative",lineHeight:"1.3em",minHeight:"2.6em",mb:5,children:B})]}),(0,l.jsxs)(o.B,{px:{base:4,lg:8},pt:{base:4,md:6},pb:{base:4,md:8},spacing:"5",children:[(0,l.jsx)(T,{productPrice:i,isFree:L,selectedBillingCycleKey:v,currencyOverride:A}),z?(0,l.jsx)(l.Fragment,{}):m?(0,l.jsx)(g.$,{variant:L?"plain":"special",colorScheme:L?"gray":"trueblue",size:"lg",width:"100%",as:j(),href:k&&!M?"/":"/signup",textShadow:"none",children:(0,l.jsx)(y.x6,{id:"c3b0B0"})}):c?(0,l.jsx)(g.$,{as:s.az,variant:"plain",size:"lg",colorScheme:"gray",textShadow:"none",bg:"gray.100",width:"100%",isDisabled:!0,visibility:z?"hidden":"visible",children:(0,l.jsx)(y.x6,{id:"wSfp0e"})}):(0,l.jsx)(g.$,{variant:w?"special":"plain",size:"lg",width:"100%",onClick:x,visibility:z?"hidden":"visible",isDisabled:h,textShadow:"none",children:r?(0,l.jsx)(y.x6,{id:"pDhZ5t",values:{name:U}}):(0,l.jsx)(y.x6,{id:"Yu4iKr",values:{name:U}})}),(0,l.jsxs)(o.B,{spacing:"2",pb:4,children:[(0,l.jsx)(d.E,{fontWeight:"bold",color:"deepocean.950",children:H}),(0,l.jsx)(t.B8,{spacing:"2",children:W.filter(e=>{let{flag:n}=e;return!n||O&&N[n]}).map((e,n)=>(0,l.jsx)(S,{feature:e,type:"feature"},n))}),(0,l.jsx)(d.E,{fontWeight:"bold",mt:4,color:"deepocean.950",children:V}),(0,l.jsx)(t.B8,{spacing:"2",children:null==F?void 0:F.map((e,n)=>(0,l.jsx)(S,{feature:e,type:"include"},n))})]})]})]})}},14322:(e,n,i)=>{"use strict";i.d(n,{AY:()=>s,GE:()=>a,ZV:()=>c,kp:()=>o,wb:()=>d});var l=i(77650),t=i(91938),r=i(88586);let s=()=>"".concat(t.$.API_HOST,"/billing/portal"),d=(e,n)=>"".concat(t.$.API_HOST,"/billing/checkout/").concat(e,"/?ids=").concat(n.join(",")),a=e=>{let{url:n,title:i,w:l,h:t}=e,r=void 0!==window.screenLeft?window.screenLeft:window.screenX,s=void 0!==window.screenTop?window.screenTop:window.screenY,d=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,a=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,o=Math.min(l,.8*d),c=Math.min(t,.8*a);return window.open(n,i,"\n    scrollbars=yes,\n    width=".concat(o,", \n    height=").concat(c,", \n    top=").concat((a-c)/2+s,", \n    left=").concat((d-o)/2+r,"\n    "))},o=e=>{var n,i,l,t;let s=null==e?void 0:e.find(e=>"pro"===e.key),d=null==s||null==(n=s.prices)?void 0:n.find(e=>e.frequencyUnit===r.Vd7.Month),a=null==s||null==(i=s.prices)?void 0:i.find(e=>e.frequencyUnit===r.Vd7.Year),o=null==e?void 0:e.find(e=>"plus"===e.key);return{proMonthlyProductPrice:d,proYearlyProductPrice:a,plusMonthlyProductPrice:null==o||null==(l=o.prices)?void 0:l.find(e=>e.frequencyUnit===r.Vd7.Month),plusYearlyProductPrice:null==o||null==(t=o.prices)?void 0:t.find(e=>e.frequencyUnit===r.Vd7.Year)}},c=e=>l.Ru.number(e,{style:"percent",maximumFractionDigits:0})},14473:(e,n,i)=>{"use strict";i.d(n,{zn:()=>m});var l=i(6029),t=i(17383),r=i(12122),s=i(66425),d=i(26028),a=i(90869),o=i(12525),c=i(49377),u=i(18833),p=i(86992);let g=(0,t.B)("div",{baseStyle:{w:"full",h:"full",rounded:"full",pos:"absolute",top:"0",right:"0",bottom:"0",left:"0"}}),h=(0,u.P)(g),x=e=>{let{getInputProps:n,getCheckboxProps:i,getLabelProps:t,state:o}=(0,r.z)(e);return(0,l.jsxs)(s.az,{as:"label",pos:"relative",...t(),children:[(0,l.jsx)("input",{...n()}),(0,l.jsx)(d.o,{...i(),cursor:"pointer",pos:"relative",zIndex:1,minH:"10",py:2,lineHeight:"1.2",fontSize:{base:"sm",md:"md"},px:"4",textAlign:"center",transition:"all 0.2s",minW:{base:"none",md:"10rem"},fontWeight:"medium",_checked:{fontWeight:"bold",color:"deepocean.950"},borderRadius:"full",_focus:{boxShadow:"var(--chakra-shadows-outline)",outline:"none"},children:e.children}),o.isChecked&&(0,l.jsx)(h,{pos:"absolute",bg:(0,a.dU)("trueblue.50","trueblue.900"),color:(0,a.dU)("trueblue.600","trueblue.200"),layoutId:"highlight",insetStart:0,insetEnd:0,top:0,bottom:0,borderRadius:"full",transition:{duration:.2}})]})},m=e=>{let{selectedBillingCycleKey:n,setSelectedBillingCycleKey:i,...t}=e,{getRadioProps:r,getRootProps:s}=(0,o.m)({defaultValue:n,onChange:e=>{i(e)}});return(0,l.jsx)(c.s,{pos:"relative",justifyContent:"center",alignItems:"center",children:(0,l.jsxs)(c.s,{display:"inline-flex",align:"center",bg:(0,a.dU)("white","gray.700"),rounded:"full",p:"2",boxShadow:"base",...s(t),children:[(0,l.jsx)(x,{...r({value:"monthly"}),children:(0,p._v)().monthly.name}),(0,l.jsx)(x,{...r({value:"yearly"}),children:(0,p._v)().yearly.name})]})})}},17859:(e,n,i)=>{"use strict";i.d(n,{D:()=>s});var l=i(29608),t=i(11403),r=i(85732);let s=()=>{let e=!(0,l.rA)()&&!(0,r.NF)();return(0,t.WM)(e,'\n!function(w,d,i,s){function l(){if(!d.getElementById(i)){var f=d.getElementsByTagName(s)[0],e=d.createElement(s);e.type="text/javascript",e.async=!0,e.src="https://canny.io/sdk.js",f.parentNode.insertBefore(e,f)}}if("function"!=typeof w.Canny){var c=function(){c.q.push(arguments)};c.q=[],w.Canny=c,"complete"===d.readyState?l():w.attachEvent?w.attachEvent("onload",l):w.addEventListener("load",l,!1)}}(window,document,"canny-jssdk","script");\n'),null}},19893:(e,n,i)=>{"use strict";i.d(n,{MW:()=>s,X5:()=>c,ZA:()=>r,_t:()=>a,de:()=>d,jg:()=>t,nl:()=>p,ot:()=>u,tq:()=>o});var l=i(14322);let t=(e,n)=>"".concat(null!=e?e:""," ").concat(n?"(".concat(n,")"):""),r=(e,n,i,l)=>{var t;return i?l:(null==e||null==(t=e.createdByUser)?void 0:t.id)===(null==n?void 0:n.id)},s=(e,n)=>e&&n&&r(e,n)?(0,l.AY)():null,d=e=>(null==e?void 0:e.nextBillingTime)||"",a=e=>!!(null==e?void 0:e.cancellationRequestedTime),o=e=>(null==e?void 0:e.createdTime)||"",c=e=>{var n;return!!(null==e||null==(n=e.products)?void 0:n.length)},u=e=>!!(null==e?void 0:e.expirationTime)&&new Date>new Date(null==e?void 0:e.expirationTime),p=e=>{if(!(null==e?void 0:e.createdByUser))return"";let{displayName:n,email:i}=e.createdByUser;return"".concat(n," (").concat(i,")")}},41215:(e,n,i)=>{"use strict";i.d(n,{Z:()=>s});var l=i(55729),t=i(73110),r=i(5061);let s=()=>{let e=(0,t.O)();(0,l.useEffect)(()=>{let n=(0,r.D8)(e);document.documentElement.setAttribute("lang",e),document.documentElement.setAttribute("dir",n?"rtl":"ltr")},[e])}},43728:(e,n,i)=>{"use strict";i.d(n,{FM:()=>p,Ts:()=>l.T});var l=i(50472),t=i(6029),r=i(91938),s=i(15342),d=i(29608),a=i(11403),o=i(85732),c=i(37377);let u="\n(function(){var w=window;var ic=w.Intercom;if(typeof ic===\"function\"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/".concat(r.$.INTERCOM_APP_ID,"';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(document.readyState==='complete'){l();}else if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();\n"),p=()=>{let e=!(0,d.rA)()&&!(0,o.NF)();(0,a.WM)(e,u);let n=(0,s.GV)(c.w8);return(0,a.En)()&&e?(0,t.jsx)("style",{children:"\n       #intercom-container > div {\n         display: ".concat(n?"block":"none"," !important;\n       }\n       div.intercom-app .intercom-borderless-frame,\n       div.intercom-app .intercom-messenger-frame  {\n         transform: translateY(calc(").concat(n?"0px":"100% + 20px",")) !important;\n       }\n     ")}):null}},54278:(e,n,i)=>{"use strict";i.d(n,{K:()=>eR});var l=i(6029),t=i(3393),r=i(55729),s=i(73287),d=i(86025),a=i(95578),o=i(69768),c=i(21088),u=i(42721),p=i(70006),g=i(71262),h=i(67039),x=i(33987),m=i(7959),y=i(86747),v=i(29328),j=i(94283),f=i(85678),b=i(49377),E=i(28144),w=i(8972),C=i(3632),_=i(66425),R=i(31922),I=i(53295),S=i(40313),P=i(38859),A=i(70205),T=i(43162),k=i(27368),M=i(88131),N=i(51684),O=i(99492),L=i(48621),z=i(19564),D=i(77650),U=i(26814),B=i(6252),H=i(62903),W=i(1079),V=i(99038),F=i(74003),Y=i(11390),G=i(16882),K=i(95889),q=i(84693),Z=i(19893),X=i(75287),Q=i(60522);let J=new(i(83747)).b;var $=i(38451),ee=i(57470),en=i(42955),ei=i(31445),el=i(9298),et=i(87827),er=i(85443),es=i(75570),ed=i(37028),ea=i(86992);let eo=()=>{let[e,n]=(0,r.useState)(!1),[i,d]=(0,r.useState)("not-started"),[a,o]=(0,r.useState)(null),[c,u]=(0,r.useState)(null),[p,g]=(0,r.useState)(new es.c),{refetch:h}=(0,er.u)(),{subscription:x,refetchSubscription:m}=(0,F.I)(),[y]=(0,s.iaq)(),{isOpen:v,onOpen:j,onClose:f}=(0,t.j)({id:"confirm-change-plan-modal"}),b=(0,$.d)(),E=(0,r.useCallback)(()=>n(e=>!e),[]),w=(0,r.useCallback)(()=>{p.reject(),n(!1),f()},[f,p]),C=(0,r.useCallback)(async()=>new Promise((e,n)=>{if(!m)return void n();let i=0,t=setInterval(()=>{i++,m().then(r=>{let{data:s}=r,d=(0,Y.N_)(null==s?void 0:s.subscription);(null==d?void 0:d.key)===a?(clearInterval(t),e()):i>25&&(clearInterval(t),b({title:(0,l.jsx)(z.x6,{id:"7O1OBC"}),status:"error",duration:null}),n())})},500)}),[a,m,b]),_=(0,r.useCallback)(async()=>{let e=null==x?void 0:x.id,i=null==c?void 0:c.id;if(e&&i){d("in-progress");try{await y({variables:{id:e,productPriceId:i}}),d("verifying");let l=(0,ed.u)(2e3);await C(),await (null==h?void 0:h()),d("complete"),await l,p.resolve(!0),f(),n(!1)}catch(e){console.error(e),b({title:(0,l.jsx)(z.x6,{id:"7O1OBC"}),status:"error",duration:null})}d("not-started")}},[null==x?void 0:x.id,null==c?void 0:c.id,y,C,h,p,f,b]);return{showChangePlanModal:(0,r.useCallback)(e=>{let{productKey:n,productPrice:i}=e,l=new es.c;return g(l),o(n),u(i),j(),l.promise},[j]),isOpen:v,isChecked:e,changePlanStatus:i,newProduct:a,newProductPrice:c,onClose:w,onConfirmClick:_,onCancelClick:w,onCheckboxConfirm:E}},ec=e=>{let{isOpen:n,isChecked:i,changePlanStatus:t,newProduct:d,newProductPrice:a,onClose:o,onConfirmClick:c,onCancelClick:u,onCheckboxConfirm:p}=e,{subscription:f}=(0,F.I)(),E=(0,r.useCallback)(()=>(0,Y.On)(f,a),[f,a]),{newTotalPrice:w,newPerSeatPrice:C,seatCount:R,proratedUpgradePrice:I,proratedDays:P}=(0,et.n)(E,[f]),A="pro"===d;if(!d||!n||!f||!A)return null;let T=(0,ea.Ok)()[d].name,k=(null==a?void 0:a.frequencyUnit)===s.Vd7.Month?"month":"year",M=A?(0,l.jsx)(z.x6,{id:"0OWovg",values:{newPerSeatPrice:C,frequencyDisplay:k,productDisplay:T,0:R&&R>1?(0,l.jsx)(j.E,{as:"span",fontStyle:"italic",children:" (".concat(w," per ").concat(k," for ").concat(R," users) ")}):" "},components:{0:(0,l.jsx)("strong",{}),1:(0,l.jsx)("br",{})}}):null;return(0,l.jsxs)(g.aF,{isOpen:n,onClose:o,trapFocus:!1,size:"xl",children:[(0,l.jsx)(h.m,{}),(0,l.jsxs)(x.$,{children:[(0,l.jsx)(ee.r,{children:(0,l.jsx)(z.x6,{id:"LfXR/E",values:{productDisplay:T}})}),(0,l.jsx)(m.s,{}),(0,l.jsx)(y.c,{children:["verifying","complete"].includes(t)?(0,l.jsx)(eu,{status:t}):(0,l.jsxs)(v.B,{spacing:4,children:[(0,l.jsx)(j.E,{as:"span",children:A?(0,l.jsx)(z.x6,{id:"fBpU1y",values:{proratedUpgradePrice:I,proratedDays:P}}):(0,l.jsx)(z.x6,{id:"/Ka6eY",values:{productDisplay:T}})}),(0,l.jsxs)(b.s,{gap:3,alignItems:"start",children:[(0,l.jsx)(en.S,{mt:1,isChecked:i,onChange:p}),(0,l.jsx)(j.E,{cursor:"pointer",onClick:p,children:M})]}),(0,l.jsx)(_.az,{fontSize:"sm",bgColor:"gray.200",p:4,borderRadius:"md",children:(0,l.jsx)(j.E,{children:(0,l.jsx)(z.x6,{id:"qm/kgC"})})})]})}),["not-started","in-progress"].includes(t)&&(0,l.jsx)(ei.j,{children:(0,l.jsxs)(el.e,{children:[(0,l.jsx)(S.$,{variant:"ghost",colorScheme:"gray",onClick:u,children:(0,l.jsx)(z.x6,{id:"dEgA5A"})}),(0,l.jsx)(S.$,{variant:"solid",onClick:c,isLoading:"in-progress"===t,isDisabled:!i,children:(0,l.jsx)(z.x6,{id:"LfXR/E",values:{productDisplay:T}})})]})})]})]})},eu=e=>{let{status:n}=e;return"in-progress"===n?(0,l.jsxs)(R.T,{py:12,spacing:4,children:[(0,l.jsx)(I.y,{size:"lg"}),(0,l.jsx)(f.D,{size:"md",children:(0,l.jsx)(z.x6,{id:"it0Uj0"})}),(0,l.jsx)(j.E,{children:(0,l.jsx)(z.x6,{id:"+ofCyi"})})]}):"verifying"===n?(0,l.jsxs)(R.T,{py:8,spacing:10,children:[(0,l.jsx)(_.az,{color:"green.500",children:(0,l.jsx)(L.g,{icon:N.QRE,size:"4x"})}),(0,l.jsx)(f.D,{size:"md",children:(0,l.jsx)(z.x6,{id:"3TqbhV"})})]}):null};var ep=i(14473),eg=i(11949),eh=i(88114),ex=i(14322);let em=()=>(0,l.jsxs)(l.Fragment,{children:[" ",(0,l.jsx)("span",{role:"img","aria-label":D.Ru._({id:"y1ypMV"}),children:"⭐️"})," ",(0,l.jsx)(z.x6,{id:"y1ypMV"})]}),ey=e=>{let{currentProduct:n}=e,i="pro"===n?null:"plus"===n?(0,l.jsx)(z.x6,{id:"A+zoTy"}):(0,l.jsx)(em,{}),t="pro"===n?(0,l.jsx)(z.x6,{id:"A+zoTy"}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{role:"img","aria-label":D.Ru._({id:"MMfapV"}),children:"\uD83D\uDCAA"})," ",(0,l.jsx)(z.x6,{id:"MMfapV"})]});return{plusLabel:i,plusIsHighlighted:"pro"!==n&&"plus"!==n,proLabel:t,proIsHighlighted:"plus"===n||"pro"===n}},ev=(e,n)=>e&&e*(null!=n?n:1),ej=e=>{let{insufficientCreditsWarning:n,isUpsellModalOpen:i,closeUpsellModal:t}=e,s=(0,q.f)(),d=(0,K.st)(),o=(0,a.u)("upsellUXEnabled_Plus"),c=(0,a.u)("defaultAnnualBilling"),p=(0,X.l)(),C=(0,a.u)("monthlyBillingEnabled"),_=(0,a.u)("plus-credits"),R=(0,u.CX)(),{subscription:I,product:S}=(0,F.I)(),{user:P,refetch:A}=(0,u.ur)(),{frequency:T}=(0,Y.$Z)(I),k=(0,a.u)("changePlanModal"),[M,N]=(0,r.useState)(c?"yearly":"monthly");(0,r.useEffect)(()=>{T&&N("month"===T?"monthly":"yearly")},[T]);let[O,L]=(0,r.useState)(!1),D=(0,r.useRef)(!1),B=(0,r.useRef)(!1),W=(0,Y.A4)(s),$=null==s?void 0:s.id,{selectedProductPrices:ee,annualProDiscountPercentage:en,hasSpecialAnnualDiscount:ei,checkoutUrls:el,productPricesPlus:et,productPricesPro:er}=(0,eh.K)({workspaceId:$,canManageWorkspace:R,selectedBillingCycleKey:M}),es=o||"plus"===S,ed=R&&el,ea=S&&el&&(0,Z.ZA)(I,P,k,R),eu=!ed&&!ea,{credits:em}=(0,U.B9)(),ej=(0,Y.ZJ)(I),eC=!S&&C,e_=!R;(0,r.useEffect)(()=>{if(S||!O)return;let e=setInterval(()=>{null==A||A()},1e3);return null==A||A(),()=>{clearInterval(e)}},[O,S,A]),(0,r.useEffect)(()=>{i||(L(!1),N(c?"yearly":"monthly"))},[d,c,i]),(0,r.useEffect)(()=>{var e,n,l,t;!D.current&&!S&&R&&i&&(null==ee?void 0:ee.pro)&&(null==ee?void 0:ee.plus)&&(D.current=!0,null==d||d.track(K.VV.GAMMA_PRO_UPSELL_PRODUCTS_VIEWED,{price:null==(e=ee.pro)?void 0:e.price,price_plus:null==ee||null==(n=ee.plus)?void 0:n.price,productPricesPlus:et,productPricesPro:er,currentProduct:W,products:["pro","plus"],currency:null==(l=ee.pro)?void 0:l.currency,frequency:null==(t=ee.pro)?void 0:t.frequencyUnit,plus_credits:_,default_annual:c}))},[i,S,W,R,d,ee,_,et,er,c]);let eR=(0,r.useCallback)(e=>{var n,i,l,t;N(e),null==d||d.track(K.VV.GAMMA_PRO_BILLING_CYCLE_CLICK,{price:null==ee||null==(n=ee.pro)?void 0:n.price,price_plus:null==ee||null==(i=ee.plus)?void 0:i.price,products:["pro","plus"],currency:null==ee||null==(l=ee.pro)?void 0:l.currency,frequency:null==ee||null==(t=ee.pro)?void 0:t.frequencyUnit,billingCycle:e,productPricesPlus:et,productPricesPro:er})},[d,ee,et,er]),{showChangePlanModal:eI,...eS}=eo(),eP=(0,r.useCallback)(e=>()=>{let n="plus"===e?null==ee?void 0:ee.plus:null==ee?void 0:ee.pro;if(S){if(!n||"free"===e)return;"pro"===e&&k?eI({productKey:e,productPrice:n}).then(t).catch(e=>{console.error("Error changing plan",e)}):window.open((0,ex.AY)(),"_blank");return}if(!el)return;let i=el[e],l=ev(null==n?void 0:n.price,null==s?void 0:s.memberCount),r={price:null==n?void 0:n.price,productPriceId:null==n?void 0:n.id,product:e,currency:null==n?void 0:n.currency,frequency:null==n?void 0:n.frequencyUnit,plus_credits:_,productPricesPlus:et,productPricesPro:er,workspaceId:$,totalPrice:l};null==d||d.track(K.VV.CHECKOUT_STARTED,r),(0,G.Zv)(r);let a=(0,ex.GE)({url:i,title:"Gamma",w:1200,h:1e3});window.addEventListener("message",i=>{if(i.data.type===Q.g){if(B.current)return;L(!0),setTimeout(()=>{null==a||a.close()},100);let i={price:null==n?void 0:n.price,productPriceId:null==n?void 0:n.id,product:e,currency:null==n?void 0:n.currency,frequency:null==n?void 0:n.frequencyUnit,plus_credits:_,workspaceId:$,totalPrice:l};if(!(null==B?void 0:B.current)){null==d||d.track(K.VV.PURCHASE_COMPLETE,i);let e={...i};(null==n?void 0:n.price)&&(e.price=n.price/(0,Y.GP)(n.currency),l&&(e.value=l/(0,Y.GP)(n.currency))),(0,H.MX)(e),(0,G.Ue)(i),B.current=!0}}},!1)},[null==ee?void 0:ee.plus,null==ee?void 0:ee.pro,S,el,$,d,_,et,er,k,eI,t,null==s?void 0:s.memberCount]);(0,r.useEffect)(()=>J.on("openUpgradeToProModal",eP("pro")),[eP]);let{plusLabel:eA,plusIsHighlighted:eT,proLabel:ek,proIsHighlighted:eM}=p?ey({currentProduct:W}):{plusLabel:null,plusIsHighlighted:!1,proLabel:null,proIsHighlighted:!1};return(0,l.jsxs)(g.aF,{isOpen:i,trapFocus:!1,size:O||n?"3xl":"5xl",onClose:t,closeOnEsc:!O,closeOnOverlayClick:!O,children:[(0,l.jsx)(h.m,{}),(0,l.jsxs)(x.$,{m:{base:"0",lg:"4"},bg:"gray.100",borderRadius:"xl","data-id":"upsell-modal",children:[(0,l.jsx)(m.s,{}),ee?O?(0,l.jsx)(eb,{isVerifying:!S,product:W,onClick:t}):(0,l.jsx)(y.c,{p:{base:"4",lg:"6"},children:(0,l.jsxs)(v.B,{spacing:4,children:[(0,l.jsxs)(v.B,{flex:1,gap:1.5,children:[n&&(0,l.jsx)(j.E,{color:"red.600",fontSize:{base:"lg",lg:"xl"},fontWeight:"600",textAlign:"center",children:(0,l.jsx)(z.x6,{id:"72xmIi"})}),(0,l.jsx)(f.D,{variant:"fancy",textAlign:"center",fontSize:"4xl",children:n?(0,l.jsx)(z.x6,{id:"q32zjK",values:{PRO_PROPER_NOUN:V.Kc}}):(0,l.jsx)(z.x6,{id:"k51VUg",values:{GAMMA_PROPER_NOUN:V.On}})}),(0,l.jsx)(j.E,{fontSize:{base:"md",lg:"lg"},textAlign:"center",color:"gray.700",children:n&&(0,l.jsx)(z.x6,{id:"0UIIIw",values:{credits:em}})})]}),e_&&(0,l.jsx)(eE,{}),eC&&(0,l.jsx)(ep.zn,{selectedBillingCycleKey:M,setSelectedBillingCycleKey:eR}),(0,l.jsxs)(v.B,{w:"100%",bgColor:"green.100",p:2,textAlign:"center",align:"center",justify:"center",gap:0,children:[ei&&(0,l.jsxs)(j.E,{color:"text.success",fontWeight:"bold",children:[(0,l.jsx)("span",{role:"img","aria-label":"books",children:"\uD83D\uDCDA"})," ",(0,l.jsx)(z.x6,{id:"qagJ77"})," ",(0,l.jsx)("span",{role:"img","aria-label":"books",children:"\uD83D\uDCDA"})]}),(0,l.jsxs)(j.E,{color:"text.success",fontWeight:ei?"medium":"bold",children:[(0,l.jsx)(z.x6,{id:"u5lEQO",values:{0:(0,ex.ZV)(Math.floor(100*en)/100)}})," ",(0,l.jsx)("span",{role:"img","aria-label":"sparkle",children:"✨"})]})]}),(0,l.jsx)(b.s,{pt:4,pb:8,px:8,mx:-5,overflow:{base:"auto",md:"hidden"},sx:{"scroll-snap-type":"x mandatory"},children:(0,l.jsxs)(E.z,{flex:1,h:"100%",align:"stretch",spacing:0,scrollSnapType:"x mandatory",pb:"6",children:[es&&(0,l.jsx)(eg.i,{productKey:"plus",productPrice:"plus"===S?ej:ee.plus,isUpgrade:!S,isCurrentProduct:"plus"===S,upgradeDisabled:eu||"plus"===S,onClick:eP("plus"),selectedBillingCycleKey:M,badgeLabel:eA,isHighlighted:eT,leftSideIsRounded:!0,rightSideIsRounded:!!eT}),(0,l.jsx)(eg.i,{productKey:"pro",productPrice:"pro"===S?ej:ee.pro,isCurrentProduct:"pro"===S,isUpgrade:S?"pro"!==S:void 0,upgradeDisabled:eu||"pro"===S,onClick:eP("pro"),selectedBillingCycleKey:M,badgeLabel:ek,isHighlighted:eM,rightSideIsRounded:!0,leftSideIsRounded:!!eM})]})}),(0,l.jsx)(ew,{})]})}):(0,l.jsx)(ef,{}),(0,l.jsx)(w.Z,{children:(0,l.jsx)(ec,{...eS})})]})]})},ef=()=>(0,l.jsxs)(y.c,{children:[(0,l.jsxs)(v.B,{w:"100%",px:10,pt:10,children:[(0,l.jsx)(C.E,{height:"60px"}),(0,l.jsx)(C.E,{height:"30px"})]}),(0,l.jsxs)(b.s,{mt:"8",rounded:"xl",px:10,gap:"8",children:[(0,l.jsxs)(v.B,{w:"100%",spacing:4,children:[(0,l.jsx)(C.E,{height:"300px"}),(0,l.jsx)(C.E,{height:"20px"}),(0,l.jsx)(C.E,{height:"20px"}),(0,l.jsx)(C.E,{height:"20px"}),(0,l.jsx)(C.E,{height:"20px"}),(0,l.jsx)(C.E,{height:"20px"}),(0,l.jsx)(C.E,{height:"20px"})]}),(0,l.jsx)(_.az,{w:{base:"unset",lg:"1px"},minH:"0",h:{base:"1px",lg:"unset"},bg:"gray.100"}),(0,l.jsxs)(v.B,{w:"100%",spacing:4,children:[(0,l.jsx)(C.E,{height:"300px"}),(0,l.jsx)(C.E,{height:"20px"}),(0,l.jsx)(C.E,{height:"20px"}),(0,l.jsx)(C.E,{height:"20px"}),(0,l.jsx)(C.E,{height:"20px"}),(0,l.jsx)(C.E,{height:"20px"}),(0,l.jsx)(C.E,{height:"20px"})]})]})]}),eb=(0,B.r)(e=>{let{isVerifying:n=!1,product:i,onClick:t}=e,r=i?(0,ea.Ok)()[i].name:"";return(0,l.jsx)(y.c,{children:n?(0,l.jsxs)(R.T,{py:12,spacing:4,children:[(0,l.jsx)(I.y,{size:"lg"}),(0,l.jsx)(f.D,{variant:"brand",letterSpacing:"tight",size:"lg",fontWeight:"semibold",children:(0,l.jsx)(z.x6,{id:"kzd5yt"})}),(0,l.jsx)(j.E,{children:(0,l.jsx)(z.x6,{id:"Nwo9pM"})})]}):(0,l.jsxs)(R.T,{py:8,spacing:10,children:[(0,l.jsx)(_.az,{color:"green.500",children:(0,l.jsx)(L.g,{icon:N.QRE,size:"4x"})}),(0,l.jsx)(f.D,{variant:"brand",letterSpacing:"tight",size:"lg",fontWeight:"semibold",children:(0,l.jsx)(z.x6,{id:"7Xmwpp"})}),(0,l.jsx)(S.$,{size:"lg",variant:"solid",onClick:t,children:(0,l.jsx)(z.x6,{id:"SGsdhu",values:{GAMMA_PROPER_NOUN:V.On,productName:r}})})]})})},!1),eE=()=>(0,l.jsxs)(P.F,{status:"warning",children:[(0,l.jsx)(A._,{}),(0,l.jsxs)(v.B,{spacing:"0.5",children:[(0,l.jsx)(T.X,{fontSize:"lg",children:(0,l.jsx)(z.x6,{id:"4Y1tbj"})}),(0,l.jsx)(k.T,{children:(0,l.jsx)(z.x6,{id:"B18q9c"})})]})]}),ew=()=>(0,l.jsxs)(v.B,{spacing:"4",children:[(0,l.jsxs)(j.E,{fontSize:"sm",color:"gray.600",textAlign:"center",children:[(0,l.jsx)(z.x6,{id:"ZdTirz",components:{0:(0,l.jsx)(L.g,{icon:O.DW4,fixedWidth:!0})}})," ","\xb7"," ",(0,l.jsx)(z.x6,{id:"u5BmMM",components:{0:(0,l.jsx)(L.g,{icon:O.gSF,fixedWidth:!0})}})," ","\xb7"," ",(0,l.jsx)(z.x6,{id:"21GX3a",components:{0:(0,l.jsx)(L.g,{icon:O.qcK,fixedWidth:!0})}})]}),(0,l.jsx)(j.E,{fontSize:"sm",color:"gray.600",textAlign:"center",children:(0,l.jsx)(z.x6,{id:"XdzNIh",components:{0:(0,l.jsx)(M.N,{href:W.C.UPGRADE_TO_PAID,isExternal:!0,textDecoration:"underline",color:"gray.800",textAlign:"center"})}})})]});var eC=i(84287);let e_="get-gamma-pro",eR=e=>{var n,i;let{children:g}=e,{currentWorkspace:h,isUserLoading:x}=(0,u.ur)(),[m,y]=(0,r.useState)(!1),v=(0,c.st)(),j=(0,a.u)("upsellUXEnabled_Pro"),{data:f,refetch:b}=(0,s.wJf)({variables:{workspaceId:null==h?void 0:h.id,includeExpired:!0},skip:!(null==h?void 0:h.id)}),E=null==f?void 0:f.subscription;(0,d.yf)({subscription:E,workspace:h,autoLaunch:!0});let{data:w}=(0,s.sdf)({variables:{workspaceId:null==h?void 0:h.id},skip:!h}),C=null==w||null==(n=w.products)?void 0:n.find(e=>"pro"===e.key),_=null==C||null==(i=C.prices)?void 0:i.find(e=>e.frequencyUnit===s.Vd7.Year),R=(0,Y.A4)(h),{isOpen:I,onOpen:S,onClose:P}=(0,t.j)({id:"upsell-modal"}),A=(0,r.useRef)(null),T=(0,r.useCallback)(e=>{let{onOpenCallback:n,onCloseCallback:i,insufficientCreditsWarning:l,segmentEvent:t,eventProperties:r}=e;j&&(y(!!l),null==n||n(),S(),null==v||v.track(t,r),A.current=i||null)},[v,S,j]),k=(0,r.useCallback)(()=>{var e;null==A||null==(e=A.current)||e.call(A),P(),A.current=null,y(!1)},[P]),[M,N]=(0,r.useState)({openUpsellModal:T,product:R,subscription:E,proYearlyProductPrice:_});return(0,r.useEffect)(()=>{"true"===(0,p.sF)()[e_]&&!x&&h&&(S(),(0,o.g5)({query:{...(0,p.sF)(),[e_]:void 0},emitChange:!1}))},[S,h,x]),(0,r.useEffect)(()=>{N({openUpsellModal:T,refetchSubscription:b,product:R,subscription:E,proYearlyProductPrice:_})},[T,R,E,_,b]),(0,l.jsxs)(eC.H.Provider,{value:M,children:[g,I&&(0,l.jsx)(ej,{insufficientCreditsWarning:m,isUpsellModalOpen:I,closeUpsellModal:k}),(0,l.jsx)(d.XE,{})]})}},84693:(e,n,i)=>{"use strict";i.d(n,{f:()=>r});var l=i(88586),t=i(18341);let r=e=>{var n;let{currentWorkspace:i}=(0,t.ur)(),{data:r}=(0,l.Vl$)({variables:{id:null!=(n=null!=e?e:null==i?void 0:i.id)?n:""},skip:!e&&!(null==i?void 0:i.id)});return e?null==r?void 0:r.workspace:{...i,...null==r?void 0:r.workspace}}},86025:(e,n,i)=>{"use strict";i.d(n,{XE:()=>b,zE:()=>C,yf:()=>E});var l=i(55729),t=i(91938),r=i(8205),s=i(95578),d=i(73110),a=i(49337),o=i(11390),c=i(95889),u=i(18341),p=i(29608),g=i(64076),h=i(85732),x=i(77650),m=i(21157),y=i.n(m),v=i(99038);let j=(e,n)=>{let i=y()(n);return{[e]:{next:x.Ru._({id:"hXzOVo"}),back:x.Ru._({id:"iH8pgl"}),nevermind:x.Ru._({id:"CKyk7Q"}),goToAccount:x.Ru._({id:"C9yTHG",values:{GAMMA_PROPER_NOUN:v.On}}),getHelp:x.Ru._({id:"pWsyuL"}),declineOffer:x.Ru._({id:"aIFikE"}),confirmAndCancel:x.Ru._({id:"G9nPRC"}),pauseSubscription:x.Ru._({id:"2RgEmU"}),cancelSubscription:x.Ru._({id:"dEgA5A"}),discountSubscription:x.Ru._({id:"qG4Wa/"}),claimOffer:x.Ru._({id:"/Gl/RK"}),discountOff:x.Ru._({id:"Bdtwnw"}),discountFor:x.Ru._({id:"sQv06Y"}),discountForever:x.Ru._({id:"FsOOWf"}),discountOneTime:x.Ru._({id:"HpXCa4"}),day:x.Ru._({id:"5YWExy"}),month:x.Ru._({id:"obrMay"}),year:x.Ru._({id:"/Tw548"}),error:x.Ru._({id:"wTrpxV"}),genericErrorDescription:x.Ru._({id:"PUjJ3A"}),cancelNow:x.Ru._({id:"EiakwV"}),applyingDiscount:x.Ru._({id:"8kSYjw"}),applyingCancel:x.Ru._({id:"VpuvNv"}),applyingResume:x.Ru._({id:"eIoGiX"}),applyingPause:x.Ru._({id:"UD7gOq"}),discountApplied:x.Ru._({id:"jdYyiz"}),discountAppliedMessage:x.Ru._({id:"DhHX6G"}),pauseApplied:x.Ru._({id:"eeITvj"}),pauseAppliedMessage:x.Ru._({id:"nm0VaE"}),pauseAppliedResumeMessage:x.Ru._({id:"qOe0SS"}),pauseScheduledMessage:x.Ru._({id:"mqRc6d"}),until:x.Ru._({id:"C51N+0"}),cancelApplied:x.Ru._({id:"Wcg6zu"}),cancelAppliedMessage:x.Ru._({id:"8vN97Y"}),cancelAppliedDateMessage:x.Ru._({id:"BS/SGu"}),howLongToPausePrompt:x.Ru._({id:"HLyJ9n"}),whatCouldWeHaveDone:x.Ru._({id:"fcbm8H"}),weReadEveryAnswer:x.Ru._({id:"nkuKRd"}),applyingCustomerAction:x.Ru._({id:"PXwF+s"}),loading:x.Ru._({id:"Z3FXyt"}),pauseWallCardPunch:x.Ru._({id:"iL2TQ6"}),pauseWallCta:x.Ru._({id:"TvXj47"}),pauseWallCardHeading:x.Ru._({id:"kHm8Fg"}),scheduledToReactivate:x.Ru._({id:"aH7vi8"}),resumeApplied:x.Ru._({id:"diOgYK"}),resumeAppliedMessage:x.Ru._({id:"YqFvUY"}),resumeNextChargeMessage:x.Ru._({id:"YJHkcd"}),resumeNextChargeMessageWithoutAmount:x.Ru._({id:"RrvVAn"}),resumeAccountDataInfo:x.Ru._({id:"dJCJXA"}),subscriptionPauseNotice:x.Ru._({id:"fpxliT"}),failedPaymentNotice:x.Ru._({id:"Vxg5vO"}),chargedMultipleTimeNotice:x.Ru._({id:"lAlv46"}),failedPaymentCardPunch:x.Ru._({id:"KEZrHg",values:{GAMMA_PROPER_NOUN:v.On,productName:i}}),resumeHey:x.Ru._({id:"hdOctW"}),invoicePaidTitle:x.Ru._({id:"aJGfDL"}),logout:x.Ru._({id:"W+3RJN"}),note:x.Ru._({id:"ycCSuD"}),discount:x.Ru._({id:"HmpVeZ"}),discountNoticeHeadline:x.Ru._({id:"5P1dmt"}),discountNoticePrepend:x.Ru._({id:"yjadEY"}),discountOverride:x.Ru._({id:"JfBDWL"}),discountValidUntil:x.Ru._({id:"uXxNua"}),updateBilling:x.Ru._({id:"tQilrI"}),extendTrialCTA:x.Ru._({id:"aaued9"}),extendTrialPunch:x.Ru._({id:"tvkJWl"}),extendTrialOfferTitle:x.Ru._({id:"SyzXYh"}),trialExtended:x.Ru._({id:"fezME2"}),trialExtendedMessage:x.Ru._({id:"QE4mUs"}),applyingTrialExtension:x.Ru._({id:"vI2q9R"}),switchPlanCTA:x.Ru._({id:"P2mx2L"}),changePlanHighlights:x.Ru._({id:"qbgW+C"}),changePlanOfferPunch:x.Ru._({id:"MRkiFP"}),planChanged:x.Ru._({id:"ByFtyh"}),planChangedMessage:x.Ru._({id:"Pf5z1G"}),applyingPlanChange:x.Ru._({id:"9vKKLI"}),surveyStepTag:x.Ru._({id:"cSUBI1"}),freeFormStepTag:x.Ru._({id:"cSUBI1"}),finalConfirmation:x.Ru._({id:"1/oP/N"}),offerDiscountTag:x.Ru._({id:"LTgtxG"}),offerChangePlanTag:x.Ru._({id:"ENMJv2"}),offerExtendTrialTag:x.Ru._({id:"MWKntz"}),offerRedirectTag:x.Ru._({id:"cvpAvL"}),offerContactTag:x.Ru._({id:"cvpAvL"}),offerPauseTag:x.Ru._({id:"+T6DGl"}),completeTag:x.Ru._({id:"K5c1e7"}),errorTag:x.Ru._({id:"EuvbIW"}),offerAccepted:x.Ru._({id:"ZU0opP"})}}},f="\n!function(){  \n    if (!window.churnkey || !window.churnkey.created) {\n      window.churnkey = { created: true };\n      const a = document.createElement('script');\n      a.src = 'https://assets.churnkey.co/js/app.js?appId=".concat(t.$.CHURNKEY_APP_ID,"';\n      a.async = true;\n      const b = document.getElementsByTagName('script')[0];\n      b.parentNode.insertBefore(a, b);\n    }\n  }();\n"),b=()=>{let e=!(0,p.rA)()&&!(0,h.NF)();return(0,g.W)(e,f),null},E=e=>{var n;let{subscription:i,workspace:c,autoLaunch:p=!0}=e,{user:g}=(0,u.ur)(),h=(0,s.u)("churnkeyFailedPaymentWallEnabled"),x=(0,d.O)(),m=(0,o.A4)(c),y=(0,a.k)(),v=h&&(null==g?void 0:g.id)===(null==i||null==(n=i.createdByUser)?void 0:n.id),j=(0,l.useCallback)(async()=>{if(i&&m&&v)return(0,r.yg)("churnkey").then(e=>{var n,l;if(!e||!i.billingSubscriptionId||!(null==(n=i.createdByUser)?void 0:n.billingCustomerId))return void console.error("[Churnkey] launchFailedPayment Missing hmac or subscription data",{hmac:e,subscription:i});console.debug("[Churnkey] launchFailedPayment - launching churnkey with:",{hmac:e,appId:t.$.CHURNKEY_APP_ID,subscriptionId:i.billingSubscriptionId,customerId:null==(l=i.createdByUser)?void 0:l.billingCustomerId}),w({authHash:e,subscription:i,localeKey:x,productKey:m,launchIntercomUI:y})})},[i,m,v,x,y]);return(0,l.useEffect)(()=>{p&&j()},[j,p]),{launchFailedPaymentFlow:j,failedPaymentFlowEnabled:v}},w=async e=>{var n,i;let{authHash:l,subscription:r,localeKey:s,productKey:d,launchIntercomUI:a}=e;null==(i=window.churnkey)||i.check("failed-payment",{subscriptionId:r.billingSubscriptionId,customerId:null==(n=r.createdByUser)?void 0:n.billingCustomerId,authHash:l,customerAttributes:{language:s},i18n:{lang:s,messages:j(s,d)},appId:t.$.CHURNKEY_APP_ID,mode:t.$.CHURNKEY_MODE,provider:"stripe",softWall:!0,forceCheck:!1,gracePeriodDays:3,ignoreInvoicesWithoutAttempt:!1,handleSupportRequest(){var e;a(),c.zS.track(c.VV.CHURNKEY_HANDLE_SUPPORT_CLICK,{source:"failed-payment-wall",subscriptionId:r.billingSubscriptionId,customerId:null==(e=r.createdByUser)?void 0:e.billingCustomerId})},async handleCancel(e){var n,i;return c.zS.track(c.VV.CANCEL_SUBSCRIPTION_CLICK,{source:"failed-payment-wall",subscriptionId:r.billingSubscriptionId,customerId:null==(n=r.createdByUser)?void 0:n.billingCustomerId}),console.debug("[launchChurnkeyFailedPayment.handleCancel]",{subscriptionId:r.billingSubscriptionId,customerId:null==(i=r.createdByUser)?void 0:i.billingCustomerId,customer:e}),_({authHash:l,subscription:r,localeKey:s,productKey:d,launchIntercomUI:a,customerAttributes:{viaFailedPayment:!0}}).catch(e=>w({authHash:l,subscription:r,localeKey:s,productKey:d,launchIntercomUI:a}))},onFailedPaymentWallActivated(){var e;c.zS.track(c.VV.CHURNKEY_FAILED_PAYMENT_WALL_SHOWN,{subscriptionId:r.billingSubscriptionId,customerId:null==(e=r.createdByUser)?void 0:e.billingCustomerId})},onUpdatePaymentInformation(){var e;c.zS.track(c.VV.CHURNKEY_PAYMENT_METHOD_UPDATED,{source:"failed-payment-wall",subscriptionId:r.billingSubscriptionId,customerId:null==(e=r.createdByUser)?void 0:e.billingCustomerId})},onFailedPaymentWallClose(){var e;c.zS.track(c.VV.CHURNKEY_FAILED_PAYMENT_WALL_CLOSED,{subscriptionId:r.billingSubscriptionId,customerId:null==(e=r.createdByUser)?void 0:e.billingCustomerId})},onCancel(){var e;c.zS.track(c.VV.CHURNKEY_CANCEL_SUBSCRIPTION_COMPLETE,{source:"failed-payment-wall",subscriptionId:r.billingSubscriptionId,customerId:null==(e=r.createdByUser)?void 0:e.billingCustomerId})},onError(e,n){console.warn('Churnkey check("failed-payment", ...) error',e,n)}})},C=(e,n)=>{let i=(0,s.u)("churnkeyCancelFlowEnabled"),t=(0,d.O)(),c=(0,o.A4)(n),u=(0,a.k)();return{launchCancelFlow:(0,l.useCallback)(()=>{if(e&&c&&i)return(0,r.yg)("churnkey").then(n=>{var i;return n&&e.billingSubscriptionId&&(null==(i=e.createdByUser)?void 0:i.billingCustomerId)?_({authHash:n,subscription:e,localeKey:t,productKey:c,launchIntercomUI:u}):void console.debug("[Churnkey] handleCancel - Missing hmac or subscription data",{hmac:n,subscription:e})})},[i,t,c,e,u]),cancelFlowEnabled:i}},_=async e=>{let{authHash:n,subscription:i,localeKey:l,productKey:r,customerAttributes:s={},launchIntercomUI:d}=e;return new Promise((e,a)=>{var u,p,g;null==(g=window.churnkey)||g.init("show",{subscriptionId:i.billingSubscriptionId,customerId:null==(u=i.createdByUser)?void 0:u.billingCustomerId,authHash:n,customerAttributes:{language:l,frequency:null==(p=(0,o.ZJ)(i))?void 0:p.frequencyUnit,productKey:r,...s},i18n:{lang:l,messages:j(l,r)},appId:t.$.CHURNKEY_APP_ID,mode:t.$.CHURNKEY_MODE,provider:"stripe",record:!0,handleSupportRequest(){var e;d(),c.zS.track(c.VV.CHURNKEY_HANDLE_SUPPORT_CLICK,{source:"cancel-flow",subscriptionId:i.billingSubscriptionId,customerId:null==(e=i.createdByUser)?void 0:e.billingCustomerId})},onCancel(e,n,l){var t;c.zS.track(c.VV.CHURNKEY_CANCEL_SUBSCRIPTION_COMPLETE,{source:"cancel-flow",subscriptionId:i.billingSubscriptionId,customerId:null==(t=i.createdByUser)?void 0:t.billingCustomerId,surveyResponse:n,freeformFeedback:l}),console.debug("[launchChurnkeyCancelFlow.onCancel]",{surveyResponse:n,freeformFeedback:l})},onGoToAccount(n){console.debug("[launchChurnkeyCancelFlow.onGoToAccount]",{sessionResults:n}),e({sessionResults:n})},onClose(n){if(console.debug("[launchChurnkeyCancelFlow.onClose]",{sessionResults:n}),!n||n.aborted)return void a("Churnkey cancel flow aborted");e({sessionResults:n})},onError(e){console.warn("[launchChurnkeyCancelFlow.onError]",{message:e}),a({message:e})}})})}},88114:(e,n,i)=>{"use strict";i.d(n,{K:()=>u});var l=i(94282),t=i(55729),r=i(88586),s=i(68986),d=i(65148),a=i(14322);let o=e=>{var n,i;let{pro:l,plus:t}=e,{yearly:r}=l||{},{yearly:s}=t||{};return(null==r||null==(n=r.discount)?void 0:n.price)||(null==s||null==(i=s.discount)?void 0:i.price)};class c extends Error{}let u=e=>{var n,i,u,p,g,h,x,m;let{workspaceId:y,isPublic:v=!1,canManageWorkspace:j,selectedBillingCycleKey:f}=e,[b]=(0,r.wQm)(),[E,w]=(0,t.useState)(),[C,_]=(0,t.useState)(),R="monthly"===f?{pro:null==E?void 0:E.monthly,plus:null==C?void 0:C.monthly}:"yearly"===f?{pro:null==E?void 0:E.yearly,plus:null==C?void 0:C.yearly}:null,I=y?{pro:(0,a.wb)(y,[(null==R||null==(n=R.pro)?void 0:n.id)||""]),plus:(0,a.wb)(y,[(null==R||null==(i=R.plus)?void 0:i.id)||""])}:null,S=(null==E||null==(p=E.yearly)||null==(u=p.discount)?void 0:u.price)||(null==E||null==(g=E.yearly)?void 0:g.price)||0,P=Math.round(12*((null==E||null==(h=E.monthly)?void 0:h.price)||0)),A=(null==C||null==(x=C.yearly)?void 0:x.price)||0,T=Math.round(12*((null==C||null==(m=C.monthly)?void 0:m.price)||0));return(0,t.useEffect)(()=>{w(null);let e=y;e||(e=s.x.getItem(d.E.currentWorkspaceId)?JSON.parse(s.x.getItem(d.E.currentWorkspaceId)):void 0),b({variables:{workspaceId:e}}).then(e=>{var n;if(e.error)throw Error("GraphQL error: "+JSON.stringify(e.error));let i=null==(n=e.data)?void 0:n.products;if(!i||!i.length)throw l.Cp("[getProducts] No products returned",{extra:{data:e.data}}),new c("[getProducts] No products returned");let{proMonthlyProductPrice:t,proYearlyProductPrice:r,plusMonthlyProductPrice:s,plusYearlyProductPrice:d}=(0,a.kp)(i);w({monthly:t,yearly:r}),_({monthly:s,yearly:d})}).catch(e=>{e instanceof c||console.error("[getProducts] err",e)})},[y,b,j,v]),{selectedProductPrices:R,annualProDiscountPercentage:(P-S)/P,annualPlusDiscountPercentage:(T-A)/T,hasSpecialAnnualDiscount:o({pro:E,plus:C}),checkoutUrls:I,productPricesPlus:C,productPricesPro:E}}}}]);
//# sourceMappingURL=7898-75dfe0cbb1d7ab54.js.map