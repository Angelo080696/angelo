(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3332],{3050:function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(t,i);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,r)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return r(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.helpers=t.EMPTY_DOCUMENT=t.MARKS=t.INLINES=t.BLOCKS=void 0;var a=i(60284);Object.defineProperty(t,"BLOCKS",{enumerable:!0,get:function(){return a.BLOCKS}});var d=i(53088);Object.defineProperty(t,"INLINES",{enumerable:!0,get:function(){return d.INLINES}});var c=i(62604);Object.defineProperty(t,"MARKS",{enumerable:!0,get:function(){return o(c).default}}),l(i(24967),t),l(i(58135),t),l(i(89115),t);var u=i(63702);Object.defineProperty(t,"EMPTY_DOCUMENT",{enumerable:!0,get:function(){return o(u).default}}),t.helpers=s(i(20543))},6766:(e,t,i)=>{"use strict";i.d(t,{H:()=>d});var n=i(41352),r=i(81221),l=i(91938),s=i(87996),o=i(52297);let a=e=>{let t="",i=!1;if("transloadit"in e){let{failed:n,transloadit:r}=e;i=!!n.length,t=r[0].results[":original"][0].url}else{if(!("results"in e))return{sourceUrl:t,success:!1};t=e.results[":original"][0].url}return i?{sourceUrl:t,success:!1}:{sourceUrl:t,success:!0}},d=(e,t)=>{let i=new n.Ay({...s.ux,restrictions:{...s.ux.restrictions,allowedFileTypes:s.J4}});return i.use(r.Ay,{assemblyOptions:async()=>{let t=l.$.TRANSLOADIT_FILE_TEMPLATE_ID,{signature:i,expires:n}=await (0,o.N)(t);return{params:{auth:{key:l.$.TRANSLOADIT_AUTH_KEY,expires:n},template_id:t},fields:{orgId:e},signature:i}},waitForEncoding:!0}),new Promise((e,n)=>{i.on("complete",t=>{let{success:i,sourceUrl:r}=a(t);i?e(r):n("Could not get sourceUrl from upload result")}),i.on("transloadit:complete",t=>{let{success:i,sourceUrl:r}=a(t);i?e(r):n("Could not get sourceUrl from result")}),i.on("error",e=>{n(e)}),i.on("restriction-failed",(e,t)=>{console.error("[uploadFontFile] restriction failed on file",e,"error",t),n(t)}),i.addFile({name:t.name,type:t.type,data:t}),s.ux.autoProceed||i.upload()})}},17206:(e,t,i)=>{"use strict";i.d(t,{n:()=>K,j:()=>z});var n=i(6029),r=i(8972),l=i(49377),s=i(38859),o=i(29328),a=i(94283),d=i(40313),c=i(75846),u=i(99492),x=i(48621),h=i(55729),p=i(5061),m=i(15342),j=i(43634),g=i(29608),f=i(28615),v=i(11403),b=i(6807),E=i(85732),y=i(68986),S=i(19564),_=i(95578),C=i(70006),A=i(99038),L=i(88131),O=i(67604),T=i(75916),I=i(86025),D=i(88608),k=i(95889),w=i(18341),B=i(74003),N=i(86992),R=i(14322),P=i(65148);let M=[{Component:()=>{let e=(0,_.u)("outageButterbar");if(!e.enabled)return null;let{header:t,text:i,buttonLink:r,buttonText:l,key:s,pathnameRegexp:o}=e;return(0,n.jsx)(z,{definition:{key:s,header:t,text:i,buttonText:l,buttonLink:r,conditions:()=>!o||null!==window.location.pathname.match(new RegExp(o))}})},key:"outage-butterbar"},{Component:()=>"NORMAL"===(0,_.u)("openAiStatus")?null:(0,n.jsx)(z,{definition:{key:"ai-service-status",header:(0,n.jsx)(S.x6,{id:"1Agl06"}),text:(0,n.jsx)(S.x6,{id:"cCl6WD"}),ttl:86400,conditions:()=>(0,C.a5)(window.location.pathname)}}),key:"ai-service-status-butterbar"},{Component:()=>{var e,t,i;let{user:r,currentWorkspace:l}=(0,w.ur)(),{subscription:s,product:o}=(0,B.I)(),{launchFailedPaymentFlow:a,failedPaymentFlowEnabled:d}=(0,I.yf)({subscription:s,workspace:l,autoLaunch:!1});if(!s||!o)return null;let{name:c,dontChurnMessage:u}=(0,N.Ok)()[o],{status:x,expirationTime:h,id:p}=s,m=(0,D.Yq)(h,"MMMM do, yyyy"),j=(null==s||null==(e=s.createdByUser)?void 0:e.id)===(null==r?void 0:r.id),g=(0,R.AY)(),f=h>Date.now();if("unpaid"!==x&&"past_due"!==x&&!f)return null;let v=g&&(j||!(null==s?void 0:s.createdByUser))?(0,n.jsx)(S.x6,{id:"velw1T",values:{expirationFormatted:m,GAMMA_PROPER_NOUN:A.On,productName:c},components:{0:(0,n.jsx)(L.N,{href:d?void 0:g,onClick:d?a:void 0,isExternal:!0,textDecoration:"underline"})}}):(0,n.jsx)(S.x6,{id:"9aBOfk",values:{expirationFormatted:m,GAMMA_PROPER_NOUN:A.On,productName:c,0:null==(t=s.createdByUser)?void 0:t.displayName,1:null==(i=s.createdByUser)?void 0:i.email},components:{0:(0,n.jsx)("b",{}),1:(0,n.jsx)("b",{})}});return(0,n.jsx)(z,{definition:{key:"payment-overdue-".concat(p),header:(0,n.jsx)(S.x6,{id:"Lac1Vj",values:{GAMMA_PROPER_NOUN:A.On,productName:c}}),text:(0,n.jsxs)(n.Fragment,{children:[u," ",v]}),buttonText:(0,n.jsx)(S.x6,{id:"WLvqZR"}),buttonLink:d?void 0:g,buttonOnClick:d?a:void 0}})},key:"payment-overdue-butterbar"},{Component:()=>{let{subscription:e,openUpsellModal:t}=(0,B.I)();if(!e)return null;let{status:i,expirationTime:r,id:l}=e;if(!(new Date>(0,O.A)(r)&&new Date<(0,T.A)((0,O.A)(r),{days:10})))return null;let s=()=>t({segmentEvent:k.VV.GAMMA_PRO_UPSELL_SUBSCRIPTION_EXPIRED_BUTTERBAR}),o=(0,n.jsx)(L.N,{onClick:s,isExternal:!0,textDecoration:"underline",children:(0,n.jsx)(S.x6,{id:"mj68q/"})});return(0,n.jsx)(z,{definition:{key:"subscription-expired-".concat(l),header:(0,n.jsx)(S.x6,{id:"0hHZEf",values:{GAMMA_PROPER_NOUN:A.On}}),text:(0,n.jsxs)(n.Fragment,{children:["unpaid"===i||"past_due"===i?(0,n.jsx)(S.x6,{id:"QdgXJv"}):""," ",o]}),buttonText:(0,n.jsx)(S.x6,{id:"kwkhPe"}),buttonOnClick:s}})},key:"subscription-expired-butterbar"},{Component:()=>{var e,t,i;let{user:r}=(0,w.ur)(),{subscription:l,product:s}=(0,B.I)();if(!l||!s)return null;let{status:o,expirationTime:a,id:d,cancellationRequestedTime:c}=l;if(!("canceled"!=o&&c&&new Date<(0,O.A)(a)&&new Date>(0,T.A)((0,O.A)(a),{days:-7})))return null;let u=(null==l||null==(e=l.createdByUser)?void 0:e.id)===(null==r?void 0:r.id),x=(0,R.AY)(),h=(0,D.Yq)(a,"MMMM do, yyyy"),{name:p,dontChurnMessage:m}=(0,N.Ok)()[s],j=!u&&(null==l?void 0:l.createdByUser)?(0,n.jsx)(S.x6,{id:"z4DeyC",values:{expirationFormatted:h,GAMMA_PROPER_NOUN:A.On,productName:p,0:null==(t=l.createdByUser)?void 0:t.displayName,1:null==(i=l.createdByUser)?void 0:i.email},components:{0:(0,n.jsx)("b",{}),1:(0,n.jsx)("b",{})}}):(0,n.jsx)(S.x6,{id:"qP91+f",values:{expirationFormatted:h,GAMMA_PROPER_NOUN:A.On,productName:p},components:{0:(0,n.jsx)(L.N,{href:x,isExternal:!0,textDecoration:"underline"})}});return(0,n.jsx)(z,{definition:{key:"subscription-ending-soon-".concat(d),header:(0,n.jsx)(S.x6,{id:"66dedh",values:{GAMMA_PROPER_NOUN:A.On,productName:p}}),text:(0,n.jsxs)(n.Fragment,{children:[m," ",j]}),buttonText:(0,n.jsx)(S.x6,{id:"3jHA5d"}),buttonLink:x}})},key:"upcoming-cancellation-butterbar"},{key:"tablet-browser-warning",header:(0,n.jsx)(S.x6,{id:"JAtlMu",values:{GAMMA_PROPER_NOUN:A.On}}),text:(0,n.jsx)(S.x6,{id:"9JlCFS",values:{GAMMA_PROPER_NOUN:A.On}}),conditions:()=>(0,g.Pg)(),dismissKey:P.E.lastDismissedPreferredBrowserMessage},{key:"desktop-browser-warning",header:(0,n.jsx)(S.x6,{id:"3S0+Wy",values:{GAMMA_PROPER_NOUN:A.On}}),text:(0,n.jsx)(S.x6,{id:"Tf7VpJ"}),conditions:()=>F()&&(0,g.bh)(),dismissKey:P.E.lastDismissedPreferredBrowserMessage}],F=()=>(0,g.z3)()||!(0,g.H8)()&&!(0,g.nr)()&&!(0,g.yE)(),K=e=>{let{isViewOnly:t}=e,i=(0,v.En)(),s=(0,m.GV)(j.VJ);if(t||!i||(0,g.rA)()||f.D1||(0,E.NF)()||s)return null;let o=M.map(e=>"Component"in e?(0,n.jsx)(e.Component,{},e.key):(0,n.jsx)(z,{definition:e},e.key));return(0,n.jsx)(r.Z,{children:(0,n.jsx)(l.s,{"data-testid":"butterbar",direction:"column",top:2,pos:"absolute",zIndex:"toast",sx:{"> *:not(:first-child)":{display:"none"}},children:o})})},z=e=>{let{definition:t}=e,i=(0,p.fW)(),{key:r,dismissKey:m="butterbar-dismiss-".concat(r),header:j,text:g,buttonText:f,buttonLink:v,buttonOnClick:E=v?()=>window.open(v,"_blank"):void 0,conditions:S,ttl:_}=t,[C,A]=(0,b.M)(m,!1);if((0,h.useEffect)(()=>{if(_&&C)new Date().getTime()-new Date(C).getTime()>1e3*_&&y.x.removeItem(m)},[m,C,_]),S&&!S()||C)return null;let L=f&&E;return(0,n.jsxs)(s.F,{gap:4,position:"fixed",insetStart:"50%",transform:"translateX(".concat(i?"50%":"-50%",")"),shadow:"lg",width:{base:"calc(100% - 1rem)",md:"auto"},flexDirection:{base:"column",lg:"row"},alignItems:{base:"flex-start",lg:"center"},colorScheme:"highlight-flamingo",variant:"solid",children:[(0,n.jsxs)(o.B,{spacing:0,flex:1,pe:{base:12,lg:0},children:[(0,n.jsx)(a.E,{fontWeight:"bold",children:j}),(0,n.jsx)(a.E,{opacity:"0.7",fontSize:"xs",children:g})]}),L&&(0,n.jsx)(d.$,{flexShrink:0,variant:"plain",size:"sm",rightIcon:v?(0,n.jsx)(x.g,{icon:u.Ju_}):void 0,onClick:E,children:f}),(0,n.jsx)(l.s,{alignSelf:"flex-start",position:{base:"absolute",lg:"static"},insetEnd:4,top:4,children:(0,n.jsx)(c.J,{variant:"solid-alert",size:"sm",onClick:()=>{A(String(new Date))}})})]})}},17703:(e,t,i)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(76571)}])},18911:(e,t,i)=>{"use strict";i.d(t,{s:()=>M});var n=i(6029),r=i(96529),l=i(83004),s=i(55729),o=i(91792),a=i(61385),d=i(5872),c=i(43607);let u={fontSize:"var(--chakra-fontSizes-sm) !important",fontFamily:"var(--chakra-fonts-body), sans-serif !important",fontWeight:"500 !important",lineHeight:"1.5 !important",textTransform:"none",letterSpacing:"normal !important",textAlign:"start !important",margin:"0 !important",color:"var(--chakra-colors-gray-900) !important",background:"none !important",blockquote:{borderLeftWidth:"0px !important",borderLeftStyle:"solid !important",borderLeftColor:"transparent !important",padding:"0 !important",color:"var(--chakra-colors-gray-900) !important",fontStyle:"normal !important"},border:"0 none !important",padding:"0 !important",content:'""'},x={...u,color:"var(--chakra-colors-blue-500) !important","&:hover":{textDecoration:"underline"},cursor:"pointer"},h={"p,h1,h2,h3,h4,h5,h6, .title, .section-title":{...u,margin:0},a:x,"ul, ol":{marginLeft:"1.2em"},blockquote:{borderLeft:"3px solid var(--chakra-colors-gray-200)",paddingLeft:"0.5em"},color:"var(--chakra-colors-gray-900) !important",wordBreak:"break-word",lineHeight:"1.5 !important",letterSpacing:"normal !important",".mention":{bgColor:"trueblue.50",whiteSpace:"break-spaces"}},p={fontFamily:"var(--chakra-fonts-body) !important",fontWeight:"500","@media screen and (max-width: 30rem)":{".controls-wrapper":{}},"@media screen and (min-width: 30rem)":{".controls-wrapper":{paddingInlineStart:"var(--comment-padding)"},".controls-wrapper__gridLayout, .controls-wrapper__gallery":{paddingInlineStart:"calc(-1 * var(--grid-padding) + var(--comment-padding))"}},".comments-list":{".comments-sign-up":{a:{...u,...x,fontSize:"xs",color:"gray.500",fontWeight:"bold","&:hover":{color:"gray.500",textDecoration:"underline"}}},".comment":{".reactions-row ul":{marginInlineStart:"auto"},".comment-date":{fontSize:"var(--chakra-fontSizes-xs) !important",color:"var(--chakra-colors-gray-500) !important"},...h},".block-image":{"&.is-focused":{"img, .image, .placeholder":{boxShadow:"var(--chakra-shadows-outline)"}}},".block-target-html":{"p,h1,h2,h3,h4,h5,h6,blockquote,ol,ul,li, .title, .section-title":{...u,"::after":u},a:{...x},li:{margin:"0 !important",padding:"0 !important",listStyle:"none !important",p:{margin:0}},img:{maxWidth:"200px",maxHeight:"80px"}}},".comment-editor .ProseMirror":{...h,"\n      @media only screen and (max-device-width: 812px) and (-webkit-min-device-pixel-ratio: 2),\n      @media only screen and (max-device-width: 812px) and (-webkit-min-device-pixel-ratio: 3),\n      @media only screen and (max-device-width: 640px) and (-webkit-min-device-pixel-ratio: 4)\n    ":{fontSize:"16px  !important"},padding:"12px",borderRadius:"5px","&.focus-visible":{boxShadow:"0 0 0 2px rgb(49, 130, 206)"},"a.image-link":{pointerEvents:"none"}}};var m=i(9329),j=i(16419),g=i.n(j),f=i(76694),v=i(7915);function b(){let e=(0,m._)(["\n  0% {\n    box-shadow: ",";\n  }\n  7%,\n  60% {\n    box-shadow: var(--link-box-shadow);\n  }\n  100% {\n    box-shadow: ",";\n  }\n"]);return b=function(){return e},e}function E(){let e=(0,m._)(["\n  0% \n  100% {\n    box-shadow: ",";\n  }\n"]);return E=function(){return e},e}let y="0 0 0 0 rgba(0, 0, 0, 0.0)",S=(0,l.i7)(b(),y,y),_=(0,l.i7)(E(),y),C={"math-display":{fontSize:"1.125em",".katex":{whiteSpace:"normal"}},"math-inline":{"&.ProseMirror-selectednode":{marginY:"-0.25em"}},"math-display, math-inline":{"&.ProseMirror-selectednode":{boxShadow:"outline",borderRadius:"var(--box-border-radius)",backgroundColor:"gray.100",padding:".25em",marginX:"3px",".math-src":{color:"gray.700"}}}};var A=i(61651),L=i(77650),O=i(8266),T=i(23664);let I=e=>({".block-smartLayout":{'[data-node-view-content-outer="smartLayout"]':{display:"contents"},'[data-node-view-content-inner="smartLayout"]':{display:"contents"},"[data-selection-ring]":{outlineStyle:"none",outlineWidth:"1px",outlineColor:"var(--grid-outline-color)"},'[data-selection-ring="padded"]':{outlineOffset:"0.25em",".add-button":{m:"-0.25em"}},"&:not(.is-focused)":{"[data-content-empty=true] > [data-node-view-content]":{height:0,"[data-placeholder]::after, [data-multiline-placeholder]::after":{display:"none"}}},"&.is-focused":{"[data-content-empty=true]":{"[placeholder]::before":T.sx}},["&.is-focused, &:hover, &[".concat(v.y,"]")]:{".is-editable":{"[data-selection-ring]":{outlineStyle:"solid"},".add-button":{opacity:1}}}},".node-smartLayoutCell":{display:"contents","> [data-node-view-wrapper]":{display:"contents"},"--heading-placeholder":(0,T.KX)(L.Ru._({id:"HX5SVx"})),'[data-node-view-content-inner="smartLayoutCell"] > .first-block':{mt:[0,0]},'[data-node-view-content-inner="smartLayoutCell"] > .last-block':{mb:[0,0]},".slash-menu-prompt":{display:"none"},".block-heading, .block-title":{...(0,O.hQ)(e).tight},".block-paragraph":{...(0,O.xC)(e).tight}},".smart-layout-cell-not-emphasized > [data-content-reference], .smart-layout-cell-not-emphasized [data-smart-layout-emphasis]":{opacity:.5}});var D=i(39659),k=i(90026),w=i(63255);function B(){let e=(0,m._)(["\n  0% {\n    align-items: flex-start;\n    grid-template-rows: 0.2fr;\n    overflow: hidden;\n  }\n  99% {\n    align-items: flex-start;\n    overflow: hidden;\n  }\n  100% {\n    align-items: initial;\n    grid-template-rows: 1fr;\n    overflow: visible;\n  }\n"]);return B=function(){return e},e}let N=(0,l.i7)(B()),R=(e,t)=>({height:"100%",outlineWidth:"0px",lineHeight:"var(--line-height-body)",letterSpacing:"var(--letter-spacing-body)","&.is-focused":{".is-empty":{"[data-placeholder]":{_after:T.sx},"[data-multiline-placeholder]":{position:"relative",_after:T.L8,"> [data-node-view-content-inner]":{position:"absolute",width:"100%",minH:"1em"}}}},"--block-margin":(0,O.bd)(e),"--grid-border":"1px","--grid-padding":"1.22em","&.is-dark":{".block-blockquote":{blockquote:{borderLeftColor:"var(--accent-color)"}},...D.hY.dark,...k.Hm.dark},".block-card":{"&.expandable-node":{"&-selected .expandable-selected":{animation:"".concat(S," 3000ms ease-in-out forwards")},"&-reset .expandable-selected":{animation:"".concat(_)}}},".block":{my:"var(--block-margin)",fontFamily:"var(--body-font)",fontWeight:"var(--body-font-weight)",color:"var(--body-color)"},"&.is-nested":{display:"grid",animation:"".concat(N," ").concat(a.M2,"ms ease-out forwards")},"&.is-full-width":{".block.is-full-width":{width:"var(--full-width)",position:"relative",left:"50%",transform:"translateX(-50%)"}},'[data-node-view-content-inner="cardLayoutItem"], [data-node-view-content-inner="card"]':{"> .first-block":{mt:"0em"},"> .last-block":{mb:"0em"}},"a.link":{color:"var(--text-color, var(--link-color))",cursor:"pointer",fontWeight:"bold",textDecoration:"underline",'&[href=""]':{textDecorationStyle:"dashed"},"&:hover":{color:"var(--text-color, var(--link-color-hover))"},"&:active":{color:"var(--text-color, var(--link-color-hover))"}},".block-toggle":{"&.expandable-node":{"&-selected .toggle":{animation:"".concat(S," 3000ms ease-in-out forwards")},"&-reset .toggle":{animation:"".concat(_)}},'[data-open="false"]':{'[data-node-view-content-inner="toggle"]':{"> :not(:first-child)":{display:"none"}}}},...D.hY.default,...k.Hm.default,...w.X0,...C,".block-codeBlock":{pre:{fontFamily:"mono",fontSize:O.$N.codeBlock,"@media print":{fontSize:g()(O.$N.codeBlock)},color:"var(--body-color)",background:"var(--accent-color-background-muted)",borderRadius:"var(--box-border-radius)",overflow:"hidden",code:{display:"block",padding:".75em 1em"}}},code:{backgroundColor:"var(--accent-color-background-muted)",color:"var(--body-color)",...D.wd},".block-blockquote":{blockquote:{pl:"1.5em"}},".block-embed, .block-video":{"&.expandable-node":{"&-selected":{".embed-preview, .embed-viewer, .video-player":{animation:"".concat(S," 3000ms ease-in-out forwards")}},"&-reset":{".embed-preview, .embed-viewer, .video-player":{animation:"".concat(_)}}}},".block-image":{"&.expandable-node":{"&-selected":{"[data-selection-ring]":{animation:"".concat(S," 3000ms ease-in-out forwards")}},"&-reset ":{"[data-selection-ring]":{animation:"".concat(_)}}}},".block-contributors":{".contributors-list":{fontSize:"1.25em",fontWeight:"bold"}},".mention":{bgColor:"var(--accent-color-background-muted)",color:"var(--body-color)"},".block-gallery":{"&.gallery-layout-flex":{".add-image":{mb:"calc(0.75 * var(--grid-padding))"}},mx:"calc(-1 * var(--grid-padding))",my:"calc(-0.25 * var(--grid-padding))",".gallery":{px:"var(--grid-padding)",py:"calc(0.75 * var(--grid-padding))",border:"1px solid",borderColor:"transparent",borderRadius:"var(--box-border-radius)",["&.".concat(f.u)]:{border:"1px dashed var(--chakra-colors-trueblue-300) !important",backgroundColor:"var(--chakra-colors-trueblue-50) !important",".gallery-placeholder":{pointerEvents:"none"}}},"&.is-focused, &.is-empty":{".gallery":{backgroundColor:"".concat(t?A.N.DARK_BG:A.N.LIGHT_BG)}},["&.is-focused, &:hover, &[".concat(v.y,"]")]:{".add-image":{opacity:1}},"&.expandable-node":{"&-selected .gallery":{animation:"".concat(S," 3000ms ease-in-out forwards")},"&-reset .gallery":{animation:"".concat(_)}}},...I(e),".block-gridLayout":{mx:"calc(-1 * var(--grid-padding))",".layout-content":{display:"contents","> div":{display:"contents"}},".grid-cell":{position:"relative",height:"100%",paddingX:"var(--grid-padding)",display:"flex",flexDirection:"column",outlineWidth:"1px",outlineStyle:"none",outlineColor:"var(--grid-outline-color)",".block-gallery":{my:"0"}},["&.is-focused, &:hover, &[".concat(v.y,"]")]:{".is-editable":{".grid-cell":{outlineStyle:"solid"}},".add-column":{opacity:1}}},".node-cardLayoutItem, .node-cardAccentLayoutItem":{position:"relative",display:"flex",flexDirection:"column",justifyContent:"stretch",minWidth:0,minHeight:0,"> [data-node-view-wrapper]":{position:"relative",height:"100%",width:"100%"}},".node-cardNotes":{display:"none"},".block-table":{table:{'[data-node-view-content-inner="table"]':{display:"contents",'[data-node-view-content-inner="tableRow"]':{display:"contents"},td:{verticalAlign:"top",".block-heading [data-placeholder]::before":{display:"none"}}}},td:{minWidth:"3em",paddingX:"1em",position:"relative",".block":{maxWidth:e?"75vw":void 0},"&:not(:first-of-type)":{borderInlineStart:"1px solid transparent"}},".selectedCell:after":{zIndex:2,position:"absolute",content:'""',left:0,right:0,top:0,bottom:0,backgroundColor:"trueblue.100",pointerEvents:"none",opacity:.4},"&.is-focused, &:hover":{"td:not(:first-of-type)":{borderInlineStart:"1px solid var(--grid-outline-color)"}}},".tippy-arrow":{borderLeftColor:"red"},".footnote-label":{textDecoration:"underline",textDecorationColor:"var(--link-color)",_hover:{bgColor:"var(--accent-color-background-muted)",color:"gray.800",borderRadius:"sm"}},".footnote":{color:"var(--link-color)",_hover:{_after:{bgColor:"var(--accent-color-background-muted)",color:"gray.800"}}},".node-emoji":{color:"initial"},".block-heading":{...(0,O.hQ)(e).default,".heading":{position:"relative"}},".block-title":{...(0,O.hQ)(e).default,".title":{position:"relative"}},".node-gridLayout, .node-calloutBox":{".block-heading, .block-title":{...(0,O.hQ)(e).compact},".block-paragraph":{...(0,O.xC)(e).compact}},".node-calloutBox":{".first-block":{mt:(0,O.hQ)(e).compact.mt}},".block-table td":{".block":{...(0,O.xC)(e).tight},".block-heading, .block-title":{...(0,O.hQ)(e).tight}},'[data-node-view-content-inner="card"]:not(:has(> .node-cardAccentLayoutItem)) [data-node-view-content-inner="cardLayoutItem"] > .first-block:not(.last-block)':{"&.block-heading, &.block-title":{"&:not(:has(+ .block-heading, + .block-title, + .node-gridLayout))":{mb:(0,O.hQ)(e).relaxed.mb}}},'[data-node-view-content-inner="cardLayoutItem"] > .first-block:not(.last-block)':{"&.block-paragraph":{...(0,O.xC)(e).compact,"+ .block-heading, + .block-title":{mt:(0,O.hQ)(e).compact.mt}},'&.block-heading:has([level="2"], [level="3"], [level="4"])':{mb:(0,O.hQ)(e).compact.mb,"+ .block-heading, + .block-title":{mt:(0,O.hQ)(e).compact.mt}}}});var P=i(65978);let M=(0,s.memo)(()=>{let e=(0,c.FX)(),t=(0,o.rd)();return(0,n.jsx)(l.mL,{styles:i=>{let n={[".".concat(a._P)]:R(e,t),[".".concat(P.V)]:p,[".".concat(d.S)]:d.E};if(n)return(0,r.AH)(n)(i)}})});M.displayName="GlobalCardStyles"},20543:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isText=t.isBlock=t.isInline=void 0;var n=i(60284),r=i(53088);function l(e,t){for(var i=0,n=Object.keys(e);i<n.length;i++)if(t===e[n[i]])return!0;return!1}t.isInline=function(e){return l(r.INLINES,e.nodeType)},t.isBlock=function(e){return l(n.BLOCKS,e.nodeType)},t.isText=function(e){return"text"===e.nodeType}},23664:(e,t,i)=>{"use strict";i.d(t,{KX:()=>l,L8:()=>r,sx:()=>n});let n={content:"attr(data-placeholder)",position:"absolute",top:0,opacity:.25,pointerEvents:"none",left:0,width:"100%",color:"var(--heading-color)",lineClamp:1,textOverflow:"ellipsis",overflow:"hidden",boxOrient:"vertical",wordBreak:"break-all",height:"100%",whiteSpace:"nowrap"},r={...n,content:"attr(data-multiline-placeholder)",color:"inherit",position:"relative",lineClamp:0,whiteSpace:"normal",wordBreak:"normal"},l=e=>'"'.concat(e,'"')},24967:function(e,t,i){"use strict";var n,r=this&&this.__spreadArray||function(e,t,i){if(i||2==arguments.length)for(var n,r=0,l=t.length;r<l;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.V1_MARKS=t.V1_NODE_TYPES=t.TEXT_CONTAINERS=t.HEADINGS=t.CONTAINERS=t.VOID_BLOCKS=t.TABLE_BLOCKS=t.LIST_ITEM_BLOCKS=t.TOP_LEVEL_BLOCKS=void 0;var s=i(60284),o=i(53088),a=l(i(62604));t.TOP_LEVEL_BLOCKS=[s.BLOCKS.PARAGRAPH,s.BLOCKS.HEADING_1,s.BLOCKS.HEADING_2,s.BLOCKS.HEADING_3,s.BLOCKS.HEADING_4,s.BLOCKS.HEADING_5,s.BLOCKS.HEADING_6,s.BLOCKS.OL_LIST,s.BLOCKS.UL_LIST,s.BLOCKS.HR,s.BLOCKS.QUOTE,s.BLOCKS.EMBEDDED_ENTRY,s.BLOCKS.EMBEDDED_ASSET,s.BLOCKS.TABLE],t.LIST_ITEM_BLOCKS=[s.BLOCKS.PARAGRAPH,s.BLOCKS.HEADING_1,s.BLOCKS.HEADING_2,s.BLOCKS.HEADING_3,s.BLOCKS.HEADING_4,s.BLOCKS.HEADING_5,s.BLOCKS.HEADING_6,s.BLOCKS.OL_LIST,s.BLOCKS.UL_LIST,s.BLOCKS.HR,s.BLOCKS.QUOTE,s.BLOCKS.EMBEDDED_ENTRY,s.BLOCKS.EMBEDDED_ASSET],t.TABLE_BLOCKS=[s.BLOCKS.TABLE,s.BLOCKS.TABLE_ROW,s.BLOCKS.TABLE_CELL,s.BLOCKS.TABLE_HEADER_CELL],t.VOID_BLOCKS=[s.BLOCKS.HR,s.BLOCKS.EMBEDDED_ENTRY,s.BLOCKS.EMBEDDED_ASSET],(n={})[s.BLOCKS.OL_LIST]=[s.BLOCKS.LIST_ITEM],n[s.BLOCKS.UL_LIST]=[s.BLOCKS.LIST_ITEM],n[s.BLOCKS.LIST_ITEM]=t.LIST_ITEM_BLOCKS,n[s.BLOCKS.QUOTE]=[s.BLOCKS.PARAGRAPH],n[s.BLOCKS.TABLE]=[s.BLOCKS.TABLE_ROW],n[s.BLOCKS.TABLE_ROW]=[s.BLOCKS.TABLE_CELL,s.BLOCKS.TABLE_HEADER_CELL],n[s.BLOCKS.TABLE_CELL]=[s.BLOCKS.PARAGRAPH],n[s.BLOCKS.TABLE_HEADER_CELL]=[s.BLOCKS.PARAGRAPH],t.CONTAINERS=n,t.HEADINGS=[s.BLOCKS.HEADING_1,s.BLOCKS.HEADING_2,s.BLOCKS.HEADING_3,s.BLOCKS.HEADING_4,s.BLOCKS.HEADING_5,s.BLOCKS.HEADING_6],t.TEXT_CONTAINERS=r([s.BLOCKS.PARAGRAPH],t.HEADINGS,!0),t.V1_NODE_TYPES=[s.BLOCKS.DOCUMENT,s.BLOCKS.PARAGRAPH,s.BLOCKS.HEADING_1,s.BLOCKS.HEADING_2,s.BLOCKS.HEADING_3,s.BLOCKS.HEADING_4,s.BLOCKS.HEADING_5,s.BLOCKS.HEADING_6,s.BLOCKS.OL_LIST,s.BLOCKS.UL_LIST,s.BLOCKS.LIST_ITEM,s.BLOCKS.HR,s.BLOCKS.QUOTE,s.BLOCKS.EMBEDDED_ENTRY,s.BLOCKS.EMBEDDED_ASSET,o.INLINES.HYPERLINK,o.INLINES.ENTRY_HYPERLINK,o.INLINES.ASSET_HYPERLINK,o.INLINES.EMBEDDED_ENTRY,"text"],t.V1_MARKS=[a.default.BOLD,a.default.CODE,a.default.ITALIC,a.default.UNDERLINE]},25713:(e,t,i)=>{"use strict";i.d(t,{D:()=>D});var n=i(6029),r=i(47561),l=i(35908),s=i(28144),o=i(82322),a=i(94283),d=i(46370),c=i(66737),u=i(8972),x=i(49224),h=i(48621),p=i(5061),m=i(8139),j=i(29608),g=i(29328),f=i(66425),v=i(59824);let b=e=>{let{lines:t=1}=e;return(0,n.jsx)(g.B,{children:[...Array(t)].map((e,t)=>(0,n.jsx)(f.az,{h:"2",bg:"gray.200",borderRadius:"sm",w:"100%"},t))})},E=e=>{let{paragraphs:t=[3]}=e,i=()=>.6>Math.random()?"100%":"".concat(Math.floor(14*Math.random())+85,"%");return(0,n.jsx)(g.B,{spacing:"2",children:t.map((e,t)=>(0,n.jsx)(g.B,{spacing:"1",children:[...Array(e)].map((e,t)=>(0,n.jsx)(f.az,{h:"1.5",bg:"gray.200",borderRadius:"sm",w:i()},t))},t))})},y=[{title:(0,n.jsx)(b,{}),body:(0,n.jsx)(E,{paragraphs:[4]})},{title:(0,n.jsx)(b,{}),body:(0,n.jsx)(E,{paragraphs:[4,2]})},{title:(0,n.jsx)(b,{}),body:(0,n.jsx)(E,{paragraphs:[3]})}],S=[{title:(0,n.jsx)(b,{}),body:(0,n.jsx)(E,{})},{title:(0,n.jsx)(b,{}),body:(0,n.jsx)(E,{})},{title:(0,n.jsx)(b,{}),body:(0,n.jsx)(E,{})}],_=[{title:(0,n.jsx)(b,{}),body:(0,n.jsx)(E,{paragraphs:[3,4,2]})},{title:(0,n.jsx)(b,{}),body:(0,n.jsx)(E,{paragraphs:[5,4]})},{title:(0,n.jsx)(b,{}),body:(0,n.jsx)(E,{paragraphs:[4]})}],C=[{title:(0,n.jsx)(b,{}),body:(0,n.jsx)(E,{paragraphs:[7,4]})},{title:(0,n.jsx)(b,{}),body:(0,n.jsx)(E,{paragraphs:[3,4]})},{title:(0,n.jsx)(b,{}),body:(0,n.jsx)(E,{paragraphs:[8,4]})}],A=[{title:(0,n.jsx)(b,{lines:2}),body:(0,n.jsx)(E,{paragraphs:[4]})},{title:(0,n.jsx)(b,{}),body:(0,n.jsx)(E,{paragraphs:[4]})},{title:(0,n.jsx)(b,{}),body:(0,n.jsx)(E,{paragraphs:[4]})}],L={deck_default:y,deck_traditional:S,deck_tall:S,document_default:y,document_pageless:_,document_letter:C,document_a4:C,social_square:A,social_portrait:A,social_stories:A,webpage_fluid:S},O=e=>{let{template:t,templateKey:i}=e,{docSettings:r,recommendedFor:l,cardDimensionsDesc:o,label:d}=t,{defaultContentWidth:c,verticalAlign:u,cardDimensions:x,defaultFullBleed:h}=r(),p=(0,v.iI)(x),m=L[i],j="full"===h,b=e=>"sm"===e?100:"lg"===e?160:130;return(0,n.jsxs)(g.B,{spacing:"0",overflow:"hidden",children:[(0,n.jsxs)(f.az,{bg:j?"white":"neutral.background.titanium",p:j?"0":"2",pb:"4",h:"260px",alignItems:"center",overflow:"hidden",justifyContent:"flex-start",border:"1px solid",borderColor:"blackAlpha.100",borderRadius:"sm",children:["webpage_fluid"===i&&(0,n.jsx)(T,{}),m.map((e,t)=>{let i=p.aspectRatio?"".concat(b(c)/p.aspectRatio,"px"):void 0;return(0,n.jsx)(I,{item:e,isFullBleed:j,width:"".concat(b(c),"px"),height:i,alignment:u,aspectRatioValue:p.aspectRatio},t)})]}),(0,n.jsx)(f.az,{p:"2",maxW:"100%",fontSize:"xs",pb:"1",color:"gray.800",children:(0,n.jsxs)(g.B,{spacing:"1",children:[(0,n.jsxs)(s.z,{alignItems:"flex-start",justifyContent:"space-between",children:[(0,n.jsx)(a.E,{fontSize:"md",noOfLines:1,textAlign:"start",children:d()}),(0,n.jsx)(a.E,{color:"gray.600",fontSize:"xs",children:o()})]}),(0,n.jsxs)(a.E,{color:"gray.700",textAlign:"start",children:[l(),"."]})]})})]})},T=()=>(0,n.jsx)(f.az,{bg:"gray.100",h:"auto",w:"100%",p:"1",px:"2",children:(0,n.jsxs)(s.z,{fontFamily:"Redacted script",color:"gray.800",spacing:0,justifyContent:"space-between",children:[(0,n.jsx)(f.az,{h:"2",w:"2",bg:"gray.300",borderRadius:"sm"}),(0,n.jsx)(f.az,{h:"2",w:"4",bg:"gray.200",borderRadius:"md"})]})}),I=e=>{let{item:t,isFullBleed:i,width:r,height:l,alignment:s,aspectRatioValue:o}=e;return(0,n.jsxs)(g.B,{p:"2",mx:"auto",mb:"2",bg:"white",border:"1px solid",borderColor:i?"transparent":"gray.100",w:r,minH:l,h:"auto",overflow:"hidden",justifyContent:o&&s?s:void 0,boxShadow:i?"none":"sm",color:"gray.800",spacing:2,children:[t.title,t.body]})},D=e=>{let{onSelectStyleTemplate:t,docFormatCategory:i,selectedStyleTemplate:g}=e,f=(0,p.fW)(),v=(0,j.Xb)();return(0,n.jsx)(n.Fragment,{children:i.styleTemplates.map(e=>{let i=m.S9[e];return v?(0,n.jsx)(l.D,{id:e,role:"group",transition:"none",onClick:()=>t(e),children:(0,n.jsxs)(s.z,{py:"1.5",cursor:"pointer",spacing:"2",children:[g&&(0,n.jsx)(o.Z,{fontSize:"0.8em",opacity:+(g===e),children:(0,n.jsx)(r.S,{})}),(0,n.jsx)(h.g,{fixedWidth:!0,icon:i.icon}),(0,n.jsx)(a.E,{children:i.label()}),(0,n.jsxs)(a.E,{children:["abc",i.cardDimensionsDesc()]})]})}):(0,n.jsxs)(d.A,{trigger:"hover",placement:f?"left":"right",children:[(0,n.jsx)(c.W,{children:(0,n.jsx)(l.D,{id:e,role:"group",transition:"none",onClick:()=>t(e),children:(0,n.jsxs)(s.z,{py:"1.5",cursor:"pointer",spacing:"2",children:[g&&(0,n.jsx)(o.Z,{fontSize:"0.8em",opacity:+(g===e),children:(0,n.jsx)(r.S,{})}),(0,n.jsx)(h.g,{fixedWidth:!0,icon:i.icon}),(0,n.jsx)(a.E,{children:i.label()})]})})}),(0,n.jsx)(u.Z,{children:(0,n.jsx)(x.h,{border:"none",w:"200px",p:2,borderRadius:"md",children:(0,n.jsx)(O,{template:i,templateKey:e})})})]},e)})})}},34906:(e,t,i)=>{"use strict";i.d(t,{B:()=>c});var n=i(6029),r=i(94283),l=i(49377),s=i(29328),o=i(85678),a=i(84797);let d={renderNode:{[i(3050).BLOCKS.PARAGRAPH]:function(e,t){return(0,n.jsx)(r.E,{color:"gray.600",children:t})}}},c=e=>{let{category:t}=e,i=t.description?(0,a.i)(t.description,d):null;return(0,n.jsx)(l.s,{direction:"row",alignItems:"flex-start",justify:"space-between",children:(0,n.jsxs)(s.B,{mb:6,children:[(0,n.jsx)(o.D,{fontSize:"3xl",mb:-1,fontWeight:"light",children:t.title}),i&&i]})})}},40926:(e,t,i)=>{"use strict";i.d(t,{OM:()=>s,eo:()=>o});var n=i(19515),r=i.n(n),l=i(91938);i(74892);let s=e=>e?"production"!==l.$.APPLICATION_ENVIRONMENT?e.stagingDocId||"oltspxg8obq2nzc":e.docId:void console.warn("[getDocIdForEnv] Deck is undefined. This is unexpected."),o=e=>e&&r()(e.map(e=>e.decks))||[]},53088:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INLINES=void 0,function(e){e.HYPERLINK="hyperlink",e.ENTRY_HYPERLINK="entry-hyperlink",e.ASSET_HYPERLINK="asset-hyperlink",e.EMBEDDED_ENTRY="embedded-entry-inline"}(t.INLINES||(t.INLINES={}))},58135:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},59724:(e,t,i)=>{"use strict";i.d(t,{a:()=>a});var n=i(81278),r=i(55729),l=i(20746),s=i(70006),o=i(65148);let a=e=>{let[t,i]=(0,l.F)(o.E.lastHomeUrl,"/"),a=(0,n.useRouter)();(0,r.useEffect)(()=>{let t=t=>{e&&(0,s.dD)(t)&&i(t)};return a.events.on("routeChangeStart",t),a.events.on("hashChangeStart",t),()=>{a.events.off("routeChangeStart",t),a.events.off("hashChangeStart",t)}},[a.events,i,e])};i(1771)},60284:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BLOCKS=void 0,function(e){e.DOCUMENT="document",e.PARAGRAPH="paragraph",e.HEADING_1="heading-1",e.HEADING_2="heading-2",e.HEADING_3="heading-3",e.HEADING_4="heading-4",e.HEADING_5="heading-5",e.HEADING_6="heading-6",e.OL_LIST="ordered-list",e.UL_LIST="unordered-list",e.LIST_ITEM="list-item",e.HR="hr",e.QUOTE="blockquote",e.EMBEDDED_ENTRY="embedded-entry-block",e.EMBEDDED_ASSET="embedded-asset-block",e.TABLE="table",e.TABLE_ROW="table-row",e.TABLE_CELL="table-cell",e.TABLE_HEADER_CELL="table-header-cell"}(t.BLOCKS||(t.BLOCKS={}))},62604:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BOLD="bold",e.ITALIC="italic",e.UNDERLINE="underline",e.CODE="code",e.SUPERSCRIPT="superscript",e.SUBSCRIPT="subscript"}(i||(i={})),t.default=i},63702:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(60284);t.default={nodeType:n.BLOCKS.DOCUMENT,data:{},content:[{nodeType:n.BLOCKS.PARAGRAPH,data:{},content:[{nodeType:"text",value:"",marks:[],data:{}}]}]}},71671:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});let n={src:"/_next/static/media/gamma-logomark.a54f294c.png",height:256,width:256,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAeFBMVEVMaXHcDvH2h29hMdDkZ4bhIPHJI93GMMmIA/7JAf/+lV3pHuDVB/fydXuyAP/8o0uHEfHCMckwAP9dBf/9fGz/qz31dX1oKdclAv//bXO2E/T7aH33XY2DHuT2kF75n01oEvewHfv+W7jWMeb/oWR6Dv/IUML7ZqU3nJtjAAAAIXRSTlMAvfS2i/soFHV1KXSOunTrc20qjs+SuYG+ifqS8uG3kPbVSKmjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAARUlEQVR4nAXBBQKAIAAAsRMRsLsTMP7/QzegmUIA3V5vp2qNsds67rbC+Dl8FmsovDyCwcXEkejP0qXoLPpuITWggjyBH5MtA9fdDIrUAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},75916:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(65106),r=i(36486),l=i(34889),s=i(62123);function o(e,t){if((0,s.A)(2,arguments),!t||"object"!=typeof t)return new Date(NaN);var i="years"in t?(0,r.A)(t.years):0,o="months"in t?(0,r.A)(t.months):0,a="weeks"in t?(0,r.A)(t.weeks):0,d="days"in t?(0,r.A)(t.days):0,c="hours"in t?(0,r.A)(t.hours):0,u="minutes"in t?(0,r.A)(t.minutes):0,x="seconds"in t?(0,r.A)(t.seconds):0,h=(0,l.A)(e),p=o||i?function(e,t){(0,s.A)(2,arguments);var i=(0,l.A)(e),n=(0,r.A)(t);if(isNaN(n))return new Date(NaN);if(!n)return i;var o=i.getDate(),a=new Date(i.getTime());return(a.setMonth(i.getMonth()+n+1,0),o>=a.getDate())?a:(i.setFullYear(a.getFullYear(),a.getMonth(),o),i)}(h,o+12*i):h;return new Date((d||a?(0,n.A)(p,d+7*a):p).getTime()+1e3*(x+60*(u+60*c)))}},76571:(e,t,i)=>{"use strict";let n;i.r(t),i.d(t,{HomePage:()=>nK,__N_SSG:()=>nF,default:()=>nz});var r=i(6029),l=i(55729),s=i(74158),o=i(90807),a=i(9052),d=i(32619),c=i(59724),u=i(87768),x=i(19564),h=i(82328),p=i(44223),m=i(3393),j=i(28144),g=i(29328),f=i(66425),v=i(88131),b=i(18408),E=i(46614),y=i(3632),S=i(99492),_=i(48621),C=i(99452),A=i.n(C),L=i(81278),O=i.n(L),T=i(24351),I=i(88586),D=i(95578),k=i(1079),w=i(96804),B=i(18341),N=i(49377),R=i(85678),P=i(94283),M=i(40313),F=i(82759),K=i(89942),z=i(68422),H=i(29608);let U=()=>{let{isOpen:e,onOpen:t,onClose:i}=(0,m.j)({id:"create-site-modal"}),n=(0,K.Fd)(),s=(0,D.u)("createSiteAi"),o=n&&(!(0,H.Xb)()||(0,H.Xb)()),{push:a}=(0,L.useRouter)(),[d,c]=(0,l.useState)(!1),u=(0,l.useCallback)(async()=>{c(!0),await a("/create/generate?ref=sites-dashboard"),c(!1)},[a]),{displayName:h,ariaLabel:p,icon:v}=z.mQ[z.n8.SITES];return(0,r.jsxs)(N.s,{flex:"1",mb:4*!(0,H.Xb)(),direction:"column",children:[(0,r.jsx)(f.az,{w:["100%","auto"],children:(0,r.jsx)(j.z,{h:"1.5em",children:(0,r.jsxs)(R.D,{fontSize:"lg",fontWeight:"600","data-testid":"sites-view-header",children:[(0,r.jsx)(_.g,{icon:v,"aria-label":p()})," ",(0,r.jsx)(P.E,{as:"span",ms:2,children:h})]})})}),o&&(0,r.jsxs)(N.s,{flex:"1",mb:4*!(0,H.Xb)(),direction:"column",children:[(0,r.jsxs)(g.B,{direction:{base:"column",lg:"row"},spacing:2,mt:4,children:[s&&(0,r.jsx)(M.$,{"data-testid":"create-from-aipartner-button",variant:"special",onClick:u,isLoading:d,leftIcon:(0,r.jsx)(_.g,{icon:S.QLR}),rightIcon:(0,r.jsx)(F.E,{textShadow:"none",children:"AI"}),children:(0,r.jsx)(x.x6,{id:"6/5iNu"})}),!(0,H.Xb)()&&(0,r.jsx)(M.$,{w:"auto","data-testid":"create-site-button",isDisabled:!n,variant:s?"plain":"solid",onClick:t,leftIcon:(0,r.jsx)(_.g,{icon:S.QLR}),children:(0,r.jsx)(x.x6,{id:"h3eRam"})})]}),(0,r.jsx)(w.B,{isOpen:e,onClose:i})]})]})};var G=i(16549),W=i(17345),Y=i(30083),V=i(89696),X=i(77650),Q=i(82203),$=i.n(Q),J=i(73867),q=i(74892),Z=i(46091),ee=i(44141),et=i(79596),ei=i(1069),en=i(58972),er=i(8972),el=i(20644),es=i(25938),eo=i(35908),ea=i(71262),ed=i(67039),ec=i(33987),eu=i(57470),ex=i(7959),eh=i(86747),ep=i(38859),em=i(70205),ej=i(51725),eg=i(31445),ef=i(80910),ev=i(88608);let eb=e=>{var t,i,n;let{site:l}=e,{isOpen:s,onOpen:o,onClose:a}=(0,m.j)({id:"site-menu-".concat(null==l?void 0:l.id)}),{isOpen:d,onOpen:c,onClose:u}=(0,m.j)({id:"site-menu-".concat(null==l?void 0:l.id)}),h=l&&(0,ee.jY)({site:l,path:"/"});return l?(0,r.jsxs)(et.W,{isLazy:!0,closeOnSelect:!1,children:[(0,r.jsx)(ei.I,{"data-dashboard-site-menu":!0,as:en.K,size:"xs",variant:"ghost",borderRadius:"full",onClick:o,icon:(0,r.jsx)(_.g,{fixedWidth:!0,icon:S.vHW}),color:"gray.400",_hover:{color:"gray.800",bg:"gray.200"},children:(0,r.jsx)(x.x6,{id:"7L01XJ"})}),s&&l&&(0,r.jsx)(er.Z,{children:(0,r.jsxs)(el.c,{maxW:"sm",zIndex:"overlay",children:[(0,r.jsxs)(f.az,{px:4,py:0,wordBreak:"break-word",children:[(0,r.jsx)(P.E,{children:null==l?void 0:l.name}),(0,r.jsx)(P.E,{fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,r.jsx)(x.x6,{id:"MXSt4t",values:{0:(0,ev.Yq)(null==l?void 0:l.createdTime,"MMMM do, yyyy")}})}),(null==l||null==(t=l.createdBy)?void 0:t.email)&&(null==l||null==(i=l.createdBy)?void 0:i.email)&&(0,r.jsx)(ef.Tz,{label:null==l||null==(n=l.createdBy)?void 0:n.email,children:(0,r.jsx)(P.E,{display:"inline-block",fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,r.jsx)(x.x6,{id:"t490IT",values:{0:l.createdBy.displayName}})})})]}),(null==l?void 0:l.currentDeployment)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(es.N,{}),(0,r.jsx)(eo.D,{onClick:c,icon:(0,r.jsx)(_.g,{fixedWidth:!0,icon:S.$3n}),children:(0,r.jsx)(x.x6,{id:"aKkjQq"})})]}),h&&(null==l?void 0:l.currentDeployment)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(es.N,{}),(0,r.jsx)(eo.D,{href:h,as:$(),target:"_blank",icon:(0,r.jsx)(_.g,{fixedWidth:!0,icon:S.fLi}),children:(0,r.jsx)(x.x6,{id:"OHFiKG"})})]})]})}),(0,r.jsx)(eE,{isOpen:d,onClose:u})]}):(0,r.jsx)(r.Fragment,{})},eE=e=>{let{isOpen:t,onClose:i}=e,n=(0,ef.lp)("Mod+A"),l=(0,ef.lp)("Mod+C"),s=(0,ef.lp)("Mod+V"),o=(0,ef.lp)("Shift+click");return(0,r.jsxs)(ea.aF,{blockScrollOnMount:!1,isOpen:t,onClose:i,size:"2xl",children:[(0,r.jsx)(ed.m,{}),(0,r.jsxs)(ec.$,{children:[(0,r.jsx)(eu.r,{children:(0,r.jsx)(x.x6,{id:"aKkjQq"})}),(0,r.jsx)(ex.s,{}),(0,r.jsx)(eh.c,{children:(0,r.jsxs)(g.B,{spacing:"3",children:[(0,r.jsx)(P.E,{children:(0,r.jsx)(x.x6,{id:"jMrUjv",components:{0:(0,r.jsx)("strong",{})}})}),(0,r.jsxs)(ep.F,{children:[(0,r.jsx)(em._,{}),(0,r.jsxs)(g.B,{spacing:"1",children:[(0,r.jsx)(P.E,{fontWeight:"700",children:(0,r.jsx)(x.x6,{id:"7L2CH/"})}),(0,r.jsx)(P.E,{children:(0,r.jsx)(x.x6,{id:"vQ3sVj",values:{selectMultipleCommand:o,pasteShortcut:s},components:{0:(0,r.jsx)(ej.u,{}),1:(0,r.jsx)("strong",{}),2:(0,r.jsx)(ej.u,{})}})})]})]}),(0,r.jsx)(Y._,{borderRadius:"md",src:"https://static.gamma.app/images/copy-cards-tutorial-7802f23d.gif"}),(0,r.jsx)(ep.F,{colorScheme:"gray",fontSize:"sm",children:(0,r.jsx)(P.E,{fontSize:"sm",children:(0,r.jsx)(x.x6,{id:"KoiAlx",values:{selectAllShortcut:n,copyShortcut:l,pasteShortcut:s},components:{0:(0,r.jsx)(ej.u,{}),1:(0,r.jsx)(ej.u,{}),2:(0,r.jsx)(ej.u,{})}})})})]})}),(0,r.jsx)(eg.j,{children:(0,r.jsx)(M.$,{variant:"solid",onClick:i,children:(0,r.jsx)(x.x6,{id:"DPfwMq"})})})]})]})},ey=e=>"recent"===e||"favorites"===e,eS=e=>({all:{ready:!0,filter:{}},recent:{ready:!0,filter:{sortBy:{field:I.vY2.LastViewed,direction:I.UEL.Desc}}},private:{ready:!0,filter:{isPrivate:!0}},createdByYou:{ready:!!e,filter:{createdBy:null==e?void 0:e.id}},favorites:{ready:!0,filter:{sortBy:{field:I.vY2.Favorited,direction:I.UEL.Desc}}}}),e_=e=>{let{sortBy:t,filterBy:i,docUser:n,doc:l}=e;if("favorites"===i)return(0,r.jsx)(x.x6,{id:"8a9FIL",values:{0:(0,ev.Bo)(null==n?void 0:n.favorited)}});if("recent"===i)return(0,r.jsx)(x.x6,{id:"yJynx8",values:{0:(0,ev.Bo)(null==n?void 0:n.lastViewed)}});let s={[I.vY2.LastViewed]:(0,r.jsx)(x.x6,{id:"yJynx8",values:{0:(0,ev.Bo)(null==n?void 0:n.lastViewed)}}),[I.vY2.CreatedTime]:(0,r.jsx)(x.x6,{id:"oJFw5Q",values:{0:(0,ev.Bo)(null==l?void 0:l.createdTime)}}),[I.vY2.EditedTime]:(0,r.jsx)(x.x6,{id:"yxz5Og",values:{0:(0,ev.Bo)(null==l?void 0:l.editedTime)}})};return(null==s?void 0:s[t])||(0,r.jsx)(x.x6,{id:"yxz5Og",values:{0:(0,ev.Bo)(null==l?void 0:l.editedTime)}})};var eC=i(70006);let eA=e=>{var t;let{site:i,doc:n,sortBy:s,filterBy:o,isOffline:a}=e,{user:d}=(0,B.ur)(),c=(null==i?void 0:i.createdBy)||(null==n?void 0:n.createdBy),u=(null==i?void 0:i.previewUrl)||(null==n||null==(t=n.titleCard)?void 0:t.previewUrl),{docUser:h}=n||{},p=n&&e_({sortBy:s,docUser:h,filterBy:o,doc:n}),m=null==i?void 0:i.id,v=(null==n?void 0:n.id)?n.id:i&&"routes"in i?(0,ee.FX)(i):void 0,b=(0,ee.H3)((0,ee.yo)(null==i?void 0:i.domains))[0],y=(0,l.useMemo)(()=>v&&m&&(0,eC.pF)({docId:v}),[v,m]),C=(null==i?void 0:i.enabled)&&!(null==i?void 0:i.archived)&&!(null==n?void 0:n.archived)&&!a;return y?(0,r.jsxs)(G.Q,{as:E.E,bg:"linen.50",borderRadius:"5px",shadow:"md",_focusWithin:{shadow:"outline",_hover:{shadow:"outline"}},cursor:"pointer",_hover:{shadow:"lg",bgColor:"gray.100"},transition:"box-shadow .2s ease",role:"group",className:"highlight-mask",children:[(0,r.jsx)(f.az,{pos:"absolute",top:-2,insetStart:2,insetEnd:2,bottom:"calc(66%)",border:"1px solid var(--chakra-colors-blackAlpha-300)",bg:"whiteAlpha.600",zIndex:0,borderRadius:"md"}),(0,r.jsx)(f.az,{pos:"absolute",top:-1,insetStart:1,insetEnd:1,bottom:"calc(66%)",bg:"whiteAlpha.900",border:"1px solid var(--chakra-colors-blackAlpha-400)",zIndex:0,borderRadius:"md"}),(0,r.jsxs)(N.s,{direction:"column",wordBreak:"break-word",alignContent:"space-between",height:"100%",bg:"neutral.background.white",_hover:{bgColor:"gray.100"},borderBottomRadius:"md",children:[(0,r.jsx)(G.r,{href:y,as:$(),borderRadius:"md",children:(0,r.jsx)(W.g,{ratio:40/21,bgColor:"gray.100",children:(0,r.jsxs)(N.s,{borderBottomWidth:"1px",borderBottomColor:"gray.100",pos:"relative",overflow:"hidden",borderTopRadius:"md",children:[(0,r.jsx)(Y._,{src:u,fit:"cover",fallbackSrc:q.A.src}),(null==i?void 0:i.enabled)&&(0,r.jsx)(F.E,{pos:"absolute",size:"xs",bottom:2,insetStart:2,colorScheme:"blackAlpha",bg:"gray.100",color:"gray.600",textTransform:"none",children:(0,r.jsxs)(j.z,{spacing:1,children:[(0,r.jsx)(_.g,{fixedWidth:!0,icon:S.Ge5}),(0,r.jsx)(P.E,{children:(0,r.jsx)(x.x6,{id:"ebQKK7"})})]})})]})})}),(0,r.jsxs)(N.s,{p:3,position:"relative",direction:"column",justifyContent:"space-between",h:"100%",alignItems:"flex-start",children:[(0,r.jsx)(G.r,{href:y,as:$(),children:(0,r.jsxs)(g.B,{spacing:0,mb:2,children:[(0,r.jsx)(P.E,{noOfLines:2,children:null==i?void 0:i.name}),(0,r.jsxs)(j.z,{children:[(null==i?void 0:i.faviconUrl)&&(0,r.jsx)(Y._,{maxW:"16px",maxH:"16px",src:null==i?void 0:i.faviconUrl}),(0,r.jsx)(P.E,{noOfLines:1,color:"gray.500",fontSize:"xs",wordBreak:"break-all",children:null==b?void 0:b.name})]})]})}),(0,r.jsx)(N.s,{direction:"column",w:"100%",children:(0,r.jsxs)(N.s,{mt:2,align:"flex-start",w:"100%",justify:"space-between",children:[c&&(0,r.jsx)(J.S,{createdByYou:c.id===(null==d?void 0:d.id),createdByName:c.displayName||X.Ru._({id:"rtir7c"}),createdByProfileImageUrl:c.profileImageUrl,timestampDescription:p}),(0,r.jsx)(V.h,{}),C&&(0,r.jsx)(eb,{site:i})]})})]})]})]}):(0,r.jsx)(r.Fragment,{})},eL=(0,Z.A)(eA);var eO=i(75748);let eT=e=>t=>{let{isInOfflineMode:i}=(0,h.u)(),{offlineHeading:n,offlineDescription:l,...s}=t;return i?(0,r.jsx)(N.s,{h:"100%",w:"100%",direction:"column",justifyContent:"center",children:(0,r.jsx)(eO.r,{isConnected:!1,heading:n,description:l,size:"lg",bg:"none"})}):(0,r.jsx)(e,{...s})};var eI=i(26545);let eD={base:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)",xl:"repeat(4, 1fr)","2xl":"repeat(5, 1fr)"},ek=eT(e=>{let{isSidebarVisible:t,setIsSidebarVisible:i}=e,{currentWorkspace:n}=(0,B.ur)(),s=(0,D.u)("createSiteAi"),{push:o}=(0,L.useRouter)(),{isOpen:a,onOpen:d,onClose:c}=(0,m.j)({id:"create-site-modal"}),[u,h]=(0,l.useState)(!1),{data:p,loading:C,error:O}=(0,I._qT)({variables:{workspaceId:null==n?void 0:n.id},skip:!(null==n?void 0:n.id),fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),N=(0,l.useCallback)(async()=>{s?(h(!0),await o("/create/generate?ref=sites-dashboard"),h(!1)):d()},[s,d,o]),R=(null==p?void 0:p.sites)&&A()(null==p?void 0:p.sites,"updatedTime","desc");return!R||0!==R.length||C||O?(0,r.jsxs)(f.az,{w:"100%","data-testid":"sites-view-container",children:[(0,r.jsx)(eI.e,{isSidebarVisible:t,setIsSidebarVisible:i,children:(0,r.jsx)(U,{})}),(0,r.jsxs)(g.B,{children:[C&&(0,r.jsxs)(b.x,{templateColumns:eD,gap:6,children:[(0,r.jsx)(E.E,{bg:"linen.50",borderRadius:"5px",height:"200px",as:y.E}),(0,r.jsx)(E.E,{bg:"linen.50",borderRadius:"5px",height:"200px",as:y.E}),(0,r.jsx)(E.E,{bg:"linen.50",borderRadius:"5px",height:"200px",as:y.E})]}),!C&&!O&&(0,r.jsx)(b.x,{templateColumns:eD,gap:6,children:null==R?void 0:R.map(e=>(0,r.jsx)(eA,{site:e},e.id))})]}),(0,r.jsx)(w.B,{isOpen:a,onClose:c})]}):(0,r.jsxs)(j.z,{spacing:4,flex:1,h:"100%",maxW:"3xl",margin:"auto",children:[(0,r.jsx)(g.B,{align:"flex-start",justify:"center",spacing:6,flex:1,children:(0,r.jsx)(f.az,{alignSelf:"center",children:(0,r.jsx)(T.p,{title:(0,r.jsx)(x.x6,{id:"A18DXx"}),description:(0,r.jsx)(x.x6,{id:"49K0aF"}),primaryActionLabel:(0,r.jsx)(x.x6,{id:"JHMOcq"}),onPrimaryAction:N,primaryButtonProps:{leftIcon:(0,r.jsx)(_.g,{icon:S.QLR}),isLoading:u},secondaryActionLabel:(0,r.jsx)(x.x6,{id:"zwWKhA"}),secondaryButtonProps:{rightIcon:(0,r.jsx)(_.g,{icon:S.vMs}),as:v.N,href:k.C.CREATE_SITE,isExternal:!0}})})}),(0,r.jsx)(w.B,{isOpen:a,onClose:c})]})});var ew=i(87796),eB=i(28718),eN=i(86336),eR=i(65524),eP=i(21559),eM=i(20664),eF=i(72737),eK=i(98694);let ez=e=>'[data-doc-grid-item-id="'.concat(e,'"]'),eH=l.memo(e=>{let{user:t,currentWorkspace:i,currentChannelId:n,viewPreference:s}=e,o=(0,D.u)("screenshotsEnabled"),a=(0,l.useRef)(null),d=(0,l.useRef)(null),[c,u]=(0,l.useState)(null),x=(0,eP.u)().getMonitor();(0,l.useEffect)(()=>x.subscribeToOffsetChange(()=>{if(!x.getItem()||!a.current||!d.current)return;let e=x.getClientOffset();if(!e)return;let{x:t,y:i}=e;a.current.style.transform="translate(".concat(t,"px, ").concat(i,"px)")}),[x]),(0,l.useEffect)(()=>x.subscribeToStateChange(()=>{let e=x.getItemType(),t=x.getItem();if(e!==eK.v||null===t){u(null),a.current.style.transform="translate(0px, 0px)";return}let i=document.querySelector(ez(t.id));if(i){let e=i.getBoundingClientRect();d.current.style.width="".concat(e.width,"px"),d.current.style.height="".concat(e.height,"px")}u(t)}),[x]);let h=(0,l.useMemo)(()=>{var e,l,a,d,u;if(!c)return null;let x=(0,eF.PR)({doc:c,user:t,currentWorkspace:i,channelToExclude:n}),h={src:o?null==(e=c.titleCard)?void 0:e.previewUrl:q.A.src,fallbackSrc:q.A.src};return"list"===s?(0,r.jsx)(ew.X,{width:"100%",children:(0,r.jsxs)(eB.Tr,{children:[(0,r.jsx)(eN.Td,{}),(0,r.jsx)(eN.Td,{w:"50%",children:c.title||""}),(0,r.jsx)(eN.Td,{children:(0,r.jsx)(ef.Op,{tags:x,NextLink:$()})}),(0,r.jsx)(eN.Td,{color:"gray.600"}),(0,r.jsx)(eN.Td,{children:(0,r.jsxs)(j.z,{children:[(0,r.jsx)(eR.e,{shadow:"md",borderWidth:"1px",size:"xs",src:null==c||null==(d=c.createdBy)?void 0:d.profileImageUrl}),(0,r.jsx)(P.E,{children:null==c||null==(u=c.createdBy)?void 0:u.displayName})]})})]})}):(0,r.jsx)(eM.Dg,{id:"temp",title:c.title||"",thumbnailImageUrl:h,NextLink:N.s,createdTime:c.createdTime,href:"",editors:c.editors,tags:x,createdByName:(null==(l=c.createdBy)?void 0:l.displayName)||"",createdByProfileImageUrl:null==(a=c.createdBy)?void 0:a.profileImageUrl,createdByEmail:"",menuEnabled:!1})},[c,t,i,o,n,s]);return(0,r.jsx)(er.Z,{children:(0,r.jsx)(N.s,{ref:a,display:c?"block":"none",position:"fixed",pointerEvents:"none",zIndex:"overlay",left:0,top:0,children:(0,r.jsx)(N.s,{ref:d,transform:"scale(".concat(c?.5:1,")"),transition:"transform .2s ease",transformOrigin:"0 0",children:h})})})});eH.displayName="DocGridItemCustomDragLayer";var eU=i(51888);function eG(){return n||((n=new Image).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),n}let eW=(0,l.memo)(e=>{let{user:t,currentWorkspace:i,doc:n,currentChannelId:s,sortBy:o,filterBy:a,canDuplicate:d,canEditDoc:c,canManageDoc:u,createdByYou:x,isOffline:h,handleDuplicateDoc:p,handleFavoriteDoc:m,handleTrash:j,handlePermanentDelete:g,handleRestoreDoc:f,handleShareClick:v,handleRenameClick:b,handleRemoveFromChannel:E}=e,{id:y,title:S,createdTime:_,archived:C,titleCard:A,docUser:L,createdBy:O}=n,T=e_({sortBy:o,docUser:L,filterBy:a,doc:n}),I=(0,D.u)("screenshotsEnabled"),k=(0,eF.PR)({doc:n,user:t,currentWorkspace:i,channelToExclude:s}),w={src:I?null==A?void 0:A.previewUrl:q.A.src,fallbackSrc:q.A.src},B=(0,H.Xb)(),N=(0,D.u)("mobileSharePanel")&&B?u:c,R=!!s,P=!!n.site,[M,F,K]=(0,eU.i)({type:eK.v,item:()=>n,options:{dropEffect:"copy",doc:n},collect:e=>({isDragging:e.isDragging()})},[u,n]);return((0,l.useEffect)(()=>{K(eG())},[K]),P)?(0,r.jsx)(eL,{site:n.site,doc:n,filterBy:a,sortBy:o,isOffline:h}):(0,r.jsx)(eM.Dg,{ref:F,id:y,title:S||"",thumbnailImageUrl:w,NextLink:$(),href:(0,eC.LN)({docId:y}),createdByYou:x,createdTime:_,timestampDescription:T,createdByName:(null==O?void 0:O.displayName)||"",createdByProfileImageUrl:null==O?void 0:O.profileImageUrl,createdByEmail:(null==O?void 0:O.email)||"",isDuplicateEnabled:d,isShareEnabled:N,isRenameEnabled:c,isTrashAndRestoreEnabled:u,isTrashed:C,isFavorited:!!(null==L?void 0:L.favorited),isRemoveFromChannelEnabled:R,onDuplicate:()=>p(n),onFavorite:m(new Date,n),onUnfavorite:m(null,n),onTrash:()=>j(n.id),onPermanentDelete:g?()=>g(n):void 0,onRestore:()=>f(n.id),onShareClick:()=>v(n.id),onRename:()=>b(n),onRemoveFromChannel:()=>E(n,s),tags:k,menuEnabled:!h,isOffline:h},y)});eW.displayName="DocGridItemWrapper";var eY=i(47561),eV=i(9298),eX=i(64871);let eQ=e=>{var t;let{sortBy:i,sortDirection:n,setSortBy:l,setSortDirection:s,size:o="sm",dateDisplayOption:a,setDateDisplayOption:d,options:c,showSortOrderToggle:u,disableSorting:h}=e;return(0,r.jsxs)(eV.e,{variant:"ghost",colorScheme:"blackAlpha",size:o,ml:-3,children:[(0,r.jsxs)(et.W,{closeOnSelect:!1,children:[(0,r.jsx)(ei.I,{as:M.$,isDisabled:h,variant:"ghost",size:o,rightIcon:(0,r.jsx)(_.g,{icon:S.Jt$,"aria-label":"Open menu"}),fontWeight:"600",color:"gray.500",children:(null==(t=c.find(e=>e.key===a))?void 0:t.label)||"Date"}),(0,r.jsx)(er.Z,{children:(0,r.jsx)(el.c,{minWidth:"240px",children:(0,r.jsx)(eX.i,{fontSize:"sm",defaultValue:"alpha",title:X.Ru._({id:"IEY4J0"}),type:"radio",children:c.map(e=>{let t=a===e.key;return(0,r.jsx)(eo.D,{icon:t?(0,r.jsx)(eY.S,{}):(0,r.jsx)(f.az,{w:3}),value:e.key,onClick:()=>{d(e.key),l(e.key),s(I.UEL.Desc)},children:e.label},e.key)})})})})]}),u&&(0,r.jsx)(ef.Tz,{label:(0,r.jsx)(x.x6,{id:"TZml21"}),children:(0,r.jsx)(en.K,{color:"title"!==i?"gray.700":"gray.300",isDisabled:h,"aria-label":"sort",onClick:()=>{i!==I.vY2.Title?s(n===I.UEL.Asc?I.UEL.Desc:I.UEL.Asc):s(I.UEL.Desc),l(a)},icon:(0,r.jsx)(_.g,{icon:S.rLo})})})]})};var e$=i(9969),eJ=i(67165),eq=i(99712),eZ=i(62679),e0=i(55597),e1=i(38944),e6=i(79958),e2=i(39199),e5=i(36529),e4=i(67604);let e3=e=>{var t,i;let{doc:n,dateDisplayOption:r}=e,l=null==n?void 0:n.updatedTime;r===I.vY2.LastViewed&&(l=null==n||null==(t=n.docUser)?void 0:t.lastViewed),r===I.vY2.Favorited&&(l=null==n||null==(i=n.docUser)?void 0:i.favorited),r===I.vY2.CreatedTime&&(l=null==n?void 0:n.createdTime);try{return"".concat((0,e5.A)(new Date,(0,e4.A)(l))," ago")}catch(e){return"--"}},e8=(0,Z.A)(e=>{var t,i,n;let{doc:l,dateDisplayOption:s}=e,o=(0,eC.LN)({docId:l.id}),a=e3({doc:l,dateDisplayOption:s}),{site:d}=l||{};return(0,r.jsxs)(eB.Tr,{_hover:{bg:"blackAlpha.50"},role:"group","data-doc-list-item-id":l.id,children:[(0,r.jsx)(eN.Td,{}),(0,r.jsx)(eN.Td,{minW:"280px",children:(0,r.jsxs)(j.z,{children:[(0,r.jsx)($(),{href:o,passHref:!0,legacyBehavior:!0,children:(0,r.jsx)(v.N,{_hover:{color:"var(--chakra-colors-trueblue-500) !important"},children:(null==d?void 0:d.name)||l.title})}),(0,r.jsx)(F.E,{size:"xs",colorScheme:"blackAlpha",bg:"gray.100",color:"gray.600",textTransform:"none",children:(0,r.jsxs)(j.z,{spacing:1,children:[(0,r.jsx)(_.g,{fixedWidth:!0,icon:S.Ge5}),(0,r.jsx)(P.E,{children:(0,r.jsx)(x.x6,{id:"ebQKK7"})})]})}),(null==d?void 0:d.routes)&&(null==d||null==(t=d.routes)?void 0:t.length)>1&&(0,r.jsx)(F.E,{colorScheme:"blackAlpha",bg:"gray.100",color:"gray.600",children:(0,r.jsxs)(j.z,{spacing:1,children:[(0,r.jsx)(_.g,{fixedWidth:!0,icon:S.vGi}),(0,r.jsx)(P.E,{children:null==d?void 0:d.routes.length})]})})]})}),(0,r.jsx)(eN.Td,{zIndex:2,_groupHover:{opacity:1}}),(0,r.jsx)(eN.Td,{color:"gray.600",pr:-2,children:(0,r.jsx)(P.E,{children:a})}),(0,r.jsx)(eN.Td,{alignContent:"center",pr:-2,children:(0,r.jsxs)(j.z,{children:[(0,r.jsx)(eR.e,{shadow:"md",borderWidth:"1px",size:"xs",src:null==l||null==(i=l.createdBy)?void 0:i.profileImageUrl}),(0,r.jsx)(P.E,{children:null==l||null==(n=l.createdBy)?void 0:n.displayName})]})}),(0,r.jsx)(eN.Td,{isNumeric:!0,children:(0,r.jsx)(eb,{site:l.site})})]},l.id)}),e9=e=>{var t,i;let{doc:n,dateDisplayOption:r}=e,l=null==n?void 0:n.updatedTime;r===I.vY2.LastViewed&&(l=null==n||null==(t=n.docUser)?void 0:t.lastViewed),r===I.vY2.Favorited&&(l=null==n||null==(i=n.docUser)?void 0:i.favorited),r===I.vY2.CreatedTime&&(l=null==n?void 0:n.createdTime);try{return"".concat((0,e5.A)(new Date,(0,e4.A)(l))," ago")}catch(e){return"--"}},e7=e=>{var t,i,n;let{doc:s,handleShareClick:o,dateDisplayOption:a,tags:d,handleFavoriteDoc:c,user:u,menu:p,canManageDoc:m}=e,{isInOfflineMode:g}=(0,h.u)(),f=(0,eC.LN)({docId:s.id}),b=e9({doc:s,dateDisplayOption:a}),[E,y,S]=(0,eU.i)({type:eK.v,item:()=>s,options:{dropEffect:"copy",doc:s},collect:e=>({isDragging:e.isDragging()})},[m,s]);(0,l.useEffect)(()=>{S(eG())},[S]);let _=!!(null==s||null==(t=s.docUser)?void 0:t.favorited);return s.site?(0,r.jsx)(e8,{doc:s,dateDisplayOption:a}):(0,r.jsxs)(eB.Tr,{ref:y,_hover:{bg:"blackAlpha.50"},role:"group","data-doc-list-item-id":s.id,children:[(0,r.jsx)(eN.Td,{children:c&&(!g||_)&&(0,r.jsx)(eM.Zu,{isFavorited:_,onFavorite:c(new Date,s),onUnfavorite:c(null,s),disableInteractions:g})}),(0,r.jsx)(eN.Td,{minW:"280px",children:(0,r.jsx)($(),{href:f,passHref:!0,legacyBehavior:!0,children:(0,r.jsx)(v.N,{_hover:{color:"var(--chakra-colors-trueblue-500) !important"},children:s.title||""})})}),(0,r.jsx)(eN.Td,{zIndex:2,_groupHover:{opacity:1},children:(0,r.jsxs)(e2.B,{_groupHover:{opacity:1},children:[(0,r.jsx)(ef.Op,{tags:d,NextLink:$(),overflowButtonLabel:X.Ru._({id:"K0UBDD"}),isDisabled:g}),!g&&(0,eF.U5)(s,u)?(0,r.jsxs)(M.$,{size:"xs",variant:"ghost",colorScheme:"blackAlpha",fontWeight:"500",_hover:{color:"gray.800",bg:"blackAlpha.50"},opacity:0,_groupHover:{opacity:1},transitionProperty:"none",onClick:()=>o(s.id),children:[(0,r.jsx)(x.x6,{id:"Z8lGw6"}),"…"]}):null]})}),(0,r.jsx)(eN.Td,{color:"gray.600",pr:-2,children:(0,r.jsx)(P.E,{children:b})}),(0,r.jsx)(eN.Td,{alignContent:"center",pr:-2,children:(0,r.jsxs)(j.z,{children:[(0,r.jsx)(eR.e,{shadow:"md",borderWidth:"1px",size:"xs",src:null==s||null==(i=s.createdBy)?void 0:i.profileImageUrl}),(0,r.jsx)(P.E,{children:null==s||null==(n=s.createdBy)?void 0:n.displayName})]})}),(0,r.jsx)(eN.Td,{isNumeric:!0,children:!g&&!!p&&p})]},s.id)},te=(e,t)=>{let i=ey(e),n=i?e1.CW:e1.Zv;return{displayOptions:n,showSortOrderToggle:!i||"recent"===e&&t===I.vY2.LastViewed||"favorites"===e&&t===I.vY2.Favorited,enableTitleSort:!i}},tt=e=>{let{user:t,currentWorkspace:i,userHasNoWorkspaces:n,docs:l,currentChannelId:s,dateDisplayOption:o,sortBy:a,sortDirection:d,setDateDisplayOption:c,setSortBy:u,setSortDirection:h,filterBy:p,isOffline:m,handleDuplicateDoc:j,handleFavoriteDoc:g,handleTrash:v,handlePermanentDelete:b,handleRestoreDoc:E,handleShareClick:y,handleRenameClick:S,handleRemoveFromChannel:C}=e,A=(0,B.IM)(),{displayOptions:L,showSortOrderToggle:O,enableTitleSort:T}=te(p,o);return(0,r.jsx)(e$.K,{pt:4,maxW:"100%",children:(0,r.jsxs)(ew.X,{colorScheme:"blackAlpha",size:"sm",whiteSpace:"normal",variant:"simple",children:[(0,r.jsx)(eJ.d,{children:(0,r.jsxs)(eB.Tr,{color:"gray.800",children:[(0,r.jsx)(eq.Th,{w:4}),(0,r.jsxs)(eq.Th,{justifyContent:"space-between",minW:"280px",children:[T&&(0,r.jsx)(M.$,{ml:-3,size:"sm",color:"gray.500",variant:"ghost",colorScheme:"blackAlpha","aria-label":"sort",onClick:()=>{u(I.vY2.Title),h(d===I.UEL.Asc?I.UEL.Desc:I.UEL.Asc)},rightIcon:(0,r.jsx)(f.az,{color:a===I.vY2.Title?"gray.700":"gray.300",children:(0,r.jsx)(_.g,{icon:a===I.vY2.Title?d===I.UEL.Asc?e0.xBV:e0.S$_:e0.OM7})}),children:(0,r.jsx)(x.x6,{id:"MHrjPM"})}),!T&&(0,r.jsx)(x.x6,{id:"MHrjPM"})]}),(0,r.jsx)(eq.Th,{children:(0,r.jsx)(x.x6,{id:"HSh8u/"})}),(0,r.jsx)(eq.Th,{w:32,pr:-2,children:(0,r.jsx)(eQ,{size:"sm",sortBy:a,sortDirection:d,setSortBy:u,setSortDirection:h,options:L,showSortOrderToggle:O,exclude:[I.vY2.Title],dateDisplayOption:o,setDateDisplayOption:c,disableSorting:m})}),(0,r.jsx)(eq.Th,{w:32,children:(0,r.jsx)(x.x6,{id:"UE2beD"})}),(0,r.jsx)(eq.Th,{})]})}),(0,r.jsx)(eZ.N,{children:null==l?void 0:l.map(e=>{var l,a,d;let c=A.can("view",e)&&!n,u=A.can("manage",e)&&!n,x=A.can("edit",e)&&!n,h=(0,eF.PR)({doc:e,user:t,currentWorkspace:i,channelToExclude:s}),p=!!s;return(0,r.jsx)(e7,{canManageDoc:u,user:t,tags:h,doc:e,dateDisplayOption:o,handleFavoriteDoc:g,handleShareClick:y,menu:(0,r.jsx)(eM.MD,{href:(0,eC.LN)({docId:e.id}),title:(0,e6.B)(e.title),createdByName:(null==e||null==(l=e.createdBy)?void 0:l.displayName)||"",createdByEmail:(null==e||null==(a=e.createdBy)?void 0:a.email)||"",createdTime:e.createdTime,isDuplicateEnabled:c,isTrashAndRestoreEnabled:u,isRenameEnabled:x,isRemoveFromChannelEnabled:p,isShareEnabled:x,isTrashed:!!(null==e?void 0:e.archived),isFavorited:null==(d=e.docUser)?void 0:d.favorited,onDuplicate:()=>j(e),onFavorite:g(new Date,e),onUnfavorite:g(null,e),onTrash:()=>v(e.id),onPermanentDelete:b?()=>b(e):void 0,onRestore:()=>E(e.id),onShareClick:()=>y(e.id),onRename:()=>S(e),onRemoveFromChannel:()=>C(e,s)})},e.id)})})]})})};var ti=i(26028),tn=i(49309),tr=i(38451),tl=i(99038);let ts=e=>{let{refetchQueries:t}=e,{user:i}=(0,B.ur)(),n=(0,tr.d)(),[s]=(0,I.fQ5)({refetchQueries:t}),[o,{loading:a}]=(0,I.UpM)({refetchQueries:t}),[d]=(0,I.u6W)({refetchQueries:t}),[c]=(0,I.D7K)({refetchQueries:t}),u=(0,l.useCallback)((e,t)=>()=>{if(!i||!t)return;let n={input:{docId:t.id,userId:null==i?void 0:i.id,favorited:e}};c({variables:n,update:(e,i)=>{let{data:n}=i;e.writeFragment({id:"Doc:".concat(t.id),fragment:I.pfv,data:{docUser:null==n?void 0:n.updateDocUser}})},optimisticResponse:{updateDocUser:{...t.docUser,favorited:n.input.favorited,__typename:"DocUser"}}})},[c,i]),h=(0,l.useCallback)(e=>{let t={id:e};d({variables:t,optimisticResponse:{unarchiveDoc:{...t,archived:!1,__typename:"Doc"}}}).then(()=>{n({title:(0,r.jsx)(x.x6,{id:"nRyNMz"}),status:"success",duration:1e4,position:"top"})})},[d,n]),p=(0,l.useCallback)(e=>{let t={id:e};s({variables:t,optimisticResponse:{archiveDoc:{...t,archived:!0,__typename:"Doc"}}}).then(()=>{n({title:(0,r.jsxs)(P.E,{children:[(0,r.jsx)(x.x6,{id:"i3Wq9L",values:{GAMMA_ARTIFACT_PROPER_NOUN:tl.TP}})," ",(0,r.jsx)(v.N,{textDecoration:"underline",onClick:()=>h(e),children:(0,r.jsx)(x.x6,{id:"9uI/rE"})})]}),status:"success",duration:3e3,position:"top",isClosable:!0})})},[s,h,n]);return{favoriteDoc:u,restoreDoc:h,trashDoc:p,permanentlyDeleteDoc:(0,l.useCallback)(e=>o({variables:{id:e},update:t=>{t.evict({id:t.identify({__typename:"Doc",id:e})}),t.gc()},optimisticResponse:{deleteDoc:e}}).then(()=>{n({title:(0,r.jsx)(x.x6,{id:"sOg7tZ",values:{GAMMA_ARTIFACT_PROPER_NOUN:tl.TP}}),position:"top",status:"success",duration:3e3})}).catch(()=>{n({title:(0,r.jsx)(x.x6,{id:"SlfejT"}),description:(0,r.jsx)(x.x6,{id:"fWsBTs"}),status:"error",duration:3e3,position:"top",isClosable:!0})}),[o,n]),isPermanentlyDeletingDoc:a}},to=e=>{let{onClose:t,doc:i}=e,{permanentlyDeleteDoc:n,isPermanentlyDeletingDoc:s}=ts({refetchQueries:["GetDocs","GetChannelDocActivity"]}),o=(0,l.useCallback)(()=>{n&&n(i.id).then(t)},[i.id,t,n]);return(0,r.jsxs)(ea.aF,{onClose:t,isOpen:!0,children:[(0,r.jsx)(ed.m,{}),(0,r.jsxs)(ec.$,{children:[(0,r.jsx)(eu.r,{children:(0,r.jsx)(x.x6,{id:"u85NBF"})}),(0,r.jsx)(ex.s,{isDisabled:s}),(0,r.jsx)(eh.c,{children:(0,r.jsxs)(g.B,{spacing:4,children:[(0,r.jsx)(P.E,{children:(0,r.jsx)(x.x6,{id:"dLUUOA",values:{0:i.title}})}),(0,r.jsx)(P.E,{color:"red.500",children:(0,r.jsx)(x.x6,{id:"2xOCJW"})})]})}),(0,r.jsx)(eg.j,{children:(0,r.jsxs)(eV.e,{children:[(0,r.jsx)(M.$,{variant:"ghost",onClick:t,children:(0,r.jsx)(x.x6,{id:"dEgA5A"})}),(0,r.jsx)(M.$,{variant:"ghost",colorScheme:"red",onClick:o,isLoading:s,children:(0,r.jsx)(x.x6,{id:"0Lbaux"})})]})})]})]})};var ta=i(25312),td=i(11525),tc=i(18351),tu=i(49405),tx=i(62927),th=i(5291),tp=i(25991),tm=i(15342);let tj=e=>{let{enabled:t,variables:i}=e,{data:n}=(0,I.JUt)({variables:i,skip:!t,fetchPolicy:"cache-only",nextFetchPolicy:"cache-only"}),r=(0,tm.GV)(tp.XH);return{docs:(0,l.useMemo)(()=>((null==n?void 0:n.docs.edges.map(e=>e.node))||[]).filter(e=>r.includes(e.id)),[n,r]),loading:!1,pageInfo:{hasNextPage:!1,hasPreviousPage:!1,startCursor:null,endCursor:null},fetchMore:async()=>{},showPaginationControls:!1,activeDocs:void 0}},tg=e=>{var t,i;let{activeTab:n,currentChannelId:r,channelPreview:s,filterBy:o,sortBy:a,sortDirection:d,user:c,currentWorkspace:u}=e,{isInOfflineMode:x}=(0,I.utY)(),h=(0,tm.GV)(tp.yy),p=(0,D.u)("channelActivity"),m={filter:{},ready:!0};r?m={filter:{channelId:r,...eS(c)[o].filter},ready:!0}:n===z.n8.ALL||n===z.n8.SHARED_WITH_YOU||n===z.n8.SITES?m=eS(c)[o]:n===z.n8.TRASH&&(m={filter:{archived:!0},ready:!0});let j={workspaceId:null==u?void 0:u.id,first:50,archived:!1,...m.filter,...{sortBy:{field:n===z.n8.TRASH?e1.Hd.includes(a)?I.vY2.EditedTime:a:"recent"===o?I.vY2.LastViewed:"favorites"===o?I.vY2.Favorited:a,direction:d}}},g=tj({enabled:h,variables:j}),f=!!(null==s?void 0:s.id),v=r||(null==s?void 0:s.id),{data:b,networkStatus:E,fetchMore:y}=(0,I.JUt)({variables:j,skip:!c||!m.ready||f||n===z.n8.SHARED_WITH_YOU,fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",notifyOnNetworkStatusChange:!0}),S=(0,th.go)();(0,l.useEffect)(()=>{S(((null==b?void 0:b.docs.edges.map(e=>e.node))||[]).map(e=>e.id),new Date().toISOString())},[b,S]);let{data:_}=(0,I.EDe)({variables:{first:50,channelId:null==s?void 0:s.id},skip:!f}),{data:C,networkStatus:A,fetchMore:L}=(0,I.eLs)({variables:j,skip:n!==z.n8.SHARED_WITH_YOU,fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",notifyOnNetworkStatusChange:!0}),O=!p||!v,{data:T,subscribeToMore:k}=(0,I.S$W)({variables:{first:50,channelId:v},skip:O,fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"});(0,l.useEffect)(()=>{if(k&&!O)return k({document:I.kPx,variables:{channelId:v},updateQuery:(e,t)=>{let{subscriptionData:i}=t;return i.data&&i.data.channelDocActivity?{channelDocActivity:{edges:i.data.channelDocActivity.slice(0,50).map(e=>({node:e})),pageInfo:e.channelDocActivity.pageInfo,__typename:"DocActivityConnection"}}:e}})},[v,k,O]);let w=f?null==_?void 0:_.previewChannelDocs:n===z.n8.SHARED_WITH_YOU?null==C?void 0:C.sharedDocs:null==b?void 0:b.docs,B=(null==T||null==(t=T.channelDocActivity)?void 0:t.edges)&&(null==T||null==(i=T.channelDocActivity)?void 0:i.edges.map(e=>e.node).filter(e=>e.editors&&e.editors.length>0||e.presenters&&e.presenters.length>0))||void 0,N=null==w?void 0:w.edges.map(e=>e.node).filter(e=>{var t;return!r||(null==e||null==(t=e.channels)?void 0:t.find(e=>e.id===r))}),R=null==b?void 0:b.docs.pageInfo,P=null==R?void 0:R.endCursor,M=y||L,F=(0,l.useCallback)(()=>M({variables:{after:P}}),[M,P]),K=[tx.p.loading,tx.p.setVariables].includes(E)||[tx.p.loading,tx.p.setVariables].includes(A),H=!K&&(null==R?void 0:R.hasNextPage)&&(null==R?void 0:R.endCursor);return x?g:{docs:N,loading:K,pageInfo:R,fetchMore:F,showPaginationControls:H,activeDocs:B}};var tf=i(6807),tv=i(65148);let tb=e=>{let{currentChannelId:t,activeTab:i}=e,[n,r]=(0,tf.M)(tv.E.viewPreferences,"grid"),[s,o]=(0,l.useState)(I.vY2.EditedTime),[a,d]=(0,l.useState)(I.UEL.Desc),[c,u]=(0,l.useState)(()=>t?"all":"recent"),[x,h]=(0,l.useState)(e1.eT);return(0,l.useEffect)(()=>{i===z.n8.ALL?u("recent"):u("all")},[t,i,u]),(0,l.useEffect)(()=>{"createdByYou"===c?(h(I.vY2.CreatedTime),o(I.vY2.CreatedTime)):"recent"===c?h(I.vY2.LastViewed):"favorites"===c?h(I.vY2.Favorited):(o(I.vY2.EditedTime),h(I.vY2.EditedTime))},[c,o,h]),{viewPreference:n,setViewPreference:r,sortBy:s,setSortBy:o,sortDirection:a,filterBy:c,setFilterBy:u,setSortDirection:d,dateDisplayOption:x,setDateDisplayOption:h}},tE=e=>{let{shared:t,trash:i}=e;return(0,r.jsx)(ti.o,{minH:"sm",pt:12,children:(0,r.jsx)(T.p,{title:(0,r.jsx)(x.x6,{id:"Fi5Y2s",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:tl.Ix}}),description:t?(0,r.jsx)(x.x6,{id:"RhQJH0",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:tl.Ix}}):i?(0,r.jsx)(x.x6,{id:"5o4MI2",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:tl.Ix}}):(0,r.jsx)(x.x6,{id:"a+m4bH",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:tl.Ix}}),primaryActionLabel:(0,r.jsx)(x.x6,{id:"4fP2xv",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:tl.Ix}}),primaryButtonProps:{as:$(),href:"/#".concat(e1.Jj)}})})};var ty=i(65100);let tS=[,,].fill(1),t_=[,,,,].fill(1),tC=e=>{let{viewPreference:t="grid"}=e;return"grid"===t?(0,r.jsx)(f.az,{width:"100%","data-testid":"docs-view-skeleton",children:(0,r.jsx)(b.x,{templateColumns:{base:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)",xl:"repeat(4, 1fr)","2xl":"repeat(5, 1fr)"},gap:6,children:tS.map((e,t)=>(0,r.jsx)(E.E,{bg:"linen.50",borderRadius:"5px",height:"240px",as:y.E},t))})}):(0,r.jsx)(f.az,{width:"100%","data-testid":"docs-view-skeleton",children:(0,r.jsx)(e$.K,{pt:4,maxW:"100%",children:(0,r.jsx)(ew.X,{colorScheme:"blackAlpha",size:"sm",whiteSpace:"normal",variant:"simple",children:(0,r.jsx)(eZ.N,{children:t_.map((e,t)=>(0,r.jsx)(eB.Tr,{children:(0,r.jsx)(eN.Td,{as:y.E,height:"36px",mb:2})},t))})})})})};var tA=i(7761);let tL=()=>({all:{key:"all",label:(0,r.jsx)(x.x6,{id:"N40H+G"}),ariaLabel:X.Ru._({id:"N40H+G"}),icon:(0,r.jsx)(_.g,{icon:S.vGi,fixedWidth:!0})},offline:{key:"offline",label:(0,r.jsx)(x.x6,{id:"U6pRQr"}),ariaLabel:X.Ru._({id:"U6pRQr"}),icon:(0,r.jsx)(_.g,{icon:S.Jyj,fixedWidth:!0})},recent:{key:"recent",label:(0,r.jsx)(x.x6,{id:"AOvC3b"}),ariaLabel:X.Ru._({id:"AOvC3b"}),icon:(0,r.jsx)(_.g,{icon:S.a$,fixedWidth:!0})},private:{key:"private",label:(0,r.jsx)(x.x6,{id:"zwBp5t"}),ariaLabel:X.Ru._({id:"zwBp5t"}),icon:(0,r.jsx)(_.g,{icon:S.DW4,fixedWidth:!0})},createdByYou:{key:"createdByYou",label:(0,r.jsx)(x.x6,{id:"WZTg05"}),ariaLabel:X.Ru._({id:"WZTg05"}),icon:(0,r.jsx)(_.g,{icon:S.VFr,fixedWidth:!0})},favorites:{key:"favorites",label:(0,r.jsx)(x.x6,{id:"X9kySA"}),ariaLabel:X.Ru._({id:"X9kySA"}),icon:(0,r.jsx)(_.g,{icon:S.yy,fixedWidth:!0})}}),tO=["all","offline","recent","createdByYou","favorites"].map(e=>({...tL()[e]})),tT=["all","offline","recent","createdByYou","favorites"].map(e=>({...tL()[e]})),tI=["all","recent","favorites"].map(e=>({...tL()[e]})),tD=(e,t)=>{let i={default:tO,channel:tT,shared:tI}[t];return e?i.map(e=>({...e,isDisabled:"offline"!==e.key})):i.filter(e=>"offline"!==e.key)},tk=e=>{let{activeTab:t,currentChannelId:i,filterBy:n,setFilterBy:s}=e,{isInOfflineMode:o}=(0,h.u)(),a=tD(o,i?"channel":t===z.uL.SHARED_WITH_YOU?"shared":"default"),d=o?"offline":n,c=tL()[d],u=(0,l.useCallback)(e=>{o||s(e.key)},[o,s]);return(0,r.jsx)(tA.x,{selectedOption:c,setSelectedOption:u,options:a,dropdownButtonLeftIcon:(0,r.jsx)(_.g,{icon:S.mRM,fixedWidth:!0}),dropdownMenuTitle:X.Ru._({id:"MwX53Z"})})},tw=e=>{var t;let{filterBy:i,sortBy:n,sortDirection:l,setSortBy:s,setSortDirection:o,size:a="sm",disableSorting:d=!1}=e,c=ey(i),u=c?e1.CW:e1.Zv.concat({key:I.vY2.Title,label:X.Ru._({id:"MHrjPM"})});return(0,r.jsxs)(eV.e,{variant:"ghost",size:a,zIndex:"2",children:[!(0,H.Xb)()&&!c&&(0,r.jsxs)(et.W,{closeOnSelect:!0,children:[(0,r.jsx)(ei.I,{as:M.$,variant:"ghost",size:a,rightIcon:(0,r.jsx)(_.g,{icon:S.Jt$,"aria-label":"Open menu"}),fontWeight:"600",color:"gray.700",isDisabled:d,children:(null==u||null==(t=u.find(e=>e.key===n))?void 0:t.label)||(0,r.jsx)(x.x6,{id:"acZeX2"})}),(0,r.jsx)(er.Z,{children:(0,r.jsx)(el.c,{minWidth:"240px",zIndex:"overlay",children:(0,r.jsx)(eX.i,{defaultValue:"alpha",title:X.Ru._({id:"/HgF9q"}),type:"radio",children:u.map(e=>{let t=n===e.key;return(0,r.jsx)(eo.D,{icon:t?(0,r.jsx)(eY.S,{}):(0,r.jsx)(f.az,{w:3}),value:e.key,onClick:()=>s(e.key),children:e.label},e.key)})})})})]}),(c||u.find(e=>e.key===n))&&(0,r.jsx)(ef.Tz,{label:(0,r.jsx)(x.x6,{id:"TZml21"}),children:(0,r.jsx)(en.K,{color:"gray.700","aria-label":"sort",isDisabled:d,onClick:()=>o(l===I.UEL.Asc?I.UEL.Desc:I.UEL.Asc),icon:(0,r.jsx)(_.g,{icon:S.rLo})})})]})},tB=e=>{let{activeTab:t,currentChannelId:i,filterBy:n,sortBy:l,sortDirection:s,viewPreference:o,setFilterBy:a,setSortBy:d,setSortDirection:c,setViewPreference:u,shouldShowCategoryFilters:x,shouldShowSortOptions:h,shouldShowViewToggle:p,shouldDisableSorting:m}=e;return x||h||p?(0,r.jsxs)(g.B,{direction:"row",alignItems:"center",children:[x&&(0,r.jsx)(tk,{activeTab:t,filterBy:n,setFilterBy:a,currentChannelId:i}),(0,r.jsx)(V.h,{}),(0,r.jsxs)(j.z,{alignItems:"center",children:[h&&(0,r.jsx)(tw,{filterBy:n,sortBy:l,sortDirection:s,setSortBy:d,setSortDirection:c,disableSorting:m}),p&&(0,r.jsx)(tN,{viewPreference:o,setViewPreference:u})]})]}):(0,r.jsx)(r.Fragment,{})},tN=e=>{let{viewPreference:t,setViewPreference:i}=e,n="list"===t;return(0,r.jsxs)(j.z,{spacing:0,bg:"gray.200",p:.5,borderRadius:"full",children:[(0,r.jsx)(M.$,{size:"sm","data-testid":"view-toggle-grid",variant:n?"ghost":"plain",color:n?"gray.600":"trueblue.500",onClick:()=>i("grid"),children:(0,r.jsxs)(j.z,{children:[(0,r.jsx)(_.g,{icon:S.Qyz}),(0,r.jsx)(P.E,{display:["none","none","none","none","block"],children:(0,r.jsx)(x.x6,{id:"CXDHcv"})})]})}),(0,r.jsx)(M.$,{size:"sm","data-testid":"view-toggle-list",variant:n?"plain":"ghost",color:n?"trueblue.500":"gray.600",onClick:()=>i("list"),children:(0,r.jsxs)(j.z,{children:[(0,r.jsx)(_.g,{icon:S.ckx}),(0,r.jsx)(P.E,{display:["none","none","none","none","block"],children:(0,r.jsx)(x.x6,{id:"2BBAbc"})})]})})]})};var tR=i(96298),tP=i(79708),tM=i(21638),tF=i(16491),tK=i(91938),tz=i(26899),tH=i(92699);let tU=e=>{let t=(0,D.u)("docImport"),i=(0,D.u)("pptImport");return t||i?(0,r.jsx)(tF.G_,{clientId:tK.$.GOOGLE_DRIVE_IMPORT_CLIENT_ID,children:(0,r.jsx)(tG,{...e})}):null},tG=e=>{let{handleImport:t,isDisabled:i,buttonProps:n}=e,{isOpen:l,onOpen:s,onClose:o}=(0,m.j)({id:"import-plain-modal"}),{push:a}=(0,L.useRouter)(),d=(0,D.u)("themeImportAi");return(0,r.jsxs)(et.W,{children:[(0,r.jsx)(ei.I,{as:M.$,onFocus:e=>e.preventDefault(),"data-testid":"import-doc-button",isDisabled:i,leftIcon:(0,r.jsx)(_.g,{icon:S.$MS}),rightIcon:(0,r.jsx)(_.g,{icon:S.Jt$}),sx:{span:{flexGrow:0}},...n,children:(0,r.jsx)(x.x6,{id:"l3s5ri"})}),(0,r.jsx)(er.Z,{children:(0,r.jsxs)(el.c,{maxW:"350px",zIndex:"tooltip",children:[(0,r.jsxs)(tP.r,{title:X.Ru._({id:"4b3oEV"}),children:[(0,r.jsx)(eo.D,{icon:(0,r.jsx)(_.g,{icon:e0.p7g,fixedWidth:!0}),onClick:()=>{a("/create/import?ref=home")},children:(0,r.jsxs)(j.z,{align:"flex-start",children:[(0,r.jsxs)(g.B,{spacing:0,children:[(0,r.jsx)(P.E,{children:(0,r.jsx)(x.x6,{id:"QIFgHt"})}),(0,r.jsx)(P.E,{fontSize:"xs",color:"gray.500",children:(0,r.jsx)(x.x6,{id:"viFd4B"})})]}),(0,r.jsx)(V.h,{}),(0,r.jsx)(F.E,{h:"fit-content",colorScheme:"trueblue",ms:2,children:(0,r.jsx)(x.x6,{id:"jsQZMk"})})]})}),(0,r.jsx)(eo.D,{icon:(0,r.jsx)(_.g,{icon:S.$MS,fixedWidth:!0}),onClick:s,children:(0,r.jsxs)(g.B,{spacing:0,children:[(0,r.jsx)(P.E,{children:(0,r.jsx)(x.x6,{id:"yCc/Nz"})}),(0,r.jsx)(P.E,{fontSize:"xs",color:"gray.500",children:(0,r.jsx)(x.x6,{id:"G3+qfy"})})]})})]}),d&&(0,r.jsx)(tP.r,{title:X.Ru._({id:"f8fH8W"}),children:(0,r.jsx)(eo.D,{icon:(0,r.jsx)(_.g,{icon:S.fyG,fixedWidth:!0}),onClick:async()=>{await a("#themes"),setTimeout(()=>{(0,tH.yJ)()},200)},children:(0,r.jsxs)(j.z,{align:"flex-start",children:[(0,r.jsxs)(g.B,{spacing:0,children:[(0,r.jsx)(P.E,{children:(0,r.jsx)(x.x6,{id:"NYdkQ8"})}),(0,r.jsx)(P.E,{fontSize:"xs",color:"gray.500",children:(0,r.jsx)(x.x6,{id:"uejFEJ"})})]}),(0,r.jsx)(V.h,{}),(0,r.jsx)(F.E,{h:"fit-content",colorScheme:"trueblue",ms:2,children:(0,r.jsx)(x.x6,{id:"jsQZMk"})})]})})})]})}),(0,r.jsxs)(ea.aF,{isOpen:l,onClose:o,size:"4xl",trapFocus:!1,closeOnOverlayClick:!1,children:[(0,r.jsx)(ed.m,{}),(0,r.jsxs)(ec.$,{children:[(0,r.jsx)(eu.r,{children:(0,r.jsxs)(j.z,{spacing:3,children:[(0,r.jsx)(_.g,{icon:S.$MS}),(0,r.jsx)(P.E,{children:(0,r.jsx)(x.x6,{id:"F6aY4g"})})]})}),(0,r.jsx)(tM.c,{}),(0,r.jsx)(ex.s,{}),(0,r.jsx)(eh.c,{py:4,px:{base:4,md:6},children:(0,r.jsx)(g.B,{spacing:4,align:"center",justify:"center",children:(0,r.jsx)(tz.J,{onImportComplete:t})})}),(0,r.jsx)(eg.j,{children:(0,r.jsx)(M.$,{variant:"solid",onClick:o,children:(0,r.jsx)(x.x6,{id:"dEgA5A"})})})]})]})]})};var tW=i(87386),tY=i(22905),tV=i(20178),tX=i(66607);let tQ=(e,t,i)=>{var n;let r,l=(0,tV.C)(),s=(0,tY._w)(l),{slice:o}=(0,tX.S)(e,s,t,!1),a=(null==(n=o.toJSON())?void 0:n.content)||[];if(a.every(e=>"card"===e.type))r=(0,tW.createDocWithCards)(i,a);else{let e=a.filter(e=>s.nodes[e.type].isBlock)||[];r=(0,tW.createDocWithCards)(i,[{type:"card",content:e}])}return console.debug("Parsing imported doc",{doc:r,slice:o,splitContent:a,html:e}),r};var t$=i(95889),tJ=i(8139);let tq=e=>{let{isDisabled:t,channelId:i}=e,{push:n}=(0,L.useRouter)(),s=i?"?channelId=".concat(i):"",o=(0,l.useCallback)(()=>n("/create".concat(s)),[n,s]);return(0,r.jsx)(M.$,{"data-testid":"create-from-ai-button",isDisabled:t,variant:"special",onClick:o,leftIcon:(0,r.jsx)(_.g,{icon:S.QLR}),rightIcon:(0,r.jsx)(F.E,{colorScheme:"trueblue",textShadow:"none",children:"AI"}),children:(0,r.jsx)(x.x6,{id:"BOqY23"})})};var tZ=i(96833),t0=i(25713),t1=i(90010);let t6=e=>{let{createBlank:t,isDisabled:i}=e,n=(0,t1.Bi)(),s=(e,i)=>{t({docSettings:tJ.S9[i].docSettings(),format:e})};return(0,r.jsxs)(eV.e,{isAttached:!0,children:[(0,r.jsx)(ef.Tz,{label:"gamma.new",placement:"top",openDelay:250,children:(0,r.jsx)(M.$,{"data-testid":"create-doc-button",isDisabled:i,variant:"plain",onClick:()=>s("deck","deck_default"),leftIcon:(0,r.jsx)(_.g,{icon:S.QLR}),flex:1,children:(0,r.jsx)(x.x6,{id:"exOjhh"})})}),(0,r.jsxs)(et.W,{placement:"bottom-end",children:[(0,r.jsx)(ei.I,{as:en.K,variant:"plain",icon:(0,r.jsx)(_.g,{fixedWidth:!0,icon:S.Jt$}),borderInlineStart:"none",isDisabled:i}),(0,r.jsx)(el.c,{maxH:"50vh",overflowY:"scroll",zIndex:4,children:n.map((e,t)=>{let i=t===n.length-1;return(0,r.jsxs)(l.Fragment,{children:[(0,r.jsx)(tP.r,{title:e.name(),children:(0,r.jsx)(t0.D,{docFormatCategory:e,onSelectStyleTemplate:t=>{s(e.formatType,t)}})}),!i&&(0,r.jsx)(es.N,{})]},t)})})]})]})},t2={GoogleDocs:"import_google_doc",GoogleSlides:"import_google_slides",DocxUpload:"import_docx",PptxUpload:"import_pptx",WebpageUrl:"import_webpage",PdfUpload:"import_pdf"},t5=e=>{let{currentWorkspace:t,description:i,ariaLabel:n,displayName:s,icon:o,showCreateButton:a,channel:d,isChannelPreview:c,isOffline:u}=e,h=(0,D.u)("aiWizard"),p=(0,t$.st)(),[m,{data:v,loading:b}]=(0,tR.m)(),E=b||!!((null==v?void 0:v.createDoc)||!t)||u,y=(0,l.useCallback)(e=>{m({...e,channelId:null==d?void 0:d.id,source:"blank"})},[null==d?void 0:d.id,m]),S=(0,l.useCallback)(async e=>{let{html:t,filename:i,source:n,src:r,latency:l}=e,s="GoogleDocs"===n||"DocxUpload"===n||"PdfUpload"===n,o=tQ(t,{splitOnHeadings:s,splitOnDividers:!0,nested:s},"PptxUpload"===n||"GoogleSlides"===n?{format:tJ.S9.deck_traditional.formatType,settings:{...tJ.S9.deck_traditional.docSettings()}}:void 0);null==p||p.track(t$.VV.DOC_IMPORTED,{source:n,src:r,with_ai:!1,latency:l}),m({document:o,channelId:null==d?void 0:d.id,title:i,source:t2[n]})},[p,m,null==d?void 0:d.id]);return(0,r.jsxs)(N.s,{flex:"1",mb:4*!(0,H.Xb)(),direction:"column",children:[(0,r.jsxs)(f.az,{w:["100%","auto"],children:[(0,r.jsxs)(j.z,{h:"1.5em",children:[(0,r.jsxs)(R.D,{fontSize:"lg",fontWeight:"600","data-testid":"docs-view-header",children:[o&&(0,r.jsx)(_.g,{icon:o,"aria-label":n()})," ",(0,r.jsx)(P.E,{as:"span",ms:2,children:s})]}),(0,r.jsx)(V.h,{})]}),i&&(0,r.jsx)(P.E,{color:"gray.600",fontSize:"sm",children:i}),d&&(0,r.jsxs)(g.B,{direction:"row",alignItems:"center",mt:4,children:[(0,r.jsx)(ef.KZ,{overflowTooltipLabel:"See everyone",size:"xs",avatars:(null==d?void 0:d.members)||[],max:6}),(0,r.jsx)(P.E,{fontSize:"sm",ms:2,children:(0,r.jsx)(x.x6,{id:"pkIIls",values:{0:d.memberCount||0}})}),(0,r.jsx)(V.h,{display:{base:"flex",lg:"none"}}),!c&&d&&(0,r.jsx)(f.az,{justifyContent:{base:"flex-end",lg:"flex-start"},children:(0,r.jsx)(tZ.S,{channel:d,workspaceId:null==t?void 0:t.id})})]})]}),a&&(0,r.jsxs)(g.B,{direction:{base:"column",lg:"row"},spacing:2,mt:4,children:[h&&(0,r.jsx)(tq,{isDisabled:E,channelId:null==d?void 0:d.id}),!(0,H.Xb)()&&(0,r.jsx)(t6,{isDisabled:E,createBlank:y}),a&&!(0,H.Xb)()&&(0,r.jsx)(tU,{handleImport:S,isDisabled:E})]})]})};var t4=i(2318);let t3=e=>{let{editors:t,user:i}=e,n=(0,t4.Hz)(t,null==i?void 0:i.id);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ef.KZ,{size:"xs",overflowTooltipLabel:X.Ru._({id:"25VyZX"}),shouldAnimate:!1,max:3,avatars:n.map(e=>{let{displayName:t,profileImageUrl:i,id:n}=e;return{name:t||"",id:n,profileImageUrl:i,color:"white"}})}),(0,r.jsx)(g.B,{spacing:0,children:(0,r.jsx)(P.E,{fontSize:"xs",color:"gray.500",children:(0,r.jsx)(x.x6,{id:"27Yldc",values:{0:n.length}})})})]})},t8=e=>{let{presenters:t,user:i}=e,n=(0,t4.Hz)(t,null==i?void 0:i.id);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ef.KZ,{overflowTooltipLabel:X.Ru._({id:"25VyZX"}),shouldAnimate:!1,size:"xs",max:3,avatars:n.map(e=>{let{displayName:t,profileImageUrl:i,id:n}=e;return{name:t||"",id:n,profileImageUrl:i,color:"white"}})}),(0,r.jsx)(g.B,{spacing:0,children:(0,r.jsx)(P.E,{fontSize:"xs",color:"gray.500",children:(0,r.jsx)(x.x6,{id:"u2htxq",values:{0:n.length}})})})]})},t9=e=>{let{activeDocs:t,filterBy:i}=e,n=(0,D.u)("screenshotsEnabled"),{user:l}=(0,B.ur)(),{favoriteDoc:s}=ts({refetchQueries:["GetDocs","GetChannelDocActivity"]});return(0,r.jsxs)(f.az,{bg:"blackAlpha.100",my:4,pt:2,borderRadius:"md",border:"1px solid #000",borderColor:"blackAlpha.100",children:[(0,r.jsxs)(P.E,{px:6,fontSize:"sm",fontWeight:"600",color:"gray.600",mt:2,children:[(0,r.jsx)(_.g,{icon:S.qAe})," ",(0,r.jsx)(x.x6,{id:"/sL1z7"})]}),(0,r.jsx)(b.x,{templateColumns:{base:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)",xl:"repeat(4, 1fr)","2xl":"repeat(5, 1fr)"},gap:6,p:6,pt:3,children:null==t?void 0:t.map(e=>{var t;let{doc:i,editors:o,presenters:a}=e,{title:d,id:c,titleCard:u,createdTime:x}=i,h={src:n?null==u?void 0:u.previewUrl:q.A,fallbackSrc:q.A.src},p=a&&a.length>0,m=!p&&o&&o.length>0,g=(0,eC.LN)({docId:c}),f=(0,r.jsxs)(j.z,{px:2,py:1,bg:"green.100",borderRadius:"md",w:"100%",children:[m&&(0,r.jsx)(t3,{editors:o,user:l}),p&&(0,r.jsx)(t8,{presenters:a,user:l})]});return(0,r.jsx)(eM.Dg,{createdTime:x,title:d,NextLink:$(),href:g,id:c,thumbnailImageUrl:h,isFavorited:null==(t=i.docUser)?void 0:t.favorited,onFavorite:s(new Date,i),onUnfavorite:s(null,i),menuEnabled:!1,activity:f},c)})})]})},t7=(0,l.memo)(e=>{let{activeTab:t,channel:i,isChannelPreview:n,activeDocs:l,sortDirection:s,sortBy:o,filterBy:a,viewPreference:d,setSortBy:c,setSortDirection:u,setViewPreference:x,setFilterBy:h,isOffline:p}=e,m=!(0,H.Xb)()&&t!==z.uL.TEMPLATES,j=!!(t===z.uL.ALL||t===z.uL.SHARED_WITH_YOU||i),{currentWorkspace:g}=(0,B.ur)(),{displayName:v,description:b,ariaLabel:E,icon:y,showCreateButton:S}=z.mQ[t],_=(null==i?void 0:i.name)||v;return(0,r.jsxs)(f.az,{w:"100%",mb:6,children:[(0,r.jsx)(t5,{displayName:_,ariaLabel:E,description:b,icon:y,showCreateButton:S&&!n,currentWorkspace:g,channel:i,isChannelPreview:n,isOffline:p}),l&&l.length>0&&(0,r.jsx)(t9,{activeDocs:l,filterBy:a}),(0,r.jsx)(tB,{activeTab:t,filterBy:a,sortBy:o,sortDirection:s,setViewPreference:x,setFilterBy:h,setSortBy:c,setSortDirection:u,viewPreference:d,shouldShowCategoryFilters:j,currentChannelId:(null==i?void 0:i.id)||null,shouldShowSortOptions:m&&"grid"===d,shouldShowViewToggle:m,shouldDisableSorting:p})]})});t7.displayName="DocsViewTopbar";var ie=i(75534),it=i(96378),ii=i(60584);let ir=e=>{let{onClose:t,doc:i}=e,[n,{loading:s}]=(0,I.cGn)(),o=(0,tr.d)(),[a,d]=(0,l.useState)(()=>i.title),[c,u]=(0,l.useState)("Untitled"),[h,p]=(0,l.useState)(null),m=(0,l.useCallback)(e=>{d(e.target.value)},[]),j=(0,l.useRef)(null),{data:g}=(0,I.YDl)({variables:{docId:i.id,snapshotId:i.currentSnapshotId},skip:!(null==i?void 0:i.currentSnapshotId)||!(null==i?void 0:i.id)}),f=!!h;(0,l.useEffect)(()=>{(null==g?void 0:g.snapshot)&&u((null==g?void 0:g.snapshot)&&(0,tW.getCardTitle)(g.snapshot.content.default.content[0].content[0])||X.Ru._({id:"wja8aL"}))},[null==g?void 0:g.snapshot]);let v=(0,l.useCallback)(()=>{let e=!!(a&&a.length);n({variables:{id:i.id,titleEdited:e,title:e?a:c}}).then(()=>{o({title:(0,r.jsx)(x.x6,{id:"ZYAPMn",values:{GAMMA_ARTIFACT_PROPER_NOUN:tl.TP,0:a.length>0?a:c}}),position:"top",status:"success",duration:5e3}),p(null),t()}).catch(e=>{console.error(e),p(e.message)})},[i.id,t,a,o,n,c]);return(0,r.jsxs)(ea.aF,{closeOnOverlayClick:!1,isOpen:!0,initialFocusRef:j,onClose:t,children:[(0,r.jsx)(ed.m,{}),(0,r.jsxs)(ec.$,{children:[(0,r.jsx)(eu.r,{children:(0,r.jsx)(x.x6,{id:"2wxgft"})}),(0,r.jsx)(ex.s,{}),(0,r.jsx)(eh.c,{children:(0,r.jsx)(N.s,{mt:4,w:"100%",direction:"column",children:(0,r.jsxs)(ie.MJ,{isInvalid:f,children:[(0,r.jsx)(it.p,{value:a,placeholder:c,ref:j,_placeholder:{opacity:1,color:"gray.300"},onKeyDown:e=>{"Enter"===e.key&&v()},onChange:m}),f&&(0,r.jsx)(ii.Wt,{children:h})]})})}),(0,r.jsx)(eg.j,{children:(0,r.jsxs)(eV.e,{children:[(0,r.jsx)(M.$,{variant:"ghost",onClick:t,children:(0,r.jsx)(x.x6,{id:"dEgA5A"})}),(0,r.jsx)(M.$,{isLoading:s,variant:"solid",onClick:v,children:(0,r.jsx)(x.x6,{id:"2wxgft"})})]})})]})]})},il=e=>{let{userHasNoWorkspaces:t,isSidebarVisible:i,setIsSidebarVisible:n,currentChannelId:s,activeChannel:o,channelPreview:a,activeTab:d,isOffline:c}=e,{user:u,currentWorkspace:h}=(0,B.ur)(),[p,j]=(0,l.useState)(!1),[g,v]=(0,l.useState)(null),[b,E]=(0,l.useState)(null),{isOpen:y,onOpen:S,onClose:_}=(0,m.j)({id:"ConfirmPermanentlyDeleteModal"}),[C,A]=(0,l.useState)(null),[L,{data:O}]=(0,I.gto)({variables:{id:g},returnPartialData:!0,nextFetchPolicy:"cache-first"}),{favoriteDoc:T,trashDoc:D,restoreDoc:k}=ts({refetchQueries:["GetDocs","GetSharedDocs","GetChannelDocActivity"]}),w=(0,tu.Z)(),{removeDocChannel:N}=(0,tc.k)(),R=(0,B.IM)(),{isSharePanelOpen:P,onSharePanelOpen:F,onSharePanelClose:K,view:H,setView:U}=(0,td.R)(),{isOpen:G,onOpen:W,onClose:Y}=(0,m.j)({id:"RenameDocModalDisclosure"}),{viewPreference:V,setViewPreference:X,sortBy:Q,setSortBy:$,sortDirection:J,filterBy:q,setFilterBy:Z,setSortDirection:ee,dateDisplayOption:et,setDateDisplayOption:ei}=tb({currentChannelId:s,activeTab:d}),{docs:en,loading:er,showPaginationControls:el,fetchMore:es,activeDocs:eo}=tg({filterBy:q,activeTab:d,currentChannelId:s,channelPreview:a,user:u,currentWorkspace:h,sortBy:Q,sortDirection:J});(0,l.useEffect)(()=>{g&&L({variables:{id:g}})},[g,L]);let ea=(0,l.useCallback)(e=>{E(e),S()},[S]),ed=(0,l.useCallback)(e=>{v(e),F()},[F]),ec=(0,l.useCallback)((e,t)=>{N(e,t)},[N]),eu=(0,l.useCallback)(e=>{w({docId:e.id,source:"dashboard_docs_view_duplicate"})},[w]),ex=(0,l.useCallback)(e=>{A(e),W()},[W]),eh=!er&&en&&(null==en?void 0:en.length)>0;return(0,r.jsxs)(f.az,{width:"100%",children:[!t&&(0,r.jsx)(ty.e,{isSidebarVisible:i,setIsSidebarVisible:n,children:(0,r.jsx)(t7,{activeTab:d,channel:a||o,activeDocs:eo,isChannelPreview:!!a,sortDirection:J,sortBy:Q,filterBy:q,viewPreference:V,setSortBy:$,setSortDirection:ee,setViewPreference:X,setFilterBy:Z,isOffline:c})}),(0,r.jsxs)(f.az,{width:"100%","data-testid":"docs-view-container",children:[(0,r.jsx)(eH,{user:u,currentWorkspace:h,currentChannelId:s,viewPreference:V}),er&&(0,r.jsx)(tC,{viewPreference:V}),!er&&(null==en?void 0:en.length)===0&&(0,r.jsx)(tE,{shared:d===z.uL.SHARED_WITH_YOU,trash:d===z.uL.TRASH}),"list"===V&&eh&&(0,r.jsx)(tt,{dateDisplayOption:et,setDateDisplayOption:ei,user:u,currentWorkspace:h,userHasNoWorkspaces:t,filterBy:q,isOffline:c,docs:en,currentChannelId:s,sortBy:Q,sortDirection:J,setSortBy:$,setSortDirection:ee,handleDuplicateDoc:eu,handleFavoriteDoc:T,handleTrash:D,handlePermanentDelete:ea,handleRestoreDoc:k,handleShareClick:ed,handleRenameClick:ex,handleRemoveFromChannel:ec}),"grid"===V&&eh&&(0,r.jsx)(tn.S,{"data-testid":"docs-view-doc-grid",children:en.map(e=>{var i;let n=R.can("view",e)&&!t,l=R.can("edit",e)&&!t,o=R.can("manage",e)&&!t;return(0,r.jsx)(eW,{user:u,currentWorkspace:h,doc:e,currentChannelId:s,sortBy:Q,filterBy:q,canDuplicate:n,createdByYou:(null==e||null==(i=e.createdBy)?void 0:i.id)===(null==u?void 0:u.id),handleDuplicateDoc:eu,handleFavoriteDoc:T,handleTrash:D,handlePermanentDelete:ea,handleRenameClick:ex,handleRemoveFromChannel:ec,handleRestoreDoc:k,handleShareClick:ed,canEditDoc:l,canManageDoc:o,isOffline:c},e.id)})}),P&&(0,r.jsx)(ta._j,{doc:null==O?void 0:O.doc,isSharePanelOpen:P,onSharePanelClose:()=>{v(null),K()},onSharePanelOpen:F,view:H,setView:U,showSiteSettings:!1}),G&&(0,r.jsx)(ir,{doc:C,onClose:Y}),el&&(0,r.jsx)(ti.o,{p:6,children:(0,r.jsx)(M.$,{isLoading:p,onClick:()=>{j(!0),es().finally(()=>{j(!1)})},size:"sm",children:(0,r.jsx)(x.x6,{id:"yQ2kGp"})})}),y&&b&&(0,r.jsx)(to,{doc:b,onClose:_})]})]})};var is=i(94581);let io=e=>{let[t]=(0,I.Ist)(),[i]=(0,I.Fbj)();return(0,l.useCallback)(n=>{let r=n.uploadFontFiles.filter(e=>("existing"===e.status||"created"===e.status)&&e.fontFile.sourceUrl).map(e=>{let{name:t,weight:i,isItalic:n,fileType:r,sourceUrl:l}=e.fontFile,s={name:t,weight:i,isItalic:n,fileType:r,sourceUrl:l};return"existing"===e.status&&e.fontFile.id&&(s.id=e.fontFile.id),s});if("edit"!==n.mode)return t({variables:{input:{name:n.fontName,fontFiles:r,workspaceId:e}},refetchQueries:["GetWorkspaceFonts"]});{let t=[{op:I._SX.Add,path:"/name",value:n.fontName},{op:I._SX.Replace,path:"/fontFiles",value:r}];return i({variables:{input:{id:n.fontId,workspaceId:e,data:t}},refetchQueries:["GetWorkspaceFonts"]})}},[t,e,i])},ia=e=>{let t=(0,tr.d)(),[i,{loading:n}]=(0,I.QDl)();return{archiveFontFn:(0,l.useCallback)(async(n,l)=>i({variables:{id:n,workspaceId:e},refetchQueries:["GetWorkspaceFonts"]}).then(e=>(t({title:(0,r.jsx)(x.x6,{id:"w+hpl4",values:{name:l}}),status:"success",duration:2e3,isClosable:!0,position:"top"}),e)),[i,e,t]),isArchiving:n}},id=e=>{let{onClose:t,font:i,orgId:n}=e,{archiveFontFn:s,isArchiving:o}=ia(n),a=(0,l.useCallback)(()=>{s(i.id,i.name).then(t).catch(e=>{console.error("[FontDeleteModal] Error deleting font",e)})},[s,i.id,i.name,t]);return(0,r.jsxs)(ea.aF,{onClose:t,isOpen:!0,children:[(0,r.jsx)(ed.m,{}),(0,r.jsxs)(ec.$,{children:[(0,r.jsx)(eu.r,{children:(0,r.jsx)(x.x6,{id:"Tf88pC",values:{0:i.name}})}),(0,r.jsx)(ex.s,{isDisabled:o}),(0,r.jsx)(eh.c,{children:(0,r.jsxs)(g.B,{spacing:4,children:[(0,r.jsx)(P.E,{fontWeight:"bold",children:(0,r.jsx)(x.x6,{id:"GG34Oa"})}),(0,r.jsx)(P.E,{children:(0,r.jsx)(x.x6,{id:"AYXLSv"})}),(0,r.jsx)(P.E,{color:"red.600",children:(0,r.jsx)(x.x6,{id:"U99rVM"})})]})}),(0,r.jsx)(eg.j,{children:(0,r.jsxs)(eV.e,{children:[(0,r.jsx)(M.$,{variant:"ghost",onClick:t,children:(0,r.jsx)(x.x6,{id:"dEgA5A"})}),(0,r.jsx)(M.$,{variant:"hazardous",onClick:a,isLoading:o,children:(0,r.jsx)(x.x6,{id:"04FTaq"})})]})})]})]})},ic=e=>{let{children:t,...i}=e;return(0,r.jsx)(N.s,{border:"1px solid",borderColor:"gray.200",minH:36,maxH:36,minW:"100%",borderRadius:"lg",alignItems:"center",justifyContent:"center",transition:"all",transitionDuration:"normal",_hover:{background:"white",color:"trueblue.600",cursor:"pointer"},...i,children:t})};var iu=i(31922),ix=i(74907),ih=i(45181);let ip=()=>(0,r.jsxs)(ep.F,{status:"warning",children:[(0,r.jsx)(em._,{}),(0,r.jsxs)(P.E,{children:[(0,r.jsxs)("strong",{children:[(0,r.jsx)(x.x6,{id:"S89SGJ"})," ",(0,r.jsx)("span",{role:"img","aria-label":"Crying emoji",children:"\uD83D\uDE22"}),"."]})," ",(0,r.jsx)(x.x6,{id:"5FjY+D",components:{0:(0,r.jsx)(ih.C,{colorScheme:"purple"}),1:(0,r.jsx)(ih.C,{colorScheme:"pink"})}})]})]});var im=i(49942);let ij=e=>{let{fileExtension:t}=e;return(0,r.jsx)(im.vw,{size:"sm",justifyContent:"center",background:t===I.AKY.Ttf?"trueblue.100":"shocking.100",children:t.toUpperCase()})},ig=e=>{let{fontFamily:t,fontWeight:i,isItalic:n,headingText:l}=e;return(0,r.jsx)(R.D,{fontFamily:'"'.concat(t,'"'),noOfLines:1,lineHeight:"base",fontWeight:i,fontStyle:n?"italic":"normal",children:l||t})},iv=e=>{let t=[...e.reduce((e,t)=>{let i=e.findIndex(e=>e.isItalic===t.isItalic&&e.weight===t.weight);if(-1===i)return[...e,t];if(e[i].fileType===t.fileType)return e;let n={...t,fileTypes:[t.fileType,e[i].fileType]};return[...e.slice(0,i),n,...e.slice(i+1)]},[])];return t.sort((e,t)=>e.weight!==t.weight?e.weight-t.weight:e.isItalic!==t.isItalic?!1===e.isItalic?-1:1:0),t},ib=e=>{var t;let{font:i,onClose:n,onEditClick:s,onDeleteClick:o}=e,a=(0,l.useMemo)(()=>iv(i.fontFiles||[]),[i.fontFiles]);return(0,r.jsxs)(ea.aF,{isOpen:!0,onClose:n,size:"3xl",blockScrollOnMount:!1,children:[(0,r.jsx)(ed.m,{}),(0,r.jsxs)(ec.$,{children:[(0,r.jsx)(eu.r,{children:i.name}),(0,r.jsx)(ex.s,{}),(0,r.jsx)(tM.c,{mb:"4"}),(0,r.jsx)(eh.c,{children:(0,r.jsxs)(iu.T,{mb:4,spacing:6,align:"stretch",children:[(null==(t=i.fontFiles)?void 0:t.length)===0&&(0,r.jsx)(ip,{}),a.map(e=>{var t,n;let l=!!(e.fileType===I.AKY.Otf||(null==(t=e.fileTypes)?void 0:t.includes(I.AKY.Otf))),s=!!(e.fileType===I.AKY.Ttf||(null==(n=e.fileTypes)?void 0:n.includes(I.AKY.Ttf)));return(0,r.jsx)(iE,{fontName:i.name,weight:e.weight,isItalic:e.isItalic,hasOTF:l,hasTTF:s},e.id)})]})}),(0,r.jsxs)(eg.j,{justifyContent:"space-between",children:[(0,r.jsx)(M.$,{variant:"hazardous",onClick:o,children:(0,r.jsx)(x.x6,{id:"cnGeoo"})}),(0,r.jsxs)(eV.e,{children:[(0,r.jsx)(M.$,{variant:"plain",onClick:s,children:(0,r.jsx)(x.x6,{id:"ePK91l"})}),(0,r.jsx)(M.$,{variant:"solid",onClick:n,children:(0,r.jsx)(x.x6,{id:"DPfwMq"})})]})]})]})]})},iE=e=>{let{fontName:t,weight:i,isItalic:n,hasOTF:l,hasTTF:s}=e,o=(0,r.jsxs)(r.Fragment,{children:[(0,ix.w)()[i]," ",n?(0,r.jsx)(x.x6,{id:"pzutoc"}):""]}),a=(0,r.jsxs)(r.Fragment,{children:[t," ",o]}),d=(0,r.jsxs)(r.Fragment,{children:[i," - ",o]});return(0,r.jsxs)(N.s,{justify:"space-between",gap:"10px",children:[(0,r.jsxs)(g.B,{spacing:2,children:[(0,r.jsx)(P.E,{color:"gray.600",children:d}),(0,r.jsx)(ig,{fontFamily:t,fontWeight:i.toString(),isItalic:n,headingText:a})]}),(0,r.jsxs)(j.z,{align:"center",children:[s&&(0,r.jsx)(ij,{fileExtension:I.AKY.Ttf}),l&&(0,r.jsx)(ij,{fileExtension:I.AKY.Otf})]})]})};var iy=i(69413);let iS=e=>{let{font:t,onClick:i,onEditClick:n,onDeleteClick:l}=e,s=(0,iy.jI)((null==t?void 0:t.fontFiles)||[]),o=(0,iy.Eu)(t.fontFiles||[]),a=(0,iy.g9)(o,700)||700,d=(0,iy.Q3)(null==t?void 0:t.fontFiles);return(0,r.jsxs)(g.B,{children:[(0,r.jsx)(ic,{bg:"white",justifyContent:"flex-start",p:6,onClick:i,children:(0,r.jsxs)(g.B,{maxW:"100%",children:[(0,r.jsx)(ig,{fontWeight:a.toString(),isItalic:d,fontFamily:t.name,headingText:t.name}),(0,r.jsx)(x.x6,{id:"B2DVf/",values:{styleCount:s},components:{0:(0,r.jsx)(P.E,{color:"orange.600"}),1:(0,r.jsx)(f.az,{as:"span",mr:1}),2:(0,r.jsx)(_.g,{icon:e0.QJT})}})]})}),(0,r.jsxs)(N.s,{children:[(0,r.jsx)(P.E,{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",children:t.name}),(0,r.jsx)(V.h,{}),(0,r.jsxs)(et.W,{children:[(0,r.jsx)(ei.I,{as:en.K,isRound:!0,size:"sm",variant:"ghost",icon:(0,r.jsx)(_.g,{icon:S.vHW}),"aria-label":X.Ru._({id:"eqqNgX"})}),(0,r.jsxs)(el.c,{children:[(0,r.jsx)(eo.D,{icon:(0,r.jsx)(_.g,{icon:S.MT7,fixedWidth:!0}),onClick:n,children:(0,r.jsx)(x.x6,{id:"ePK91l"})}),(0,r.jsx)(es.N,{}),(0,r.jsx)(eo.D,{color:"red.500",icon:(0,r.jsx)(_.g,{icon:S.yLS,fixedWidth:!0}),onClick:l,children:(0,r.jsx)(x.x6,{id:"cnGeoo"})})]})]})]})]})};var i_=i(58495),iC=i(66265);let iA=(e,t)=>{let i=0;return new Promise((n,r)=>{let l=()=>{let s=setTimeout(()=>{++i<t.maxRetries?l():r("timed out")},t.timeout);e().then(n).catch(r).finally(()=>{clearTimeout(s)})};l()})},iL={existingFont:null,mode:"create",fontId:void 0,hasUploadedFonts:!1,fontName:"",uploadFontFiles:[]};function iO(e,t){switch(t.type){case"NEW_FONT_UPLOAD":case"RESET_FONT_UPLOAD":return iL;case"EDIT_EXISTING_FONT":{let{font:e}=t.data;return{existingFont:e,mode:"edit",fontId:e.id,fontName:e.name,hasUploadedFonts:!0,uploadFontFiles:e.fontFiles.map(e=>({fontFile:e,uploadId:e.id,status:"existing",errorMessage:null}))}}case"EDIT_FONT_NAME":{let{fontName:i}=t.data;return{...e,fontName:i}}case"UPLOAD_FONT_FILE_UPLOAD_STARTED":{let{data:i}=t,n={fontFile:{id:i.uploadId,name:i.name,weight:i.weight,isItalic:i.isItalic,fileType:i.fileType},uploadId:i.uploadId,status:"uploading",errorMessage:null},r=e.fontName?e.fontName:i.familyName;return{...e,fontName:r,hasUploadedFonts:!0,uploadFontFiles:[...e.uploadFontFiles,n]}}case"UPLOAD_FONT_FILE_UPLOAD_ERROR":{let{uploadId:i,errorMessage:n}=t.data;return{...e,uploadFontFiles:e.uploadFontFiles.map(e=>i===e.uploadId?{...e,status:"error",errorMessage:n}:e)}}case"UPLOAD_FONT_FILE_UPLOAD_SUCCESS":{let{uploadId:i,sourceUrl:n}=t.data;return{...e,uploadFontFiles:e.uploadFontFiles.map(e=>{if(i===e.uploadId){let t={...e.fontFile,sourceUrl:n};return{...e,status:"created",errorMessage:null,fontFile:t}}return e})}}case"EDIT_UPLOAD_FONT_FILE_WEIGHT":{let{uploadId:i,weight:n}=t.data;return{...e,uploadFontFiles:e.uploadFontFiles.map(e=>e.uploadId===i?{...e,fontFile:{...e.fontFile,weight:n}}:e)}}case"EDIT_UPLOAD_FONT_FILE_STYLE":{let{uploadId:i,isItalic:n}=t.data;return{...e,uploadFontFiles:e.uploadFontFiles.map(e=>e.uploadId===i?{...e,fontFile:{...e.fontFile,isItalic:n}}:e)}}case"DELETE_UPLOAD_FONT_FILE":{let{uploadId:i}=t.data;return{...e,uploadFontFiles:e.uploadFontFiles.filter(e=>e.uploadId!==i)}}default:throw Error("Unhandled action type: ".concat(t))}}var iT=i(84179),iI=i(53295),iD=i(42955),ik=i(82361);let iw=e=>{let{fontFiles:t,fontWeight:i,dispatch:n}=e,[s,o]=(0,l.useState)(!1);if(!t)return null;let a=(0,r.jsxs)(r.Fragment,{children:[i," - ",(0,ix.w)()[i]]}),d=(0,iy.H9)(t),c=!!Object.keys(d).length;return(0,r.jsx)(e$.K,{children:(0,r.jsxs)(ew.X,{colorScheme:"blackAlpha",mb:8,borderRadius:"md",children:[(0,r.jsx)(eJ.d,{children:(0,r.jsx)(ef.Tz,{placement:"top",isDisabled:!c,label:(0,r.jsx)(x.x6,{id:"KXcsLu"}),shouldWrapChildren:!0,children:(0,r.jsxs)(ef._x,{mb:"2",cursor:c?"help":void 0,color:c?"yellow.600":void 0,children:[c&&(0,r.jsx)(_.g,{icon:e0.QJT})," ",a]})})}),(0,r.jsx)(eZ.N,{children:t.map(e=>(0,r.jsx)(iB,{uploadFontFile:e,dispatch:n,duplicates:d,isHoveringOnADuplicate:s,setIsHoveringOnADuplicate:o},e.uploadId))})]})})},iB=e=>{let{uploadFontFile:t,duplicates:i,isHoveringOnADuplicate:n,setIsHoveringOnADuplicate:s,dispatch:o}=e,a=(0,tr.d)(),{fontFile:d,errorMessage:c,uploadId:u}=t,h=void 0===d.sourceUrl&&!c,p=i[u],m=(0,iy.G0)(Object.keys((0,ix.w)())),v=n&&p?"yellow.100":p?"yellow.50":"blackAlpha.50",b=(0,l.useCallback)(()=>{o({type:"DELETE_UPLOAD_FONT_FILE",data:{uploadId:u}}),a({title:(0,r.jsx)(x.x6,{id:"NHHKzo",values:{0:d.name}}),status:"info",duration:1e3,isClosable:!0,position:"top"})},[o,d.name,a,u]),E=p?d.isItalic?(0,r.jsx)(x.x6,{id:"yvnLC0",values:{0:d.weight}}):(0,r.jsx)(x.x6,{id:"QiSKej",values:{0:d.weight}}):"";return(0,r.jsxs)(eB.Tr,{minH:12,width:"100%",background:v,children:[(0,r.jsx)(eN.Td,{py:1,fontSize:"sm",textOverflow:"ellipsis",width:80,pl:0,children:(0,r.jsxs)(j.z,{ml:4,spacing:3,children:[(0,r.jsx)(ij,{fileExtension:d.fileType||I.AKY.Ttf}),(0,r.jsx)(ef.Tz,{placement:"right",label:E,children:(0,r.jsxs)(g.B,{width:"100%",pl:1,spacing:0,cursor:p?"help":"auto",onMouseOver:()=>{s(p)},onMouseOut:()=>{s(!1)},children:[(0,r.jsx)(ef.Tz,{label:(0,r.jsx)(x.x6,{id:"e3mFaa"}),placement:"top",isDisabled:!c,children:(0,r.jsxs)(P.E,{color:c?"red.600":void 0,children:[d.name," ",h?(0,r.jsx)(iI.y,{ml:1,size:"xs",color:"gray"}):c&&(0,r.jsx)(f.az,{as:"span",color:"red.600",children:(0,r.jsx)(_.g,{icon:e0.QJT})})]})}),p&&(0,r.jsx)(P.E,{fontSize:"xs",color:"yellow.700",children:(0,r.jsx)(x.x6,{id:"mAsucF"})})]})})]})}),(0,r.jsx)(eN.Td,{py:1,minW:12,children:(0,r.jsx)(ef.Tz,{"aria-label":X.Ru._({id:"+7pOZT"}),label:(0,r.jsx)(x.x6,{id:"+7pOZT"}),placement:"top",children:(0,r.jsx)(f.az,{children:(0,r.jsx)(iD.S,{size:"sm",isChecked:d.isItalic,onChange:e=>{o({type:"EDIT_UPLOAD_FONT_FILE_STYLE",data:{uploadId:u,isItalic:e.target.checked}})},children:(0,r.jsx)(P.E,{fontSize:"sm",children:(0,r.jsx)(x.x6,{id:"pzutoc"})})})})})}),(0,r.jsx)(eN.Td,{minW:"16",py:"1",pr:"2",children:(0,r.jsx)(ik.l,{bg:"revert",value:d.weight,size:"sm",onChange:e=>{o({type:"EDIT_UPLOAD_FONT_FILE_WEIGHT",data:{uploadId:u,weight:parseInt(e.target.value,10)}})},children:(0,r.jsx)("optgroup",{label:X.Ru._({id:"rgzUkd"}),children:m.map(e=>(0,r.jsxs)("option",{value:e,children:[e," - ",(0,ix.w)()[e]]},e))})})}),(0,r.jsx)(eN.Td,{py:"1",px:"0",children:(0,r.jsx)(ef.Tz,{placement:"top",label:(0,r.jsx)(x.x6,{id:"9cmpNe"}),children:(0,r.jsx)(en.K,{"aria-label":X.Ru._({id:"9cmpNe"}),colorScheme:"red",icon:(0,r.jsx)(_.g,{icon:S.yLS}),variant:"ghost",onClick:b})})})]})},iN=e=>{let{fontFiles:t,dispatch:i}=e,n=(0,l.useMemo)(()=>Object.fromEntries(Object.entries((0,iy.L_)(t)).map(e=>{let[t,i]=e,n=[...i];return n.sort((e,t)=>e.fontFile.fileType!==t.fontFile.fileType?e.fontFile.fileType===I.AKY.Ttf?-1:1:e.fontFile.isItalic!==t.fontFile.isItalic?!1===e.fontFile.isItalic?-1:1:0),[t,n]})),[t]);if(!t)return null;let s=(0,iy.G0)(Object.keys((0,ix.w)()));return(0,r.jsxs)(r.Fragment,{children:[0===t.length&&(0,r.jsx)(ip,{}),s.map(e=>{let t=n[e];return t?(0,r.jsx)(iw,{fontFiles:t,dispatch:i,fontWeight:e},e):null})]})},iR=e=>{let{fontName:t,fontFiles:i,dispatch:n,onFontFileUploadClick:s}=e,o=(0,l.useCallback)(e=>{n({type:"EDIT_FONT_NAME",data:{fontName:e.target.value}})},[n]),a=0===t.length;return(0,r.jsx)(eh.c,{children:(0,r.jsxs)(iu.T,{align:"stretch",mb:"4",children:[(0,r.jsxs)(N.s,{justifyContent:"space-between",gap:6,children:[(0,r.jsxs)(ie.MJ,{isInvalid:a,flex:2,children:[(0,r.jsx)(iT.l,{children:(0,r.jsx)(x.x6,{id:"5qk/OL"})}),(0,r.jsx)(it.p,{type:"text",placeholder:X.Ru._({id:"NFz66a"}),value:t,onChange:o}),a&&(0,r.jsx)(ii.Wt,{alignSelf:"flex-start",children:(0,r.jsx)(x.x6,{id:"YtAPjw"})})]}),(0,r.jsxs)(g.B,{mt:8,flex:1,children:[(0,r.jsx)(M.$,{leftIcon:(0,r.jsx)(_.g,{icon:S.MNJ}),onClick:s,children:(0,r.jsx)(x.x6,{id:"BLNAld"})}),(0,r.jsx)(P.E,{textAlign:"center",fontSize:"xs",color:"gray.600",children:(0,r.jsx)(x.x6,{id:"GYK/1H",values:{GAMMA_PROPER_NOUN:tl.On}})})]})]}),(0,r.jsx)(iN,{fontFiles:i,dispatch:n})]})})};var iP=i(51684);let iM=e=>{let{uploadTip:t,children:i}=e;return(0,r.jsxs)(iu.T,{align:"stretch",children:[(0,r.jsx)(N.s,{width:"100%",alignItems:"center",justifyContent:"center",minH:32,userSelect:"none",background:"gray.50",borderRadius:"md",p:4,mb:1,children:(0,r.jsx)(g.B,{spacing:0,children:i})}),(0,r.jsx)(P.E,{color:"gray.700",fontSize:"sm",children:t})]})},iF=()=>(0,r.jsx)(ep.F,{status:"warning",margin:"0 auto",maxW:412,lineHeight:"var(--chakra-lineHeights-base)",children:(0,r.jsx)(P.E,{fontSize:"xs",color:"yellow.800",children:(0,r.jsx)(x.x6,{id:"K0VJ2a",values:{GAMMA_PROPER_NOUN:tl.On},components:{0:(0,r.jsx)("strong",{}),1:(0,r.jsx)("strong",{})}})})}),iK=e=>{let{onFontFileUploadClick:t}=e;return(0,r.jsx)(eh.c,{children:(0,r.jsxs)(iu.T,{mb:"4",spacing:"8",borderRadius:"md",children:[(0,r.jsxs)(R.D,{textAlign:"center",size:"md",fontWeight:"600",children:[(0,r.jsx)("span",{role:"img","aria-label":"idea",children:"\uD83D\uDCA1"})," ",(0,r.jsx)(x.x6,{id:"O70dt2"})]}),(0,r.jsxs)(is.r,{columns:{base:1,md:3},spacing:4,width:"100%",children:[(0,r.jsx)(iM,{uploadTip:(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(x.x6,{id:"F/H43B",components:{0:(0,r.jsx)("strong",{})}})}),children:(0,r.jsx)(R.D,{fontSize:"3xl",fontWeight:"bold",children:"Inter"})}),(0,r.jsxs)(iM,{uploadTip:(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(x.x6,{id:"b2oYEF",components:{0:(0,r.jsx)("strong",{})}})}),children:[(0,r.jsxs)(P.E,{children:["inter-",(0,r.jsx)("strong",{children:"regular"}),".ttf"," ",(0,r.jsx)(f.az,{color:"green.400",as:"span",children:(0,r.jsx)(_.g,{icon:iP.e68})})]}),(0,r.jsxs)(P.E,{children:["inter-",(0,r.jsx)("strong",{children:"italic"}),".ttf"," ",(0,r.jsx)(f.az,{color:"green.400",as:"span",children:(0,r.jsx)(_.g,{icon:iP.e68})})]}),(0,r.jsxs)(P.E,{children:["inter-",(0,r.jsx)("strong",{children:"bold"}),".ttf"," ",(0,r.jsx)(f.az,{color:"green.400",as:"span",children:(0,r.jsx)(_.g,{icon:iP.e68})})]})]}),(0,r.jsxs)(iM,{uploadTip:(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(x.x6,{id:"xjFrIG",components:{0:(0,r.jsx)("strong",{}),1:(0,r.jsx)("strong",{})}})}),children:[(0,r.jsxs)(P.E,{children:[(0,r.jsx)(P.E,{color:"gray.600",as:"span",children:(0,r.jsx)(_.g,{icon:S.bLf})})," ","...-regular",(0,r.jsx)(ih.C,{colorScheme:"purple",children:".ttf"})]}),(0,r.jsxs)(P.E,{children:[(0,r.jsx)(P.E,{color:"gray.600",as:"span",children:(0,r.jsx)(_.g,{icon:S.bLf})})," ","...-regular",(0,r.jsx)(ih.C,{colorScheme:"pink",children:".otf"})]})]})]}),(0,r.jsxs)(iu.T,{spacing:4,children:[(0,r.jsx)(M.$,{leftIcon:(0,r.jsx)(_.g,{icon:S.MNJ}),variant:"solid",onClick:t,children:(0,r.jsx)(x.x6,{id:"NQrqa1"})}),(0,r.jsx)(P.E,{textAlign:"center",fontSize:"xs",color:"gray.600",children:(0,r.jsx)(x.x6,{id:"GYK/1H",values:{GAMMA_PROPER_NOUN:tl.On}})}),(0,r.jsx)(iF,{})]})]})})};var iz=i(6766),iH=i(17074);let iU=e=>{let t=e.uploadFontFiles.every(e=>("created"===e.status||"existing"===e.status)&&e.fontFile.sourceUrl);return e.fontName&&t},iG=e=>{let{onClose:t,orgId:i,font:n}=e,[s,o]=l.useReducer(iO,iL),a=(0,tr.d)();(0,l.useEffect)(()=>{n?o({type:"EDIT_EXISTING_FONT",data:{font:n}}):o({type:"NEW_FONT_UPLOAD"})},[o,n]);let[d,c]=(0,l.useState)(!1),u=iU(s),h=io(i),p=(0,iy.M$)(s),m=(0,l.useCallback)(()=>{o({type:"RESET_FONT_UPLOAD"}),t()},[o,t]),j=(0,l.useCallback)(e=>{Promise.all(e.map(async e=>{let t=(0,i_.Ak)();try{let i=await (0,iy.J3)(e);o({type:"UPLOAD_FONT_FILE_UPLOAD_STARTED",data:{uploadId:t,fileType:(0,iy.yA)(e.name),name:e.name,...i}})}catch(i){let t=i instanceof iy.Cr;t||console.error("[FontUploadModal] There was an error parsing ".concat(e.name),e,i),a({title:(0,r.jsx)(x.x6,{id:"zr0u7y",values:{0:e.name}}),description:t?(0,r.jsx)(x.x6,{id:"zQ722b"}):(0,r.jsx)(x.x6,{id:"SuKrYu"}),status:"error",isClosable:!0,position:"top",duration:null});return}try{let n=await iA(()=>(0,iz.H)(i,e),{maxRetries:3,timeout:2e4});o({type:"UPLOAD_FONT_FILE_UPLOAD_SUCCESS",data:{uploadId:t,sourceUrl:n}})}catch(i){o({type:"UPLOAD_FONT_FILE_UPLOAD_ERROR",data:{uploadId:t,errorMessage:i instanceof Error?i.message:"There was an error uploading ".concat(e.name)}})}})).catch(e=>{console.error("[FontUploadModal] error while uploading font files",e)})},[o,i,a]),{onClick:g,inputElement:f}=(0,iH.c)({handleFilesCallback:j,multiple:!0,accept:iC.J4.join(",")}),v=(0,l.useCallback)(()=>{c(!0),h(s).then(()=>{"create"===s.mode?a({title:(0,r.jsx)(x.x6,{id:"MXSt4t",values:{0:s.fontName}}),status:"success",duration:1e3,isClosable:!0,position:"top"}):"edit"===s.mode&&a({title:(0,r.jsx)(x.x6,{id:"P2ieni",values:{0:s.fontName}}),status:"success",duration:2e3,isClosable:!0,position:"top"})}).catch(e=>{a({title:"edit"===s.mode?(0,r.jsx)(x.x6,{id:"K45zvU"}):(0,r.jsx)(x.x6,{id:"FL7N1y",values:{0:s.fontName}}),status:"error",duration:5e3,isClosable:!0,position:"top"}),console.error("[FontUploadModal] error ".concat("edit"===s.mode?"editing":"creating"," font"),e)}).finally(()=>{c(!1),t()})},[t,h,s,a]),b=(0,iy.jI)(s.uploadFontFiles.map(e=>e.fontFile));return(0,r.jsxs)(ea.aF,{isOpen:!0,closeOnOverlayClick:!1,onClose:m,size:"3xl",children:[(0,r.jsx)(ed.m,{}),(0,r.jsxs)(ec.$,{children:[(0,r.jsx)(eu.r,{children:s.hasUploadedFonts?s.fontName?s.fontName:(0,r.jsx)(x.x6,{id:"yT14LZ"}):(0,r.jsx)(x.x6,{id:"O7HGjV"})}),(0,r.jsx)(ex.s,{isDisabled:d}),(0,r.jsx)(tM.c,{mb:"4"}),f,s.hasUploadedFonts?(0,r.jsx)(iR,{fontFiles:s.uploadFontFiles,fontName:s.fontName,dispatch:o,onFontFileUploadClick:g}):(0,r.jsx)(iK,{onFontFileUploadClick:g}),(0,r.jsx)(tM.c,{mb:1}),(0,r.jsx)(eg.j,{children:s.hasUploadedFonts?(0,r.jsxs)(N.s,{flex:1,mb:"2",alignItems:"center",justifyContent:"space-between",children:[(0,r.jsx)(P.E,{children:(0,r.jsx)(x.x6,{id:"yDnXlV",values:{numOfStyles:b}})}),(0,r.jsxs)(eV.e,{children:[(0,r.jsx)(M.$,{variant:"ghost",onClick:t,children:(0,r.jsx)(x.x6,{id:"dEgA5A"})}),(0,r.jsx)(M.$,{isDisabled:!u||!p,variant:"solid",onClick:v,isLoading:d,children:"edit"===s.mode?(0,r.jsx)(x.x6,{id:"tfDRzk"}):(0,r.jsx)(x.x6,{id:"N/mjN3"})})]})]}):(0,r.jsx)(M.$,{variant:"ghost",onClick:t,children:(0,r.jsx)(x.x6,{id:"dEgA5A"})})})]})]})};var iW=i(89528),iY=i(84287),iV=i(90221);let iX=e=>{let{label:t,icon:i,onClick:n}=e,l=(0,K.ez)("custom_fonts");return(0,r.jsx)(ic,{bg:"gray.50",onClick:n,children:(0,r.jsxs)(g.B,{align:"center",children:[(0,r.jsx)(P.E,{fontSize:"x-large",children:i}),(0,r.jsx)(P.E,{children:t}),(0,r.jsx)(iW.Ch,{productFeature:"custom_fonts",canUseFeature:l})]})})};var iQ=i(51567),i$=i(2002),iJ=i(53756),iq=i(30557),iZ=i(42891),i0=i(87047);let i1=(0,l.memo)(e=>{let{selectedImageAttrs:t,setSelectedImageAttrs:i,finalFocusRef:n,isOpen:l,onClose:s}=e;return(0,r.jsxs)(iq._,{isOpen:l,placement:"right",onClose:s,finalFocusRef:n,size:"lg",children:[(0,r.jsx)(ed.m,{}),(0,r.jsxs)(iZ.z,{children:[(0,r.jsx)(ex.s,{}),(0,r.jsx)(eu.r,{children:(0,r.jsx)(P.E,{fontSize:"3xl",fontWeight:"bold",children:(0,r.jsx)(x.x6,{id:"O+LXs1"})})}),(0,r.jsx)(eh.c,{children:(0,r.jsx)(i0.o,{currentAttributes:t,updateAttributes:i,savedMediaContext:I.rWX.Dashboard,editType:"node",resetToPlaceholder:()=>{}})})]})]})});i1.displayName="AIImagesEditPanel";var i6=i(38420);let i2=e=>{var t;let{image:i,onClick:n,imageRef:l}=e;return(0,r.jsx)(E.E,{ref:l,_hover:{cursor:"pointer"},children:(0,r.jsx)(Y._,{src:null==i||null==(t=i.attrs)?void 0:t.src,w:"100%",h:"100%",objectFit:"cover",onClick:n,borderRadius:"md"})})},i5=e=>{let{images:t,onImageClick:i,imageRef:n,loading:s,canFetchMore:o,fetchMore:a,isFetchingMore:d}=e,c=(0,l.useMemo)(()=>!t||s?{}:t.reduce((e,t)=>{let i=new Date(t.createdTime).toISOString().slice(0,7);return e[i]||(e[i]=[]),e[i].push(t),e},{}),[t,s]);return(0,r.jsxs)(N.s,{direction:"column",align:"stretch",children:[Object.entries(c).map(e=>{let[t,l]=e;return(0,r.jsxs)(N.s,{direction:"column",mb:4,children:[(0,r.jsx)(P.E,{fontSize:"lg",fontWeight:"semibold",mb:4,children:(0,ev.Yq)(t,"MMM yyyy")}),(0,r.jsx)(i6.i,{columnsCountBreakPoints:{350:1,750:2,900:3,1200:4,1400:5},children:(0,r.jsx)(i6.A,{gutter:"0.5rem",children:l.map(e=>(0,r.jsx)(i2,{image:e,onClick:()=>i(e.attrs),imageRef:n},e.id))})})]},t)}),o&&(0,r.jsx)(M.$,{variant:"plain",onClick:a,mt:4,isLoading:d,children:(0,r.jsx)(x.x6,{id:"yQ2kGp"})})]})},i4=e=>{let{isDisabled:t,onClick:i}=e;return(0,r.jsx)(M.$,{isDisabled:t,variant:"special",onClick:i,leftIcon:(0,r.jsx)(_.g,{icon:S.QLR}),rightIcon:(0,r.jsx)(F.E,{textShadow:"none",children:(0,r.jsx)(x.x6,{id:"QaFhiw"})}),children:(0,r.jsx)(x.x6,{id:"u4O+RH"})})},i3=e=>{let{description:t,ariaLabel:i,displayName:n,icon:l,showCreateButton:s,onOpen:o}=e;return(0,r.jsxs)(N.s,{flex:"1",mb:4*!(0,H.Xb)(),direction:"column",children:[(0,r.jsxs)(f.az,{w:["100%","auto"],children:[(0,r.jsxs)(j.z,{h:"1.5em",children:[(0,r.jsxs)(R.D,{fontSize:"lg",fontWeight:"600","data-testid":"docs-view-header",children:[l&&(0,r.jsx)(_.g,{icon:l,"aria-label":i()})," ",(0,r.jsx)(P.E,{as:"span",ml:2,children:n})]}),(0,r.jsx)(V.h,{})]}),t&&(0,r.jsx)(P.E,{color:"gray.600",fontSize:"sm",children:t})]}),s&&(0,r.jsx)(g.B,{direction:{base:"column",lg:"row"},spacing:2,mt:4,children:(0,r.jsx)(i4,{isDisabled:!1,onClick:o})})]})},i8=l.memo(()=>(0,r.jsxs)(f.az,{alignSelf:"flex-start",children:[(0,r.jsx)(iu.T,{align:"stretch",spacing:4,width:"100%",children:(0,r.jsx)(y.E,{height:"24px",width:"130px",borderRadius:"sm",startColor:"gray.100",endColor:"gray.300",opacity:"25%"})}),(0,r.jsx)(V.h,{height:2}),(0,r.jsx)(is.r,{columns:{base:2,md:3},spacing:"0.5rem",children:[void 0,void 0,void 0].map((e,t)=>(0,r.jsx)(y.E,{height:{base:"125px",lg:"200px"},width:{base:"125px",lg:"200px"},borderRadius:"sm",startColor:"gray.100",endColor:"gray.300",opacity:"25%"},t))})]}));i8.displayName="AIImageHistorySkeleton";var i9=i(34906),i7=i(40926),ne=i(3844);let nt=e=>{let{deck:t}=e,i=(0,i7.OM)(t),n=(0,eC.LN)({docId:i,path:"example"});return(0,r.jsx)(eM.Dg,{title:t.title||"",menuEnabled:!0,href:n,id:i,createdTime:new Date().toISOString(),thumbnailImageUrl:{src:null==t?void 0:t.previewImageUrl,fallbackSrc:q.A.src},NextLink:$(),onFavorite:void 0,isTrashAndRestoreEnabled:!1,createdByName:(null==t?void 0:t.authorDisplayName)||"Gamma",createdByProfileImageUrl:(null==t?void 0:t.authorImageUrl)||ne.A.src,isDuplicateEnabled:!1},i)},ni=e=>{let{category:t}=e;if(!t)return(0,r.jsx)(r.Fragment,{});let i=t.decks;return(0,r.jsxs)(f.az,{mb:8,children:[(0,r.jsx)(i9.B,{category:t}),(0,r.jsx)(eM.SW,{children:null==i?void 0:i.map(e=>(0,r.jsx)(nt,{deck:e},e.docId))})]},t.id)};var nn=i(62557),nr=i(39309);let nl="260px";var ns=i(25172),no=i(18911);let na="template-preview-modal-body",nd=e=>{let{doc:t,theme:i,snapshotContent:n,setEditor:l}=e;return(0,r.jsxs)(N.s,{w:"100%",flex:1,direction:"column",className:"".concat(na),align:"center",overflowY:"auto",overflowX:"auto",justifyContent:"flex-start",h:"100%",borderWidth:"1px",borderStyle:"solid",borderColor:"gray.200",css:{"--editor-width":"calc(100vw - ".concat(nl," - var(--chakra-sizes-32) - 2px)")},children:[(0,r.jsx)(no.s,{}),(0,r.jsx)(ns.bw,{animationsEnabled:!1,isStatic:!1,theme:i||void 0,initialContent:n,doc:t,docId:t.id,readOnly:!0,scrollingParentSelector:".".concat(na),onCreate:e=>{let{editor:t}=e;return l(t)}},t.id)]})};var nc=i(27250);let nu=e=>{let{isChecked:t,setTheme:i,theme:n}=e;return(0,r.jsxs)(f.az,{as:G.Q,p:2,transition:"all 0.2s ease-in-out",bgColor:t?"trueblue.100":"linen.50",textAlign:"start",tabIndex:0,borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_focus:{boxShadow:t?void 0:"outline"},outline:"none",onClick:()=>i(n),_hover:{bgColor:t?"trueblue.100":"gray.100"},"data-theme-id":n.id,"data-testid":t?"current-theme-preview":void 0,cursor:"pointer",children:[(0,r.jsx)(nc.q,{theme:n}),(0,r.jsxs)(g.B,{direction:"row",spacing:1,pt:1,children:[t&&(0,r.jsx)(eY.S,{w:3,h:"auto",me:1,color:"trueblue.700"}),(0,r.jsx)(P.E,{fontSize:"sm",noOfLines:1,"data-testid":"theme-name",color:t?"trueblue.700":void 0,children:n.name})]})]})},nx=e=>{let{heading:t,themes:i,currentTheme:n,setTheme:l}=e;return(0,r.jsxs)(g.B,{spacing:2,children:[(0,r.jsx)(ef._x,{children:t}),(0,r.jsx)(g.B,{spacing:4,p:1,pe:4,children:null==i?void 0:i.map((e,t)=>{let i=e.id===(null==n?void 0:n.id);return(0,r.jsx)(nu,{theme:e,setTheme:l,isChecked:i},t)})})]})},nh=e=>{let{templateTheme:t,setTheme:i,currentTheme:n,themes:l,onCloneClick:s,isCloneButtonDisabled:o}=e;return(0,r.jsxs)(N.s,{w:nl,ms:4,direction:"column",children:[(0,r.jsx)(f.az,{w:"100%",pb:8,children:(0,r.jsx)(M.$,{w:"100%",variant:"solid",size:"lg",onClick:s,isDisabled:o,children:(0,r.jsx)(x.x6,{id:"p6eI8J"})})}),(0,r.jsxs)(g.B,{spacing:6,overflowY:"auto",h:"100%",pb:8,children:[(0,r.jsx)(nx,{heading:(0,r.jsx)(x.x6,{id:"mdLv9o"}),themes:t?[t]:[],currentTheme:n,setTheme:i}),(0,r.jsx)(nx,{heading:(0,r.jsx)(x.x6,{id:"mvmJyu"}),themes:l||[],currentTheme:n,setTheme:i}),(0,r.jsx)(g.B,{spacing:4,p:1,pe:4,children:(0,r.jsx)(N.s,{alignItems:"center",justifyContent:"center",border:"1px solid",borderColor:"gray.200",borderRadius:"lg",background:"gray.50",minH:36,_hover:{background:"white",color:"trueblue.600",cursor:"pointer"},onClick:()=>s({openThemeEditor:!0}),children:(0,r.jsxs)(g.B,{textAlign:"center",children:[(0,r.jsx)(P.E,{fontSize:"xl",children:(0,r.jsx)(_.g,{icon:S.q_k})}),(0,r.jsx)(P.E,{children:(0,r.jsx)(x.x6,{id:"YHI6sk"})})]})})}),(0,r.jsx)(f.az,{px:2,py:4,children:(0,r.jsxs)(P.E,{textAlign:"center",fontSize:"sm",color:"gray.600",children:[(0,r.jsx)(x.x6,{id:"k0ByBj",values:{GAMMA_ARTIFACT_PROPER_NOUN:tl.TP}})," ",(0,r.jsx)("span",{role:"img","aria-label":"thumbs-up",children:"\uD83D\uDC4D"})]})})]})]})},np=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eu.r,{children:(0,r.jsx)(y.E,{w:"80%",h:"48px"})}),(0,r.jsx)(ex.s,{}),(0,r.jsxs)(eh.c,{display:"flex",overflow:"hidden",children:[(0,r.jsx)(N.s,{flex:1,children:(0,r.jsx)(ti.o,{w:"100%",bg:"gray.100",children:(0,r.jsx)(iI.y,{})})}),(0,r.jsxs)(N.s,{w:nl,ms:4,direction:"column",children:[(0,r.jsx)(y.E,{w:"100%",h:"48px",mb:4}),(0,r.jsx)(y.E,{w:"50%",h:8,mb:4}),(0,r.jsx)(y.E,{w:"100%",h:36,mb:4}),(0,r.jsx)(y.E,{w:"100%",h:36,mb:4}),(0,r.jsx)(y.E,{w:"100%",h:36,mb:4})]})]}),(0,r.jsx)(eg.j,{children:(0,r.jsx)(y.E,{w:48,h:"42px"})})]}),nm=e=>{let{onClose:t,heading:i,errorMessage:n,onBackClick:l}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(eu.r,{children:[!!l&&(0,r.jsx)(en.K,{"aria-label":"Back",icon:(0,r.jsx)(nn.g,{}),variant:"ghost",onClick:l,me:2}),i]}),(0,r.jsx)(ex.s,{}),(0,r.jsx)(eh.c,{display:"flex",overflow:"hidden",className:"template-preview-modal-body",children:(0,r.jsx)(N.s,{direction:"column",justify:"center",align:"center",w:"100%",children:(0,r.jsx)(nr.K,{title:(0,r.jsx)(x.x6,{id:"zwZQVm"}),message:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.x6,{id:"u4Djqb"}),(0,r.jsx)("br",{}),!!n&&n]})})})}),(0,r.jsx)(eg.j,{children:(0,r.jsx)(M.$,{variant:"solid",onClick:t,children:(0,r.jsx)(x.x6,{id:"yz7wBu"})})})]})},nj=e=>{var t;let{previewDeck:i,onBackClick:n,forceChannelId:s,onClose:o}=e,[a,d]=(0,l.useState)(!1),c=(0,tu.Z)(),u=(0,i7.OM)(i);(0,t$.JQ)(e=>{e.track(t$.VV.DOC_VIEWED,{doc_id:u}),e.track(t$.VV.EXAMPLE_VIEWED,{doc_id:u})});let{data:x,loading:h,error:p}=(0,I.exD)({variables:{id:u},skip:!u,fetchPolicy:"cache-first",nextFetchPolicy:"cache-only"}),{data:m}=(0,I.Snx)({variables:{workspaceId:null,archived:!1},fetchPolicy:"cache-first",nextFetchPolicy:"cache-only"}),j=(null==m?void 0:m.themes)||[],g=(0,t$.st)(),f=null==x?void 0:x.doc,v=null==f?void 0:f.theme,[b,E]=(0,l.useState)(v),y=(0,l.useRef)(!1),[S,_]=(0,l.useState)(),C=!i||h,A=p||p,L=null==f||null==(t=f.currentSnapshot)?void 0:t.content.default,O=[...j.filter(e=>e.id!==(null==v?void 0:v.id))];(0,l.useEffect)(()=>{v&&!y.current&&(E(v),y.current=!0)},[v]),(0,l.useEffect)(()=>{if(S){let e=null==b?void 0:b.config.accentBackgrounds;if(!e||0===e.length){L&&S.commands.setContent(L);return}S.commands.updateThemeAccentImages(e)}},[L,S,b]);let T=(0,l.useCallback)(e=>{E(e),null==g||g.track(t$.VV.IN_APP_TEMPLATE_THEME_CLICKED,{theme_id:e.id})},[g]),D=(0,l.useCallback)(e=>{let{openThemeEditor:t}=e;f&&L&&(d(!0),t&&(null==g||g.track(t$.VV.IN_APP_TEMPLATE_CREATE_THEME_CLICKED,{source_doc_id:f.id})),c({docId:f.id,initialContent:L,channelId:s,newWindow:!(0,H.sX)(),onSuccess:o,openThemeEditor:t,source:t?"template_modal_preview":"template_modal_preview_create_theme"}))},[f,L,c,s,g,o]);return C?(0,r.jsx)(np,{}):!A&&i&&f&&L?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(eu.r,{children:[!!n&&(0,r.jsx)(en.K,{"aria-label":"Back",icon:(0,r.jsx)(nn.g,{}),variant:"ghost",onClick:n,me:2}),i.title]}),(0,r.jsx)(ex.s,{}),(0,r.jsxs)(eh.c,{display:"flex",overflow:"hidden",children:[(0,r.jsx)(nd,{doc:f,snapshotContent:L,theme:b,setEditor:_}),(0,r.jsx)(nh,{setTheme:T,currentTheme:b,templateTheme:v,themes:O,onCloneClick:D,isCloneButtonDisabled:a})]})]}):(A&&console.error("[TemplatePreview] Error loading template: ".concat(null==A?void 0:A.message)),(0,r.jsx)(nm,{onClose:o,onBackClick:n,heading:(null==i?void 0:i.title)?i.title:"Error loading template",errorMessage:null==A?void 0:A.message}))},ng=e=>{let{isOpen:t,onClose:i,forceDocId:n=null,forceChannelId:s=null,forceCategoryId:o=null}=e,a=(0,tm.GV)(d.Pg),[c,u]=(0,l.useState)(n),x=(0,i7.eo)(a),h=null==x?void 0:x.find(e=>(0,i7.OM)(e)===c);return(0,r.jsxs)(ea.aF,{isOpen:t,onClose:i,size:"full",returnFocusOnClose:!1,children:[(0,r.jsx)(ed.m,{}),(0,r.jsx)(ec.$,{borderRadius:"xl",m:6,minH:"calc(100vh - var(--chakra-sizes-12))",h:"calc(100vh - var(--chakra-sizes-12))",w:"calc(100vw - var(--chakra-sizes-12))",children:(0,r.jsx)(nj,{onBackClick:n?void 0:()=>u(null),previewDeck:h,forceChannelId:s,onClose:i})})]})},nf={transitionProperty:"common",transitionDuration:"normal",transform:"scale(.9)",opacity:0,_groupFocus:{opacity:1,transform:"scale(1)"},_groupHover:{opacity:1,transform:"scale(1)"},_focus:{opacity:1,shadow:"outline"}},nv=e=>{let{deck:t,onPreviewClick:i,forceChannelId:n=null,onCloseEnclosingModal:s}=e,{isOpen:o,onOpen:a,onClose:d}=(0,m.j)({id:"template-browser-modal"}),c=(0,i7.OM)(t),u=(0,tu.Z)(),[h,p]=(0,l.useState)(!1),{title:j,previewImageUrl:v}=t,b=i?()=>i(c):a,y=(0,l.useCallback)(()=>{if(!c)return void console.error("[TemplateGridItem] docIdToUse is required to clone");s||p(!0),u({docId:c,channelId:n,source:s?"template_modal_griditem":"template_dashboard_griditem",newWindow:!(0,H.sX)(),onSuccess:()=>{s?s():setTimeout(()=>{p(!1)},3e3)}})},[c,u,n,s]);return c?(0,r.jsxs)(E.E,{role:"group",position:"relative",children:[(0,r.jsxs)(g.B,{children:[(0,r.jsxs)(f.az,{tabIndex:0,role:"group",borderRadius:"5px",shadow:"md",_focus:{shadow:"outline"},_focusWithin:{shadow:"outline"},_hover:{shadow:"lg"},position:"relative",overflow:"hidden",transition:"box-shadow .2s ease",color:"white",onClick:e=>{var t,i;(null==(t=e.target)?void 0:t.closest('[data-target-name="use-template-button"]'))||(null==(i=e.target)?void 0:i.closest('[data-target-name="preview-button"]'))||b()},cursor:"pointer",children:[(0,r.jsx)(W.g,{ratio:40/21,bgColor:"gray.100",children:(0,r.jsx)(Y._,{src:v,fallbackSrc:q.A.src,fit:"cover"})}),(0,r.jsx)(N.s,{alignItems:"center",justifyContent:"center",position:"absolute",inset:0,zIndex:2,children:(0,r.jsxs)(g.B,{direction:"column",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[(0,r.jsx)(M.$,{...nf,size:"sm","data-target-name":"use-template-button",variant:"solid",onClick:y,isDisabled:h,children:(0,r.jsx)(x.x6,{id:"QNtP5M"})}),(0,r.jsx)(M.$,{"data-target-name":"preview-button",...nf,onClick:b,w:"fit-content",size:"xs",variant:"plain",textDecoration:"none !important",children:(0,r.jsx)(x.x6,{id:"rdUucN"})})]})}),(0,r.jsx)(f.az,{position:"absolute",inset:0,bg:"blackAlpha.300",zIndex:1,transitionProperty:"common",transitionDuration:"normal",opacity:0,_groupFocus:{opacity:1},_groupHover:{opacity:1}})]}),(0,r.jsx)(P.E,{fontSize:"md",children:j})]}),(0,r.jsx)(ng,{forceDocId:c,isOpen:o,onClose:d})]}):(console.error(["[TemplateGridItem] docIdToUse is not defined",t]),(0,r.jsx)(r.Fragment,{}))},nb=e=>{let{category:t}=e;if(!t)return(0,r.jsx)(r.Fragment,{});let i=t.decks;return(0,r.jsxs)(f.az,{mb:8,children:[(0,r.jsx)(i9.B,{category:t}),(0,r.jsx)(eM.SW,{children:null==i?void 0:i.map(e=>(0,r.jsx)(nv,{deck:e},e.docId))})]},t.id)};var nE=i(79536),ny=i(95695),nS=i(91792),n_=i(81144),nC=i(49023),nA=i(1057);let nL=e=>{let{themes:t,type:i,globalFontsMap:n}=e,s=(0,l.useMemo)(()=>[...t].sort(nA._1),[t]),o=(0,l.useMemo)(()=>e=>{if("archived"!==i)return()=>{"custom"===i?(0,tH.vd)({theme:e}):"standard"===i&&(0,tH.L6)({theme:e})}},[i]);return(0,r.jsx)(g.B,{children:(0,r.jsx)(is.r,{columns:[1,2,2,3,5],spacing:6,children:s.map(e=>{let t=e.bodyFont&&!n[e.bodyFont]||e.headingFont&&!n[e.headingFont];return(0,r.jsx)(nE.e,{type:i,theme:e,isChecked:!1,hasCustomFonts:!!t,onThemeClicked:o(e)},e.id)})})})},nO=eT(e=>{let{isSidebarVisible:t,setIsSidebarVisible:i}=e,{displayName:n,description:s,ariaLabel:o,icon:a,showCreateButton:d}=z.mQ[z.uL.IMAGES],{query:c}=(0,L.useRouter)();(0,iQ.o)("new");let[u,x]=(0,l.useState)(null),{isOpen:h,onOpen:p,onClose:j}=(0,m.j)(),g=(0,l.useRef)(null),{history:v,isLoading:b,loadMore:E,isLoadingMore:y,canLoadMore:S}=(0,iJ.X)({scope:"user",count:50,savedMediaContext:I.rWX.Dashboard});return(0,l.useEffect)(()=>{"true"===c.new&&p()},[c.new,p,c]),(0,r.jsxs)(N.s,{w:"100%",h:"100%",direction:"column",children:[(0,r.jsx)(eI.e,{isSidebarVisible:t,setIsSidebarVisible:i,children:(0,r.jsx)(i3,{displayName:n,ariaLabel:o,description:s,icon:a,showCreateButton:d&&(null==v?void 0:v.length)>0,onOpen:p})}),b?(0,r.jsx)(i8,{}):(null==v?void 0:v.length)?(0,r.jsx)(i5,{images:null!=v?v:[],onImageClick:e=>{x(e),p()},imageRef:g,loading:b,canFetchMore:S,fetchMore:E,isFetchingMore:y}):(0,r.jsx)(iu.T,{display:"flex",flexDirection:"column",alignItems:"center",margin:"auto",flex:1,h:"100%",maxW:"3xl",justifyContent:"center",children:(0,r.jsx)(f.az,{maxW:"360px",children:(0,r.jsx)(T.p,{title:i$.G.title,description:i$.G.description,children:(0,r.jsx)(i4,{isDisabled:!1,onClick:p})})})}),(0,r.jsx)(i1,{isOpen:h,onClose:()=>{x({}),j()},finalFocusRef:g,selectedImageAttrs:null!=u?u:{},setSelectedImageAttrs:x})]})}),nT=eT(e=>{let{isSidebarVisible:t,setIsSidebarVisible:i}=e,n=(0,tm.GV)(d.Pg),{isOpen:l,onOpen:s,onClose:o}=(0,m.j)({id:"template-browser-modal"});if((0,H.Xb)())return O().replace("/"),null;let{displayName:a,ariaLabel:c,icon:u}=z.mQ[z.n8.TEMPLATES];return(0,r.jsxs)(f.az,{w:"100%","data-testid":"templates-view-container",children:[(0,r.jsx)(eI.e,{isSidebarVisible:t,setIsSidebarVisible:i,children:(0,r.jsxs)(R.D,{fontSize:"lg",fontWeight:"600","data-testid":"docs-view-header",children:[u&&(0,r.jsx)(_.g,{icon:u,"aria-label":c()})," ",(0,r.jsx)(P.E,{as:"span",ml:2,children:a})]})}),n&&(null==n?void 0:n.length)>0&&(null==n?void 0:n.map(e=>(0,r.jsx)(nb,{category:e},e.id))),l&&(0,r.jsx)(ng,{isOpen:!0,onClose:o})]})}),nI=eT(e=>{let{isSidebarVisible:t,setIsSidebarVisible:i}=e,n=(0,tm.GV)(d.dB),{displayName:l,ariaLabel:s,description:o,icon:a}=z.mQ[z.n8.INSPIRATION];return(0,r.jsxs)(f.az,{w:"100%","data-testid":"inspiration-view-container",children:[(0,r.jsx)(eI.e,{isSidebarVisible:t,setIsSidebarVisible:i,children:(0,r.jsxs)(R.D,{fontSize:"lg",fontWeight:"600","data-testid":"docs-view-header",children:[a&&(0,r.jsx)(_.g,{icon:a,"aria-label":s()})," ",(0,r.jsx)(P.E,{as:"span",ms:2,children:l})]})}),n&&(null==n?void 0:n.length)>0&&(null==n?void 0:n.map(e=>(0,r.jsx)(ni,{category:e},e.id)))]})}),nD=eT(e=>{let{isSidebarVisible:t,setIsSidebarVisible:i}=e,[n,s]=(0,l.useState)("custom"),{currentWorkspace:o}=(0,B.ur)();(0,nC.t)();let{globalFontsMap:a}=(0,nS.II)(),d=(0,L.useRouter)(),{data:c,loading:u,called:h}=(0,I.Snx)({variables:{workspaceId:null==o?void 0:o.id,archived:!1},skip:!o}),{data:p}=(0,I.Snx)({variables:{workspaceId:null,archived:!1}}),[m,{data:j,loading:v}]=(0,I.Oc4)({variables:{workspaceId:null==o?void 0:o.id,archived:!0},fetchPolicy:"cache-first",nextFetchPolicy:"cache-only"});(0,l.useEffect)(()=>{"archived"===n&&o&&m()},[o,n,m]);let b=(null==j?void 0:j.themes)||[],C=(null==c?void 0:c.themes)||[],A=(null==p?void 0:p.themes)||[],O=!h||u||v,{displayName:k,description:w,ariaLabel:N,icon:F}=z.mQ[z.n8.THEMES],K=ny.K1.map(e=>({key:e,...(0,ny.k9)()[e]})),H="custom"===n?C:"archived"===n?b:A,U=(0,D.u)("themeImportAi")&&o,G=K.find(e=>e.key===n),W=0!==H.length;(0,nS.SZ)(d.query.themeId);let Y="custom"===n&&!W&&!O;return(0,r.jsxs)(f.az,{w:"100%","data-testid":"themes-view-container",children:[(0,r.jsx)(no.s,{}),(0,r.jsxs)(eI.e,{isSidebarVisible:t,setIsSidebarVisible:i,children:[(0,r.jsxs)(R.D,{fontSize:"lg",fontWeight:"600","data-testid":"themes-view-header",children:[F&&(0,r.jsx)(_.g,{icon:F,"aria-label":N()})," ",(0,r.jsx)(P.E,{as:"span",ms:2,children:k})]}),(0,r.jsx)(P.E,{fontSize:"md",mt:"2",color:"gray.600",children:w}),(0,r.jsx)(g.B,{direction:{base:"column",lg:"row"},spacing:2,my:4,children:(0,r.jsxs)(eV.e,{size:"md",children:[o&&(0,r.jsx)(ef.Tz,{label:(0,r.jsx)(x.x6,{id:"LPcaN9"}),placement:"top",children:(0,r.jsx)(M.$,{variant:"solid",leftIcon:(0,r.jsx)(_.g,{icon:S.QLR}),onClick:tH._E,"data-testid":"new-theme-button",children:(0,r.jsx)(x.x6,{id:"FiwgR9"})})}),U&&(0,r.jsx)(ef.Tz,{label:(0,r.jsx)(x.x6,{id:"OPW4Wb"}),placement:"top",children:(0,r.jsx)(M.$,{variant:"plain",leftIcon:(0,r.jsx)(_.g,{icon:S.$MS}),onClick:tH.yJ,children:(0,r.jsx)(x.x6,{id:"/Zo0hK"})})})]})}),(0,r.jsx)(tA.x,{selectedOption:G,setSelectedOption:e=>s(e.key),options:K,dropdownButtonLeftIcon:(0,r.jsx)(_.g,{icon:S.mRM,fixedWidth:!0}),dropdownMenuTitle:X.Ru._({id:"MwX53Z"})})]}),O&&(0,r.jsx)(f.az,{width:"100%","data-testid":"themes-skeleton",children:(0,r.jsx)(is.r,{columns:[1,2,2,3,5],spacing:6,children:[1,2,3,4,5,6,7,8].map(e=>(0,r.jsx)(E.E,{bg:"linen.50",borderRadius:"5px",height:"144px",as:y.E},e))})}),!O&&W&&(0,r.jsx)(nL,{themes:H,type:n,globalFontsMap:a}),"archived"===n&&!W&&!O&&(0,r.jsx)(x.x6,{id:"IrP0/5"}),Y&&(0,r.jsx)(ti.o,{minH:"sm",pt:12,children:(0,r.jsx)(f.az,{maxW:"400px",children:(0,r.jsx)(T.p,{title:(0,r.jsx)(x.x6,{id:"aTESP9"}),description:(0,r.jsx)(x.x6,{id:"/2Z+bx"})})})}),(0,r.jsx)(n_.n,{})]})}),nk=eT(e=>{let{isSidebarVisible:t,setIsSidebarVisible:i}=e,{currentWorkspace:n}=(0,B.ur)(),{openUpsellModal:s}=(0,iY.I)(),o=(0,K.ez)("custom_fonts"),[a,d]=(0,l.useState)(null),{data:c,error:u,loading:h}=(0,I.Ztt)({variables:{workspaceId:null==n?void 0:n.id,archived:!1},skip:!n}),{isOpen:p,onOpen:j,onClose:v}=(0,m.j)(),{isOpen:b,onOpen:E,onClose:y}=(0,m.j)(),{isOpen:C,onOpen:A,onClose:L}=(0,m.j)(),O=(0,l.useCallback)((e,t)=>()=>{if(!o)return void s({segmentEvent:t$.VV.GAMMA_PRO_UPSELL_CALLOUT_CUSTOM_FONTS});d(e),"edit"===t?j():(E(),v()),L()},[o,s,E,L,j,v]),T=(0,l.useCallback)(()=>{if(!o)return void s({segmentEvent:t$.VV.GAMMA_PRO_UPSELL_CALLOUT_CUSTOM_FONTS});d(null),j()},[o,s,j]),D=(0,l.useCallback)(e=>()=>{d(e),A()},[A]),{displayName:k,description:w,ariaLabel:N,icon:M}=z.mQ[z.n8.FONTS],F=((null==c?void 0:c.fonts)||[]).filter(e=>!e.archived),H=F.map(e=>({id:e.id,name:e.name,url:e.cssUrl})),U=F.length;return(0,r.jsxs)(f.az,{w:"100%","data-testid":"fonts-view-container",children:[(0,r.jsx)(iV.J,{fonts:H}),(0,r.jsxs)(eI.e,{isSidebarVisible:t,setIsSidebarVisible:i,children:[(0,r.jsxs)(R.D,{fontSize:"lg",fontWeight:"600","data-testid":"fonts-view-header",children:[M&&(0,r.jsx)(_.g,{icon:M,"aria-label":N()})," ",(0,r.jsx)(P.E,{as:"span",ms:2,children:k})]}),(0,r.jsx)(P.E,{fontSize:"md",mt:"2",mb:"6",color:"gray.600",children:w})]}),(0,r.jsxs)(g.B,{children:[(0,r.jsx)(P.E,{color:"gray.600",children:(0,r.jsx)(x.x6,{id:"GOR0mG",values:{numOfFonts:U}})}),(0,r.jsxs)(is.r,{columns:{base:1,md:2,xl:3,"2xl":4},spacing:6,children:[(0,r.jsx)(iX,{label:(0,r.jsx)(x.x6,{id:"O7HGjV"}),icon:(0,r.jsx)(_.g,{icon:S.MNJ}),onClick:T}),!h&&!u&&F.map(e=>(0,r.jsx)(iS,{font:e,onEditClick:O(e,"edit"),onDeleteClick:O(e,"delete"),onClick:D(e)},e.id))]})]}),p&&n&&(0,r.jsx)(iG,{onClose:v,orgId:n.id,font:a}),b&&n&&a&&(0,r.jsx)(id,{onClose:y,orgId:n.id,font:a}),C&&a&&(0,r.jsx)(ib,{onClose:L,onEditClick:O(a,"edit"),onDeleteClick:O(a,"delete"),font:a})]})}),nw=()=>{let{isInOfflineMode:e}=(0,h.u)(),{activeTab:t,userHasNoWorkspaces:i,currentChannelId:n,channelPreview:l,isSidebarVisible:s,setIsSidebarVisible:o,sitesEnabled:a,activeChannel:d}=(0,p.q)();switch(t){case"all":return(0,r.jsx)(il,{activeTab:t,userHasNoWorkspaces:i,isSidebarVisible:s,setIsSidebarVisible:o,currentChannelId:n,activeChannel:d,channelPreview:l,isOffline:e});case"sites":if(a)return(0,r.jsx)(ek,{isSidebarVisible:s,setIsSidebarVisible:o,offlineHeading:(0,r.jsx)(x.x6,{id:"Dof5VE"}),offlineDescription:(0,r.jsx)(x.x6,{id:"u0EQli"})});case"images":return(0,r.jsx)(nO,{isSidebarVisible:s,setIsSidebarVisible:o,offlineHeading:(0,r.jsx)(x.x6,{id:"4v2FOG"}),offlineDescription:(0,r.jsx)(x.x6,{id:"x+pag6"})});case"templates":return(0,r.jsx)(nT,{isSidebarVisible:s,setIsSidebarVisible:o,offlineHeading:(0,r.jsx)(x.x6,{id:"YYsmce"}),offlineDescription:(0,r.jsx)(x.x6,{id:"lMx/ij"})});case"inspiration":return(0,r.jsx)(nI,{isSidebarVisible:s,setIsSidebarVisible:o,offlineHeading:(0,r.jsx)(x.x6,{id:"dkw/zY"}),offlineDescription:(0,r.jsx)(x.x6,{id:"8S3Eta"})});case"themes":return(0,r.jsx)(nD,{isSidebarVisible:s,setIsSidebarVisible:o,offlineHeading:(0,r.jsx)(x.x6,{id:"6P6zXk"}),offlineDescription:(0,r.jsx)(x.x6,{id:"TVO3Di"})});case"fonts":return(0,r.jsx)(nk,{isSidebarVisible:s,setIsSidebarVisible:o,offlineHeading:(0,r.jsx)(x.x6,{id:"lPCuxG"}),offlineDescription:(0,r.jsx)(x.x6,{id:"jD6dRp"})});default:return(0,r.jsx)(il,{activeTab:t,userHasNoWorkspaces:i,isSidebarVisible:s,setIsSidebarVisible:o,currentChannelId:n,activeChannel:d,channelPreview:l,isOffline:e})}};var nB=i(95669),nN=i.n(nB);let nR=()=>(0,r.jsxs)(N.s,{"data-testid":"home",width:"100%",height:"100%",children:[(0,r.jsx)(nN(),{children:(0,r.jsx)("title",{children:"Gamma"})}),(0,r.jsxs)(N.s,{"data-testid":"doc-root-main",flex:"1",py:6,px:1,w:"100vw",bg:"gray.100",direction:"column",marginLeft:{base:"0"},minH:"var(--100vh)",transition:"margin .2s ease",children:[(0,r.jsx)(y.E,{height:"42px",w:"30%",mb:2}),(0,r.jsx)(y.E,{height:"24px",w:"100%",mb:2}),(0,r.jsx)(y.E,{height:"24px",w:"100%",mb:10}),(0,r.jsx)(N.s,{width:"100%",children:(0,r.jsx)(tC,{})})]})]});var nP=i(11821),nM=i(11403),nF=!0;let nK=e=>{let{templateCategories:t,inspirationCategories:i}=e,n=(0,nM.En)(),o=(0,s.wA)();(0,l.useEffect)(()=>{o((0,d.pE)({templateCategories:t})),o((0,d.PZ)({inspirationCategories:i}))},[t,i,o]),(0,c.a)(!0),(0,u.l)();let x=(0,a.hh)();return n&&x?(0,r.jsx)(nw,{},"home-v2"):(0,r.jsx)(nR,{},"home-skeleton")},nz=(0,o.h)((0,nP.M)(nK))},79536:(e,t,i)=>{"use strict";i.d(t,{e:()=>eu});var n=i(6029),r=i(47561),l=i(28144),s=i(94283),o=i(38451),a=i(3393),d=i(4501),c=i(49377),u=i(66425),x=i(40313),h=i(89696),p=i(19564),m=i(77650),j=i(55729),g=i(73867),f=i(74892),v=i(88586),b=i(88608),E=i(95889),y=i(79596),S=i(1069),_=i(58972),C=i(8972),A=i(20644),L=i(25938),O=i(35908),T=i(99492),I=i(55597),D=i(48621),k=i(80910),w=i(59426),B=i(67604),N=i(95695),R=i(91792);let P=(0,j.memo)(e=>{let{theme:t}=e,i=(0,R.iW)({theme:t}),r=t.name.replace(N.M8,"");return(0,n.jsxs)(y.W,{isLazy:!0,children:[(0,n.jsx)(S.I,{as:_.K,isRound:!0,size:"xs",variant:"ghost",colorScheme:"blackAlpha",icon:(0,n.jsx)(D.g,{icon:T.Dwc}),onClick:e=>e.stopPropagation(),children:(0,n.jsx)(p.x6,{id:"7L01XJ"})}),(0,n.jsx)(C.Z,{children:(0,n.jsxs)(A.c,{zIndex:"modal",onClick:e=>e.stopPropagation(),children:[(0,n.jsxs)(u.az,{px:4,py:0,maxWidth:"300px",children:[(0,n.jsx)(s.E,{noOfLines:3,children:r}),t.createdTime&&(0,n.jsx)(s.E,{fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,n.jsx)(p.x6,{id:"MXSt4t",values:{0:(0,w.A)((0,B.A)(t.createdTime),"PPP")}})}),t.createdBy&&(0,n.jsx)(k.Tz,{label:t.createdBy.email,children:(0,n.jsx)(s.E,{display:"inline-block",fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,n.jsx)(p.x6,{id:"t490IT",values:{0:t.createdBy.displayName}})})})]}),(0,n.jsx)(L.N,{}),(0,n.jsx)(O.D,{icon:(0,n.jsx)(D.g,{icon:I.ub2,fixedWidth:!0}),onClick:i,children:(0,n.jsx)(p.x6,{id:"yKu/3Y"})})]})})]})});var M=i(27250),F=i(18341),K=i(70006),z=i(58240),H=i(92699),U=i(91938),G=i(91496),W=i(42721);let Y=(0,j.memo)(e=>{let{onCustomizeThemeClick:t,onEditThemeClick:i}=e,{isGammaOrgUser:r}=(0,W.ur)(),l=r&&"production"!==U.$.APPLICATION_ENVIRONMENT;return(0,n.jsxs)(y.W,{isLazy:!0,children:[(0,n.jsx)(S.I,{as:_.K,isRound:!0,size:"xs",variant:"ghost",colorScheme:"blackAlpha",icon:(0,n.jsx)(D.g,{icon:T.Dwc}),onClick:e=>e.stopPropagation(),children:(0,n.jsx)(p.x6,{id:"7L01XJ"})}),(0,n.jsx)(C.Z,{children:(0,n.jsxs)(A.c,{zIndex:"modal",onClick:e=>e.stopPropagation(),children:[(0,n.jsx)(O.D,{icon:(0,n.jsx)(D.g,{icon:T.WSb,fixedWidth:!0}),onClick:t,children:(0,n.jsx)(p.x6,{id:"XZd6AM"})}),l&&(0,n.jsx)(O.D,{color:"orange.500",icon:(0,n.jsx)(u.az,{boxSize:"4",children:(0,n.jsx)(G.H,{})}),onClick:i,children:"Edit theme"}),(0,n.jsx)(L.N,{}),(0,n.jsx)(u.az,{px:4,py:0,maxW:56,children:(0,n.jsx)(s.E,{fontSize:"sm",color:"gray.600",children:(0,n.jsx)(p.x6,{id:"FV8ABd"})})})]})})]})});var V=i(44228),X=i(71262),Q=i(67039),$=i(33987),J=i(57470),q=i(86747),Z=i(88131),ee=i(3632),et=i(31445),ei=i(9298),en=i(7959),er=i(81278),el=i(99038),es=i(15342),eo=i(43634);let ea=e=>{let{theme:t,isOpen:i,onClose:r}=e,{asPath:l}=(0,er.useRouter)(),[o,a]=(0,j.useState)(),[d,c]=(0,j.useState)(),u=(0,es.GV)(eo.Jo),h=(0,R.n_)({theme:t,showLinkToDashboard:!!u}),{data:m,loading:g}=(0,v.eKT)({variables:{id:null==t?void 0:t.id},skip:!t||"new"===t.id});(0,j.useEffect)(()=>{var e,t;!g&&m&&((null==(e=m.theme)?void 0:e.docCount)&&a(m.theme.docCount),(null==(t=m.theme)?void 0:t.siteCount)&&c(m.theme.siteCount))},[g,m,a,c]);let f=(0,j.useMemo)(()=>{let e=0;return o&&o>0&&(e+=o),d&&d>0&&(e+=d),e},[o,d]);return(0,n.jsxs)(X.aF,{closeOnOverlayClick:!1,isOpen:i,onClose:r,size:"lg",children:[(0,n.jsx)(Q.m,{}),(0,n.jsxs)($.$,{children:[(0,n.jsx)(J.r,{children:(0,n.jsx)(p.x6,{id:"oh7Knm",values:{0:t.name}})}),(0,n.jsx)(q.c,{children:f>0?(0,n.jsxs)(s.E,{mb:2,children:[(0,n.jsx)(p.x6,{id:"uSopl9",values:{totalCount:f,GAMMA_ARTIFACT_PROPER_NOUN:el.TP,GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:el.Ix}})," ",(0,n.jsx)(p.x6,{id:"c+lbSJ",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:el.Ix}})," ","/#themes"!==l&&(0,n.jsx)(p.x6,{id:"kLomb7",components:{0:(0,n.jsx)(Z.N,{color:"trueblue.500",colorScheme:"trueblue",href:N.fr,textDecoration:"underline",isExternal:!0}),1:(0,n.jsx)(V.p,{mx:"2px"})}})]}):g?(0,n.jsx)(ee.E,{h:"1em",mb:2}):(0,n.jsx)(s.E,{mb:2,children:(0,n.jsx)(p.x6,{id:"KNTN0L",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:el.Ix}})})}),(0,n.jsx)(et.j,{children:(0,n.jsxs)(ei.e,{children:[(0,n.jsx)(x.$,{variant:"ghost",onClick:r,children:(0,n.jsx)(p.x6,{id:"dEgA5A"})}),(0,n.jsx)(x.$,{variant:"hazardous",onClick:()=>{h(),r()},children:(0,n.jsx)(p.x6,{id:"zck3yw"})})]})}),(0,n.jsx)(en.s,{})]})]})},ed=(0,j.memo)(e=>{let{theme:t,openThemeEditorWithThisTheme:i,onDuplicate:r,onShareLink:l,onArchiveThemeModalOpen:o,isArchiveThemeModalOpen:a,onArchiveThemeModalClose:d,hasCustomFonts:c}=e,{canMakeStandard:x,convertToStandard:h}=(0,R._k)(t);return(0,n.jsxs)(y.W,{isLazy:!0,children:[(0,n.jsx)(S.I,{as:_.K,isRound:!0,size:"xs",variant:"ghost",colorScheme:"blackAlpha",icon:(0,n.jsx)(D.g,{icon:T.Dwc}),onClick:e=>e.stopPropagation(),children:(0,n.jsx)(p.x6,{id:"7L01XJ"})}),(0,n.jsx)(C.Z,{children:(0,n.jsxs)(A.c,{zIndex:"modal",onClick:e=>e.stopPropagation(),children:[(0,n.jsxs)(u.az,{px:4,py:0,maxWidth:"300px",children:[(0,n.jsx)(s.E,{noOfLines:3,children:t.name}),t.createdTime&&(0,n.jsx)(s.E,{fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,n.jsx)(p.x6,{id:"MXSt4t",values:{0:(0,w.A)((0,B.A)(t.createdTime),"PPP")}})}),t.createdBy&&(0,n.jsx)(k.Tz,{label:t.createdBy.email,children:(0,n.jsx)(s.E,{display:"inline-block",fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,n.jsx)(p.x6,{id:"t490IT",values:{0:t.createdBy.displayName}})})})]}),(0,n.jsx)(L.N,{}),(0,n.jsx)(O.D,{icon:(0,n.jsx)(D.g,{icon:T.MT7,fixedWidth:!0}),onClick:i,children:(0,n.jsx)(p.x6,{id:"ePK91l"})}),(0,n.jsx)(O.D,{icon:(0,n.jsx)(D.g,{icon:T.$3n,fixedWidth:!0}),onClick:r,children:(0,n.jsx)(p.x6,{id:"euc6Ns"})}),(0,n.jsxs)(O.D,{icon:(0,n.jsx)(D.g,{icon:T.CQO,fixedWidth:!0}),onClick:l,children:[(0,n.jsx)(p.x6,{id:"RGCCrg"}),c&&(0,n.jsx)(s.E,{fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,n.jsx)(p.x6,{id:"A8cpC7"})})]}),(0,n.jsx)(L.N,{}),x&&(0,n.jsx)(O.D,{color:"orange.500",icon:(0,n.jsx)(u.az,{boxSize:"4",children:(0,n.jsx)(G.H,{})}),onClick:h,children:(0,n.jsx)(p.x6,{id:"thLYdn"})}),(0,n.jsx)(O.D,{color:"red.500",icon:(0,n.jsx)(D.g,{icon:T.Oh6,fixedWidth:!0}),onClick:o,children:(0,n.jsx)(p.x6,{id:"B495Gs"})})]})}),a&&(0,n.jsx)(C.Z,{children:(0,n.jsx)(ea,{theme:t,isOpen:!0,onClose:d})})]})}),ec=e=>{let{isChecked:t,name:i}=e;return(0,n.jsxs)(l.z,{spacing:1,alignItems:"flex-start",children:[t&&(0,n.jsx)(r.S,{w:3,h:"auto",me:1,mt:1,color:"trueblue.700"}),(0,n.jsx)(s.E,{fontSize:"sm",noOfLines:1,"data-testid":"theme-name",color:t?"trueblue.700":void 0,children:i})]})},eu=(0,j.memo)(e=>{var t,i,r,s;let{theme:y,isChecked:S=!1,variant:_="outline",onThemeClicked:C,disableEditing:A,hasCustomFonts:L=!1}=e,O=(0,E.st)(),T=(0,o.d)(),I="ghost"===_,D=(0,j.useRef)(null),k=(0,j.useCallback)(()=>{(0,H.vd)({theme:y})},[y]),w=(0,j.useCallback)(()=>{(0,H.L6)({theme:y})},[y]),{isOpen:B,onOpen:R,onClose:U}=(0,a.j)({id:"ArchiveThemeModalDisclosure"}),{user:G,currentWorkspace:W}=(0,F.ur)(),[V]=(0,v.hc)(),X=y.name.replace(N.M8,""),Q=(0,K.sx)({themeId:y.id}),{onCopy:$}=(0,d.i)(Q),J=(0,j.useCallback)(()=>{if(!G||!W)return;let{id:e,...t}=y;V({variables:{id:e},update:(e,t)=>{let{data:i}=t;(null==i?void 0:i.duplicateTheme)&&e.writeQuery({query:v.a83,variables:{workspaceId:y.workspaceId,archived:!1},data:{themes:[i.duplicateTheme]}})},optimisticResponse:{duplicateTheme:{id:"temp",__typename:"Theme",...t,name:"".concat(X," (copy)"),archived:!1,createdTime:new Date().toISOString(),updatedTime:new Date().toISOString()}}}).then(t=>{let{data:i}=t;i&&(null==O||O.track(E.VV.THEME_DUPLICATED,{theme_id:i.duplicateTheme.id,source_theme_id:e,name:X}),null==O||O.track(E.VV.THEME_CREATED,{theme_id:i.duplicateTheme.id,name:i.duplicateTheme.name,type:"duplicate"}),T({title:m.Ru._({id:"DvRoa4",values:{0:i.duplicateTheme.name}}),status:"success",duration:3e3,position:"top",isClosable:!0}),(0,H.vd)({theme:i.duplicateTheme}))}).catch(e=>{console.error("Couldn't duplicate theme ".concat(y.name," error: ").concat(e)),T({title:m.Ru._({id:"aOi88n",values:{err:e}}),status:"error",duration:3e3,position:"top",isClosable:!1})})},[G,W,y,V,X,O,T]),q=(0,j.useCallback)(()=>{if(!G||!W)return;let{name:e}=y;$(),T({title:(0,n.jsx)(p.x6,{id:"EfkecX",values:{name:e}}),description:(0,n.jsx)(p.x6,{id:"MXBeyi"}),status:"success",duration:5e3,position:"top",isClosable:!0})},[G,W,y,$,T]),Z=y.workspaceId&&!!(null==(t=y.createdBy)?void 0:t.displayName),ee=!!C,et=!k||A,{inViewport:ei,dimensions:en,ref:er}=(0,z.v)({dimensions:{width:50,height:Z?220:172}}),el=e=>{D.current=e,er(e)};if(!1===ei)return(0,n.jsxs)(c.s,{ref:el,bgColor:"white","data-theme-id":y.id,textAlign:"start",borderRadius:"md",outline:"none",minH:en?"".concat(en.height,"px"):"8em",minW:en?"".concat(en.width,"px"):"13em",direction:"column",p:2,sx:{contentVisibility:"auto",containIntrinsicSize:"13em"},children:[(0,n.jsx)(u.az,{minH:"8em",maxH:"8em",bg:"gray.300",backgroundImage:f.A.src,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}),(0,n.jsx)(u.az,{w:"100%",p:0,pt:1,children:(0,n.jsx)(ec,{name:X,isChecked:S})})]});let es="transparent";return es=S?"info.subtle.background":"white",(0,n.jsxs)(u.az,{ref:el,sx:{contentVisibility:"auto",containIntrinsicSize:"13em"},bgColor:es,textAlign:"start",tabIndex:ee?0:void 0,borderRadius:"md",transitionProperty:I?"common":"none",transitionDuration:"normal",outline:"none",onClick:()=>ee?null==C?void 0:C(y):void 0,onKeyPress:e=>{ee&&"Enter"===e.key&&(null==C||C(y))},_hover:ee?{shadow:I||S?void 0:"lg",bgColor:S?"trueblue.100":I?"trueblue.50":"gray.100"}:void 0,_focus:{boxShadow:S||!ee?void 0:"outline"},shadow:I?void 0:"md",p:2*!!I,"data-theme-id":y.id,"data-testid":S?"current-theme-preview":void 0,cursor:ee?"pointer":void 0,role:"group",position:"relative",children:[(0,n.jsx)(M.q,{theme:y,minH:"8em",maxH:"8em",children:S&&!A&&(0,n.jsx)(x.$,{opacity:0,_groupHover:{opacity:1},transitionProperty:"opacity",transitionDuration:"normal",position:"absolute",bottom:2,insetEnd:2,size:"sm",variant:"solid",onClick:y.workspaceId?k:w,children:y.workspaceId?(0,n.jsx)(p.x6,{id:"ePK91l"}):(0,n.jsx)(p.x6,{id:"srRMnJ"})})}),(0,n.jsxs)(c.s,{align:"baseline",mt:1,direction:"column",p:2*!I,children:[Z&&(0,n.jsx)(c.s,{my:2,children:(0,n.jsx)(ec,{name:X,isChecked:S})}),(0,n.jsxs)(l.z,{alignItems:"flex-start",w:"100%",children:[Z?(0,n.jsx)(g.S,{createdByYou:(null==(i=y.createdBy)?void 0:i.id)===(null==G?void 0:G.id),createdByName:null==(r=y.createdBy)?void 0:r.displayName,createdByProfileImageUrl:null==(s=y.createdBy)?void 0:s.profileImageUrl,timestampDescription:y.updatedTime&&(0,n.jsx)(p.x6,{id:"E1dtM3",values:{0:(0,b.Bo)(y.updatedTime)}})}):(0,n.jsx)(ec,{name:X,isChecked:S}),(0,n.jsx)(h.h,{}),et?null:y.workspaceId&&!y.archived?(0,n.jsx)(ed,{theme:y,openThemeEditorWithThisTheme:k,onDuplicate:J,onShareLink:q,onArchiveThemeModalOpen:R,isArchiveThemeModalOpen:B,onArchiveThemeModalClose:U,hasCustomFonts:L}):y.workspaceId&&!0===y.archived?(0,n.jsx)(P,{theme:y}):(0,n.jsx)(Y,{onCustomizeThemeClick:w,onEditThemeClick:k})]})]})]})});eu.displayName="ThemePreview"},82361:(e,t,i)=>{"use strict";i.d(t,{l:()=>x});var n=i(55685),r=i(8749),l=i(17383),s=i(6029),o=(0,r.R)(function(e,t){let{children:i,placeholder:r,className:o,...a}=e;return(0,s.jsxs)(l.B.select,{...a,ref:t,className:(0,n.cx)("chakra-select",o),children:[r&&(0,s.jsx)("option",{value:"",children:r}),i]})});o.displayName="SelectField";var a=i(70678),d=i(20462),c=i(96529),u=i(55729),x=(0,r.R)((e,t)=>{var i;let r=(0,d.o5)("Select",e),{rootProps:u,placeholder:x,icon:h,color:p,height:j,h:g,minH:f,minHeight:v,iconColor:b,iconSize:E,...y}=(0,c.MN)(e),[S,_]=function(e,t){let i={},n={};for(let[r,l]of Object.entries(e))t.includes(r)?i[r]=l:n[r]=l;return[i,n]}(y,c.GF),C=(0,a.t)(_),A={paddingEnd:"2rem",...r.field,_focus:{zIndex:"unset",...null==(i=r.field)?void 0:i._focus}};return(0,s.jsxs)(l.B.div,{className:"chakra-select__wrapper",__css:{width:"100%",height:"fit-content",position:"relative",color:p},...S,...u,children:[(0,s.jsx)(o,{ref:t,height:null!=g?g:j,minH:null!=f?f:v,placeholder:x,...C,__css:A,children:e.children}),(0,s.jsx)(m,{"data-disabled":(0,n.sE)(C.disabled),...(b||p)&&{color:b||p},__css:r.icon,...E&&{fontSize:E},children:h})]})});x.displayName="Select";var h=e=>(0,s.jsx)("svg",{viewBox:"0 0 24 24",...e,children:(0,s.jsx)("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),p=(0,l.B)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),m=e=>{let{children:t=(0,s.jsx)(h,{}),...i}=e,n=(0,u.cloneElement)(t,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return(0,s.jsx)(p,{...i,className:"chakra-select__icon-wrapper",children:(0,u.isValidElement)(t)?n:null})};m.displayName="SelectIcon"},84797:(e,t,i)=>{"use strict";var n,r,l=i(55729),s=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(l),o=function(){return(o=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:{};function d(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function c(e,t){return e(t={exports:{}},t.exports),t.exports}var u=c(function(e,t){var i;Object.defineProperty(t,"__esModule",{value:!0}),t.BLOCKS=void 0,(i=t.BLOCKS||(t.BLOCKS={})).DOCUMENT="document",i.PARAGRAPH="paragraph",i.HEADING_1="heading-1",i.HEADING_2="heading-2",i.HEADING_3="heading-3",i.HEADING_4="heading-4",i.HEADING_5="heading-5",i.HEADING_6="heading-6",i.OL_LIST="ordered-list",i.UL_LIST="unordered-list",i.LIST_ITEM="list-item",i.HR="hr",i.QUOTE="blockquote",i.EMBEDDED_ENTRY="embedded-entry-block",i.EMBEDDED_ASSET="embedded-asset-block",i.TABLE="table",i.TABLE_ROW="table-row",i.TABLE_CELL="table-cell",i.TABLE_HEADER_CELL="table-header-cell"});d(u),u.BLOCKS;var x=c(function(e,t){var i;Object.defineProperty(t,"__esModule",{value:!0}),t.INLINES=void 0,(i=t.INLINES||(t.INLINES={})).HYPERLINK="hyperlink",i.ENTRY_HYPERLINK="entry-hyperlink",i.ASSET_HYPERLINK="asset-hyperlink",i.EMBEDDED_ENTRY="embedded-entry-inline"});d(x),x.INLINES;var h=c(function(e,t){var i,n;Object.defineProperty(t,"__esModule",{value:!0}),(n=i||(i={})).BOLD="bold",n.ITALIC="italic",n.UNDERLINE="underline",n.CODE="code",t.default=i});d(h);var p=c(function(e,t){var i,n=a&&a.__spreadArray||function(e,t,i){if(i||2==arguments.length)for(var n,r=0,l=t.length;r<l;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.V1_NODE_TYPES=t.TEXT_CONTAINERS=t.HEADINGS=t.CONTAINERS=t.VOID_BLOCKS=t.TABLE_BLOCKS=t.LIST_ITEM_BLOCKS=t.TOP_LEVEL_BLOCKS=void 0,t.TOP_LEVEL_BLOCKS=[u.BLOCKS.PARAGRAPH,u.BLOCKS.HEADING_1,u.BLOCKS.HEADING_2,u.BLOCKS.HEADING_3,u.BLOCKS.HEADING_4,u.BLOCKS.HEADING_5,u.BLOCKS.HEADING_6,u.BLOCKS.OL_LIST,u.BLOCKS.UL_LIST,u.BLOCKS.HR,u.BLOCKS.QUOTE,u.BLOCKS.EMBEDDED_ENTRY,u.BLOCKS.EMBEDDED_ASSET,u.BLOCKS.TABLE],t.LIST_ITEM_BLOCKS=[u.BLOCKS.PARAGRAPH,u.BLOCKS.HEADING_1,u.BLOCKS.HEADING_2,u.BLOCKS.HEADING_3,u.BLOCKS.HEADING_4,u.BLOCKS.HEADING_5,u.BLOCKS.HEADING_6,u.BLOCKS.OL_LIST,u.BLOCKS.UL_LIST,u.BLOCKS.HR,u.BLOCKS.QUOTE,u.BLOCKS.EMBEDDED_ENTRY,u.BLOCKS.EMBEDDED_ASSET],t.TABLE_BLOCKS=[u.BLOCKS.TABLE,u.BLOCKS.TABLE_ROW,u.BLOCKS.TABLE_CELL,u.BLOCKS.TABLE_HEADER_CELL],t.VOID_BLOCKS=[u.BLOCKS.HR,u.BLOCKS.EMBEDDED_ENTRY,u.BLOCKS.EMBEDDED_ASSET],(i={})[u.BLOCKS.OL_LIST]=[u.BLOCKS.LIST_ITEM],i[u.BLOCKS.UL_LIST]=[u.BLOCKS.LIST_ITEM],i[u.BLOCKS.LIST_ITEM]=t.LIST_ITEM_BLOCKS,i[u.BLOCKS.QUOTE]=[u.BLOCKS.PARAGRAPH],i[u.BLOCKS.TABLE]=[u.BLOCKS.TABLE_ROW],i[u.BLOCKS.TABLE_ROW]=[u.BLOCKS.TABLE_CELL,u.BLOCKS.TABLE_HEADER_CELL],i[u.BLOCKS.TABLE_CELL]=[u.BLOCKS.PARAGRAPH],i[u.BLOCKS.TABLE_HEADER_CELL]=[u.BLOCKS.PARAGRAPH],t.CONTAINERS=i,t.HEADINGS=[u.BLOCKS.HEADING_1,u.BLOCKS.HEADING_2,u.BLOCKS.HEADING_3,u.BLOCKS.HEADING_4,u.BLOCKS.HEADING_5,u.BLOCKS.HEADING_6],t.TEXT_CONTAINERS=n([u.BLOCKS.PARAGRAPH],t.HEADINGS,!0),t.V1_NODE_TYPES=[u.BLOCKS.DOCUMENT,u.BLOCKS.PARAGRAPH,u.BLOCKS.HEADING_1,u.BLOCKS.HEADING_2,u.BLOCKS.HEADING_3,u.BLOCKS.HEADING_4,u.BLOCKS.HEADING_5,u.BLOCKS.HEADING_6,u.BLOCKS.OL_LIST,u.BLOCKS.UL_LIST,u.BLOCKS.LIST_ITEM,u.BLOCKS.HR,u.BLOCKS.QUOTE,u.BLOCKS.EMBEDDED_ENTRY,u.BLOCKS.EMBEDDED_ASSET,x.INLINES.HYPERLINK,x.INLINES.ENTRY_HYPERLINK,x.INLINES.ASSET_HYPERLINK,x.INLINES.EMBEDDED_ENTRY,"text"]});d(p),p.V1_NODE_TYPES,p.TEXT_CONTAINERS,p.HEADINGS,p.CONTAINERS,p.VOID_BLOCKS,p.TABLE_BLOCKS,p.LIST_ITEM_BLOCKS,p.TOP_LEVEL_BLOCKS;var m=c(function(e,t){Object.defineProperty(t,"__esModule",{value:!0})});d(m);var j=c(function(e,t){Object.defineProperty(t,"__esModule",{value:!0})});d(j);var g=c(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={nodeType:u.BLOCKS.DOCUMENT,data:{},content:[{nodeType:u.BLOCKS.PARAGRAPH,data:{},content:[{nodeType:"text",value:"",marks:[],data:{}}]}]}});d(g);var f=c(function(e,t){function i(e,t){for(var i=0,n=Object.keys(e);i<n.length;i++)if(t===e[n[i]])return!0;return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.isText=t.isBlock=t.isInline=void 0,t.isInline=function(e){return i(x.INLINES,e.nodeType)},t.isBlock=function(e){return i(u.BLOCKS,e.nodeType)},t.isText=function(e){return"text"===e.nodeType}});d(f),f.isText,f.isBlock,f.isInline;var v=c(function(e,t){var i=a&&a.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(t,i);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,r)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),n=a&&a.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=a&&a.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)},l=a&&a.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t},s=a&&a.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.helpers=t.EMPTY_DOCUMENT=t.MARKS=t.INLINES=t.BLOCKS=void 0,Object.defineProperty(t,"BLOCKS",{enumerable:!0,get:function(){return u.BLOCKS}}),Object.defineProperty(t,"INLINES",{enumerable:!0,get:function(){return x.INLINES}}),Object.defineProperty(t,"MARKS",{enumerable:!0,get:function(){return s(h).default}}),r(p,t),r(m,t),r(j,t),Object.defineProperty(t,"EMPTY_DOCUMENT",{enumerable:!0,get:function(){return s(g).default}}),t.helpers=l(f)});d(v);var b=v.helpers;v.EMPTY_DOCUMENT;var E=v.MARKS,y=v.INLINES,S=v.BLOCKS,_=((n={})[S.DOCUMENT]=function(e,t){return t},n[S.PARAGRAPH]=function(e,t){return s.createElement("p",null,t)},n[S.HEADING_1]=function(e,t){return s.createElement("h1",null,t)},n[S.HEADING_2]=function(e,t){return s.createElement("h2",null,t)},n[S.HEADING_3]=function(e,t){return s.createElement("h3",null,t)},n[S.HEADING_4]=function(e,t){return s.createElement("h4",null,t)},n[S.HEADING_5]=function(e,t){return s.createElement("h5",null,t)},n[S.HEADING_6]=function(e,t){return s.createElement("h6",null,t)},n[S.EMBEDDED_ENTRY]=function(e,t){return s.createElement("div",null,t)},n[S.UL_LIST]=function(e,t){return s.createElement("ul",null,t)},n[S.OL_LIST]=function(e,t){return s.createElement("ol",null,t)},n[S.LIST_ITEM]=function(e,t){return s.createElement("li",null,t)},n[S.QUOTE]=function(e,t){return s.createElement("blockquote",null,t)},n[S.HR]=function(){return s.createElement("hr",null)},n[S.TABLE]=function(e,t){return s.createElement("table",null,s.createElement("tbody",null,t))},n[S.TABLE_ROW]=function(e,t){return s.createElement("tr",null,t)},n[S.TABLE_HEADER_CELL]=function(e,t){return s.createElement("th",null,t)},n[S.TABLE_CELL]=function(e,t){return s.createElement("td",null,t)},n[y.ASSET_HYPERLINK]=function(e){return A(y.ASSET_HYPERLINK,e)},n[y.ENTRY_HYPERLINK]=function(e){return A(y.ENTRY_HYPERLINK,e)},n[y.EMBEDDED_ENTRY]=function(e){return A(y.EMBEDDED_ENTRY,e)},n[y.HYPERLINK]=function(e,t){return s.createElement("a",{href:e.data.uri},t)},n),C=((r={})[E.BOLD]=function(e){return s.createElement("b",null,e)},r[E.ITALIC]=function(e){return s.createElement("i",null,e)},r[E.UNDERLINE]=function(e){return s.createElement("u",null,e)},r[E.CODE]=function(e){return s.createElement("code",null,e)},r);function A(e,t){return s.createElement("span",{key:t.data.target.sys.id},"type: ",t.nodeType," id: ",t.data.target.sys.id)}t.i=function(e,t){return(void 0===t&&(t={}),e)?function e(t,i){var n=i.renderNode,r=i.renderMark,o=i.renderText;if(b.isText(t))return t.marks.reduce(function(e,t){return r[t.type]?r[t.type](e):e},o?o(t.value):t.value);var a,d=(a=t.content,a.map(function(t,n){var r;return r=e(t,i),l.isValidElement(r)&&null===r.key?l.cloneElement(r,{key:n}):r}));return t.nodeType&&n[t.nodeType]?n[t.nodeType](t,d):s.createElement(s.Fragment,null,d)}(e,{renderNode:o(o({},_),t.renderNode),renderMark:o(o({},C),t.renderMark),renderText:t.renderText}):null}},89115:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}},e=>{var t=t=>e(e.s=t);e.O(0,[2359,9235,883,8635,6953,1293,8213,394,521,7508,4909,4624,8375,7963,5088,7718,4003,1349,5582,9104,1403,9467,4616,1337,2569,1734,5614,4221,7898,8066,7996,6097,7461,4275,3883,1644,6773,7847,5172,347,1550,2726,6899,2915,208,636,6593,8792],()=>t(17703)),_N_E=e.O()}]);
//# sourceMappingURL=index-4cb747b79b174507.js.map